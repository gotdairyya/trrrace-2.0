require=function a(n,o,l){function u(e,t){if(!o[e]){if(!n[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(p)return p(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var s=o[e]={exports:{}};n[e][0].call(s.exports,function(t){return u(n[e][1][t]||t)},s,s.exports,a,n,o,l)}return o[e].exports}for(var p="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var s=function n(t){return t&&t.__esModule?t:{"default":t}}(t("./index"));function r(t,e,i){"function"!=typeof e||i||(i=e,e=undefined);var r=(0,s["default"])().setAsync(t,e);return"function"==typeof i?(r.then(i),undefined):r}i["default"]=r},{"./index":3}],2:[function(t,e,i){"use strict";function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.getIds=function r(){return this.data.map(function(t){return t.id})},i.format=function a(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return s.format.apply(void 0,[t,(0,n.clean)(this.data)].concat(i))},i.get=function y(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};(0,b.validateOutputOptions)(t);var e,i=Object.assign({},this.defaultOptions,this._options.output,t),r=i.type,s=g(i.style.split("-"),2),n=s[0],a=s[1],o="citation"===n?"bibliography":"csl"===n?"data":n,l="string"===r?"text":"json"===r?"object":r;switch(o){case"bibliography":var u=i.lang,p=i.append,c=i.prepend;e={template:a,lang:u,format:l,append:p,prepend:c};break;case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":e={type:l};break;default:throw new Error('Invalid style "'.concat(o,'"'))}var h=this.format(o,Object.assign(e,t._newOptions)),f=i.format;{if("real"!==f||"html"!==l||"undefined"==typeof document||"function"!=typeof document.createElement)return"string"===f&&"object"===d(h)?JSON.stringify(h):h;var m=document.createElement("div");return m.innerHTML=h,m.firstChild}};var b=t("./static"),s=t("../plugins/output"),n=t("../plugins/input/csl")},{"../plugins/input/csl":26,"../plugins/output":34,"./static":8}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var r=p(t("./log")),s=p(t("./options")),n=p(t("./set")),a=p(t("./sort")),o=p(t("./get")),l=p(t("./static"));function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function p(t){if(t&&t.__esModule)return t;var e=u();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}function c(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};return this instanceof c?(this._options=e,this.log=[],this.data=[],this.set(t,e),this.options(e),this.save(),this):new c(t,e)}Object.assign(c.prototype,r,s,n,a,o),c.prototype[Symbol.iterator]=regeneratorRuntime.mark(function f(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.data,"t0",1);case 1:case"end":return t.stop()}},f,this)}),Object.assign(c,l);var h=c;i["default"]=h},{"./get":2,"./log":4,"./options":5,"./set":6,"./sort":7,"./static":8}],4:[function(t,e,i){"use strict";function n(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.save=i.undo=i.retrieveLastVersion=i.retrieveVersion=i.currentVersion=void 0;var a=function p(t){return t&&t.__esModule?t:{"default":t}}(t("./index"));var r=function r(){return this.log.length};i.currentVersion=r;var o=function o(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:1;if(t<=0||t>this.currentVersion())return null;var e=n(this.log[t-1],2),i=e[0],r=e[1],s=new a["default"](JSON.parse(i),JSON.parse(r));return s.log=this.log.slice(0,t),s};i.retrieveVersion=o;var s=function s(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:1;return this.retrieveVersion(this.currentVersion()-t)};i.undo=s;var l=function l(){return this.retrieveVersion(this.currentVersion())};i.retrieveLastVersion=l;var u=function u(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this};i.save=u},{"./index":3}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.defaultOptions=i.options=void 0;var r=t("./validate");i.defaultOptions={format:"real",type:"json",style:"csl",lang:"en-US"};var s=function s(t,e){return(0,r.validateOutputOptions)(t),e&&this.save(),Object.assign(this._options,t),this};i.options=s},{"./validate":9}],6:[function(t,e,i){"use strict";function l(t,e,i,r,s,n,a){try{var o=t[n](a),l=o.value}catch(u){return void i(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function r(o){return function(){var t=this,a=arguments;return new Promise(function(e,i){var r=o.apply(t,a);function s(t){l(r,e,i,s,n,"next",t)}function n(t){l(r,e,i,s,n,"throw",t)}s(undefined)})}}function o(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.reset=i.setAsync=i.set=i.addAsync=i.add=void 0;var u=t("../plugins/input/"),p=function d(t){return t&&t.__esModule?t:{"default":t}}(t("../util/fetchId"));var n=function n(t){var e,i=this,r=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},s=2<arguments.length&&arguments[2]!==undefined&&arguments[2];return!0!==r&&!0!==s||this.save(),(e=this.data).push.apply(e,o((0,u.chain)(t,r))),this.data.filter(function(t){return!t.hasOwnProperty("id")}).forEach(function(t){t.id=(0,p["default"])(i.getIds(),"temp_id_")}),this};i.add=n;var s,a=(s=r(regeneratorRuntime.mark(function g(e){var i,r,s,n=this,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=1<a.length&&a[1]!==undefined?a[1]:{},s=2<a.length&&a[2]!==undefined&&a[2],!0!==r&&!0!==s||this.save(),t.t0=(i=this.data).push,t.t1=i,t.t2=o,t.next=8,(0,u.chainAsync)(e,r);case 8:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4),this.data.filter(function(t){return!t.hasOwnProperty("id")}).forEach(function(t){t.id=(0,p["default"])(n.getIds(),"temp_id_")}),t.abrupt("return",this);case 13:case"end":return t.stop()}},g,this)})),function(t){return s.apply(this,arguments)});i.addAsync=a;var c=function c(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=2<arguments.length&&arguments[2]!==undefined&&arguments[2];return!0!==e&&!0!==i||this.save(),this.data=[],"boolean"!=typeof e?this.add(t,e):this.add(t)};i.set=c;var h,f=(h=r(regeneratorRuntime.mark(function b(e){var i,r,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=1<s.length&&s[1]!==undefined?s[1]:{},r=2<s.length&&s[2]!==undefined&&s[2],!0!==i&&!0!==r||this.save(),this.data=[],t.abrupt("return","boolean"!=typeof i?this.addAsync(e,i):this.addAsync(e));case 5:case"end":return t.stop()}},b,this)})),function(t){return h.apply(this,arguments)});i.setAsync=f;var m=function m(t){return t&&this.save(),this.data=[],this._options={},this};i.reset=m},{"../plugins/input/":30,"../util/fetchId":37}],7:[function(t,e,i){"use strict";function r(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.sort=void 0;var s=t("../plugin-common/output/label"),n=t("@citation-js/name"),a=function a(t,e){var i=(2<arguments.length&&arguments[2]!==undefined?arguments[2]:"label"===e)?(0,s.getLabel)(t):t[e];switch(e){case"author":case"editor":return i.map(function(t){return t.literal||t.family||(0,n.format)(t)});case"accessed":case"issued":return i["date-parts"][0];case"page":return i.split("-").map(function(t){return parseInt(t)});case"edition":case"issue":case"volume":return i=parseInt(i),isNaN(i)?-Infinity:i;default:return i||-Infinity}},o=function o(t,e,i){var r=3<arguments.length&&arguments[3]!==undefined?arguments[3]:/^!/.test(i);i=i.replace(/^!/,"");var s=a(t,i),n=a(e,i);return(r?-1:1)*(n<s?1:s<n?-1:0)},l=function l(){for(var t=arguments.length,s=new Array(t),e=0;e<t;e++)s[e]=arguments[e];return function(t,e){for(var i=s.slice(),r=0;!r&&i.length;)r=o(t,e,i.shift());return r}},u=function u(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:[];return(1<arguments.length?arguments[1]:undefined)&&this.save(),this.data.sort("function"==typeof t?t:l.apply(void 0,r(t).concat(["label"]))),this};i.sort=u},{"../plugin-common/output/label":21,"@citation-js/name":47}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={async:!0};Object.defineProperty(i,"async",{enumerable:!0,get:function(){return s["default"]}});var s=function a(t){return t&&t.__esModule?t:{"default":t}}(t("./async")),n=t("./validate");Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(i,t,{enumerable:!0,get:function(){return n[t]}}))})},{"./async":1,"./validate":9}],9:[function(t,e,i){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.validateOutputOptions=r,i.validateOptions=function s(t){if("object"!==o(t))throw new TypeError("Options should be an object");if(t.output)r(t.output);else{if(t.maxChainLength&&"number"!=typeof t.maxChainLength)throw new TypeError("Option maxChainLength should be a number");if(t.forceType&&"string"!=typeof t.forceType)throw new TypeError("Option forceType should be a string");if(null!=t.generateGraph&&"boolean"!=typeof t.generateGraph)throw new TypeError("Option generateGraph should be a boolean");if(null!=t.strict&&"boolean"!=typeof t.strict)throw new TypeError("Option strict should be a boolean");if(null!=t.target&&"string"!=typeof t.target)throw new TypeError("Option target should be a boolean")}return!0};var l=["real","string"],u=["json","html","string","rtf"],p=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],c=["string","function"];function r(t){if("object"!==o(t))throw new TypeError("Options not an object!");var e=t.format,i=t.type,r=t.style,s=t.lang,n=t.append,a=t.prepend;if(e&&!l.includes(e))throw new TypeError('Option format ("'.concat(e,'") should be one of: ').concat(l));if(i&&!u.includes(i))throw new TypeError('Option type ("'.concat(i,'") should be one of: ').concat(u));if(r&&!p.includes(r)&&!/^citation/.test(r))throw new TypeError('Option style ("'.concat(r,'") should be one of: ').concat(p));if(s&&"string"!=typeof s)throw new TypeError("Option lang should be a string, but is a ".concat(o(s)));if(a&&!c.includes(o(a)))throw new TypeError("Option prepend should be a string or a function, but is a ".concat(o(a)));if(n&&!c.includes(o(n)))throw new TypeError("Option append should be a string or a function, but is a ".concat(o(n)));if(/^citation/.test(r)&&"json"===i)throw new Error("Combination type/style of json/citation-* is not valid: ".concat(i,"/").concat(r));return!0}},{}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Cite",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(i,"logger",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return o.version}}),i.util=i.plugins=void 0;var r=p(t("./Cite/")),s=u(t("./plugins/"));i.plugins=s;var n=u(t("./util/"));i.util=n;var a=p(t("./logger")),o=t("../package.json");function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t){if(t&&t.__esModule)return t;var e=l();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}function p(t){return t&&t.__esModule?t:{"default":t}}t("./plugin-common")},{"../package.json":43,"./Cite/":3,"./logger":11,"./plugin-common":12,"./plugins/":24,"./util/":39}],11:[function(t,e,c){(function(t){"use strict";function s(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n={_output:function(t,e,i){var r;this._log.push(e,i),this._levels.indexOf(t)<this._levels.indexOf(this.level)||(r=this._console).log.apply(r,[e].concat(s(i)))},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"},e=!0,i=!1,r=undefined;try{for(var a,o=function o(){var s=a.value;n[s]=function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return n._output(s,t,i)}},l=n._levels[Symbol.iterator]();!(e=(a=l.next()).done);e=!0)o()}catch(p){i=!0,r=p}finally{try{e||null==l["return"]||l["return"]()}finally{if(i)throw r}}"function"==typeof console.Console?n._console=new console.Console(t.stderr):n._console=console;var u=n;c["default"]=u}).call(this,t("_process"))},{_process:466}],12:[function(t,e,i){"use strict";var r=function o(t){if(t&&t.__esModule)return t;var e=a();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}i["default"]=t,e&&e.set(t,i);return i}(t("../plugins")),s=t("./input/"),n=function l(t){return t&&t.__esModule?t:{"default":t}}(t("./output/"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}r.add(s.ref,{input:s.formats,output:n["default"]})},{"../plugins":24,"./input/":15,"./output/":19}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parse=void 0;var r=function r(){return[]};i.parse=r},{}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parse=function r(t){return t.value||t.textContent}},{}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.formats=i.parsers=i.ref=void 0;var r=u(t("./empty")),s=u(t("./url")),n=u(t("./json")),a=u(t("./jquery")),o=u(t("./html"));function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t){if(t&&t.__esModule)return t;var e=l();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}i.ref="@else";var p={empty:r,url:s,json:n,jquery:a,html:o};i.parsers=p;var c={"@empty/text":{parse:r.parse,parseType:{dataType:"String",predicate:function(t){return""===t}}},"@empty/whitespace+text":{parse:r.parse,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:r.parse,parseType:{dataType:"Primitive",predicate:function(t){return null==t}}},"@else/json":{parse:n.parse,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:a.parse,parseType:{dataType:"ComplexObject",predicate:function(t){return"undefined"!=typeof jQuery&&t instanceof jQuery}}},"@else/html":{parse:o.parse,parseType:{dataType:"ComplexObject",predicate:function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}}}};i.formats=c},{"./empty":13,"./html":14,"./jquery":16,"./json":17,"./url":18}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parse=function r(t){return t.val()||t.text()||t.html()}},{}],17:[function(t,e,i){"use strict";function n(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=void 0;var r=function s(t){return t&&t.__esModule?t:{"default":t}}(t("../../logger"));var a=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']],o=function o(s){if("string"!=typeof s)return JSON.parse(s);try{return JSON.parse(s)}catch(t){return r["default"].debug("[plugin-common]","Invalid JSON, switching to experimental parser"),a.forEach(function(t){var e=n(t,2),i=e[0],r=e[1];s=s.replace(i,r)}),JSON.parse(s)}};i["default"]=i.parse=o},{"../../logger":11}],18:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return r.fetchFile}}),Object.defineProperty(i,"parseAsync",{enumerable:!0,get:function(){return r.fetchFileAsync}});var r=t("../../util/")},{"../../util/":39}],19:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var r=n(t("./json")),s=n(t("./label"));function n(t){return t&&t.__esModule?t:{"default":t}}var a=Object.assign({},r["default"],s["default"]);i["default"]=a},{"./json":20,"./label":21}],20:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.getJsonWrapper=function m(t){return h(t,n.dict.get("html"))},i["default"]=void 0;var n=s(t("../../plugins/")),a=s(t("../../util/")),o=function d(t){return t&&t.__esModule?t:{"default":t}}(t("../../logger"));function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function s(t){if(t&&t.__esModule)return t;var e=l();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}var u=function u(t,e,i){return t+(e<i.length-1?",":"")},p=function p(e,i){var t,r=Array.isArray(e);return t=(t=r?e.map(function(t){return c(t,i)}):Object.keys(e).filter(function(t){return JSON.stringify(e[t])}).map(function(t){return'"'.concat(t,'": ').concat(c(e[t],i))})).map(u).map(function(t){return i.listItem.join(t)}),t=i.list.join(t.join("")),r?"[".concat(t,"]"):"{".concat(t,"}")},c=function c(t,e){return"object"===r(t)&&null!==t?0===t.length?"[]":0===Object.keys(t).length?"{}":p(t,e):JSON.stringify(t)},h=function h(t,e){var i=t.map(function(t){return p(t,e)});return i=(i=i.map(u).map(function(t){return e.entry.join(t)})).join(""),e.bibliographyContainer.join("[".concat(i,"]"))};var f={data:function(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=e.type,r=e.format,s=void 0===r?i||"text":r;return"object"===s?a.deepCopy(t):"text"===s?JSON.stringify(t,null,2):(o["default"].warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),h(t,n.dict.get(s)))},ndjson:function(t){return t.map(function(t){return JSON.stringify(t)}).join("\n")}};i["default"]=f},{"../../logger":11,"../../plugins/":24,"../../util/":39}],21:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.getLabel=void 0;var r=function r(t){if("citation-label"in t)return t["citation-label"];var e="";return t.author&&(e+=t.author[0].family||t.author[0].literal),t.issued&&t.issued["date-parts"]&&t.issued["date-parts"][0]&&(e+=t.issued["date-parts"][0][0]),t["year-suffix"]?e+=t["year-suffix"]:t.title&&(e+=t.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),e};i.getLabel=r;var s={label:function(t){return t.reduce(function(t,e){return t[e.id]=r(e),t},{})}};i["default"]=s},{}],22:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.list=i.remove=i.has=i.get=i.add=void 0;var r={},s=function s(t,e){r[t]=e};i.add=s;var n=function n(t){return r[t]};i.get=n;var a=function a(t){return r.hasOwnProperty(t)};i.has=a;var o=function o(t){delete r[t]};i.remove=o;var l=function l(){return Object.keys(r)};i.list=l},{}],23:[function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.textDict=i.htmlDict=i.get=i.list=i.has=i.remove=i.add=i.register=void 0;var r=function h(t){return t&&t.__esModule?t:{"default":t}}(t("../util/register"));var n=function n(t,e){if("string"!=typeof t)throw new TypeError("Invalid dict name, expected string, got ".concat(s(t)));if("object"!==s(e))throw new TypeError("Invalid dict, expected object, got ".concat(s(e)));for(var i in e){var r=e[i];if(!Array.isArray(r)||r.some(function(t){return"string"!=typeof t}))throw new TypeError('Invalid dict entry "'.concat(i,'", expected array of strings'))}},a=new r["default"]({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}});i.register=a;var o=function o(t,e){n(t,e),a.set(t,e)};i.add=o;var l=function l(t){a.remove(t)};i.remove=l;var u=function u(t){return a.has(t)};i.has=u;var p=function p(){return a.list()};i.list=p;var c=function c(t){if(!a.has(t))throw new Error('Dict "'.concat(t,'" unavailable'));return a.get(t)};i.get=c;i.htmlDict={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"};i.textDict={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"}},{"../util/register":40}],24:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.config=i.dict=i.output=i.input=i.list=i.has=i.remove=i.add=void 0;var r=l(t("./input/"));i.input=r;var s=l(t("./output"));i.output=s;var n=l(t("./dict"));i.dict=n;var a=l(t("./config"));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function l(t){if(t&&t.__esModule)return t;var e=o();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}var c={input:r,output:s,dict:n,config:i.config=a},h={},f=function f(t){var e,i,r,s=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},n=h[t]={};for(var a in s)if("config"!==a){var o=n[a]={},l=s[a];for(var u in l){var p=l[u];o[u]=!0,c[a].add(u,p)}}else n.config=(e={},i=t,r=s.config,i in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e),c.config.add(t,s.config)};i.add=f;var u=function u(t){var e=h[t];for(var i in e){var r=e[i];for(var s in r)c[i].remove(s)}delete h[t]};i.remove=u;var p=function p(t){return t in h};i.has=p;var m=function m(){return Object.keys(h)};i.list=m},{"./config":22,"./dict":23,"./input/":30,"./output":34}],25:[function(t,e,i){"use strict";function l(t,e,i,r,s,n,a){try{var o=t[n](a),l=o.value}catch(u){return void i(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function r(o){return function(){var t=this,a=arguments;return new Promise(function(e,i){var r=o.apply(t,a);function s(t){l(r,e,i,s,n,"next",t)}function n(t){l(r,e,i,s,n,"throw",t)}s(undefined)})}}function a(t,e,i){return(a=function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var s=new(Function.bind.apply(t,r));return i&&n(s,i.prototype),s}).apply(null,arguments)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(i,"__esModule",{value:!0}),i.chainLinkAsync=i.chainAsync=i.chainLink=i.chain=void 0;var u=d(t("../../util/deepCopy")),p=d(t("../../logger")),c=t("./register"),h=t("./type"),f=t("./data"),m=t("./graph");function d(t){return t&&t.__esModule?t:{"default":t}}var g=(function E(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}(b,[{key:"iterate",value:function(){if(0!==this.iteration){var t=(0,c.get)(this.type);t&&t.outputs?this.type=t.outputs:this.type=(0,h.type)(this.data),this.graph.push({type:this.type})}return!this.error&&this.type!==this.options.target&&(this.iteration>=this.options.maxChainLength?(this.error=new RangeError("Max. number of parsing iterations reached (".concat(function e(t){return t.reduce(function(t,e){var i=t[t.length-1];return i&&i.type===e.type?i.count=i.count+1||2:t.push(e),t},[]).map(function(t){return(1<t.count?t.count+"x ":"")+t.type}).join(" -> ")}(this.graph),")")),!1):(this.iteration++,!0))}},{key:"end",value:function(){var e=this;if(this.error){if(p["default"].error("[core]",this.error.message),!1!==this.options.strict)throw this.error;return[]}return"@csl/list+object"===this.options.target?this.data.map(this.options.generateGraph?function(t){return(0,m.applyGraph)(t,e.graph)}:m.removeGraph):this.data}}]),b);function b(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};!function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),this.options=Object.assign({generateGraph:!0,forceType:(0,h.type)(t),maxChainLength:10,strict:!0,target:"@csl/list+object"},e),this.type=this.options.forceType,this.data="object"===s(t)?(0,u["default"])(t):t,this.graph=[{type:this.type,data:t}],this.iteration=0}var y=function y(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var y=a(g,e);y.iterate();)try{y.data=(0,f.data)(y.data,y.type)}catch(r){y.error=r}return y.end()};i.chain=y;var v=function v(t){var e=(0,h.type)(t),i=e.match(/array|object/)?(0,u["default"])(t):t;return(0,f.data)(i,e)};i.chainLink=v;var _,x=(_=r(regeneratorRuntime.mark(function O(){var e,i,r,s,n=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=n.length,i=new Array(e),r=0;r<e;r++)i[r]=n[r];s=a(g,i);case 2:if(s.iterate())return t.next=5,(0,f.dataAsync)(s.data,s.type)["catch"](function(t){s.error=t});t.next=8;break;case 5:s.data=t.sent,t.next=2;break;case 8:return t.abrupt("return",s.end());case 9:case"end":return t.stop()}},O)})),function(){return _.apply(this,arguments)});i.chainAsync=x;var w,A=(w=r(regeneratorRuntime.mark(function T(e){var i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,h.type)(e),r=i.match(/array|object/)?(0,u["default"])(e):e,t.abrupt("return",(0,f.dataAsync)(r,i));case 3:case"end":return t.stop()}},T)})),function(t){return w.apply(this,arguments)});i.chainLinkAsync=A},{"../../logger":11,"../../util/deepCopy":35,"./data":27,"./graph":29,"./register":32,"./type":33}],26:[function(t,e,i){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.clean=void 0;var r=t("@citation-js/name");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s={author:2,"collection-editor":2,composer:2,"container-author":2,editor:2,"editorial-director":2,director:2,interviewer:2,illustrator:2,"original-author":2,"reviewed-author":2,recipient:2,translator:2,accessed:3,container:3,"event-date":3,issued:3,"original-date":3,submitted:3,categories:"object",id:["string","number"],type:"string",language:"string",journalAbbreviation:"string",shortTitle:"string","abstract":"string",annote:"string",archive:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",DOI:"string",edition:["string","number"],event:"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string",PMCID:"string",PMID:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string",scale:"string",section:"string",source:"string",status:"string",title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"year-suffix":"string"},n=function n(t,e){return"object"===a(t)&&null!==t&&(t.literal||t.given||t.family)?t:e?"string"==typeof t?(0,r.parse)(t):void 0:undefined},u=function u(t,e){if(t instanceof Array){var i=t.map(function(t){return n(t,e)}).filter(Boolean);return i.length?i:undefined}},p=function p(t,e){return t.every(function(t){return"number"==typeof t})?t:!e||t.some(function(t){return isNaN(parseInt(t))})?undefined:t.map(function(t){return parseInt(t)})},c=function c(t,e){var i="date-parts";if("object"!==a(t)||null===t)return undefined;if(t[i]instanceof Array&&t[i].every(function(t){return t instanceof Array})){var r=t[i].map(function(t){return p(t,e)}).filter(Boolean);return r.length?function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(i,!0).forEach(function(t){l(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},t,{"date-parts":r}):undefined}if(t instanceof Array&&t.every(function(t){return t[i]instanceof Array})){var s=t.map(function(t){return p(t[i],e)}).filter(Boolean);return s.length?{"date-parts":s}:undefined}return"literal"in t||"raw"in t?t:void 0},h=function h(t,e,i){var r=[].concat(s[t]);switch(s[t]){case 1:return n(e,i);case 2:return u(e,i);case 3:return c(e,i)}if(/^_/.test(t))return e;if(i){if("string"==typeof e&&r.includes("number")&&!isNaN(+e))return parseFloat(e);if("number"==typeof e&&r.includes("string")&&!r.includes("number"))return e.toString();if(Array.isArray(e)&&e.length)return h(t,e[0],i)}return r.includes(a(e))?e:void 0},f=function f(t){var s=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1];return t.map(function(t){var e={};for(var i in t){var r=h(i,t[i],s);r!==undefined&&(e[i]=r)}return e})};i.clean=f},{"@citation-js/name":47}],27:[function(t,e,i){"use strict";function l(t,e,i,r,s,n,a){try{var o=t[n](a),l=o.value}catch(u){return void i(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function r(o){return function(){var t=this,a=arguments;return new Promise(function(e,i){var r=o.apply(t,a);function s(t){l(r,e,i,s,n,"next",t)}function n(t){l(r,e,i,s,n,"throw",t)}s(undefined)})}}function s(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.listDataParser=i.removeDataParser=i.hasDataParser=i.addDataParser=i.dataAsync=i.data=void 0;var n,a=t("./chain"),o=function o(t){var e;return(e=[]).concat.apply(e,s(t))},u={},p={},c={"@csl/object":function(t){return[t]},"@csl/list+object":function(t){return t},"@else/list+object":function(t){return o(t.map(a.chain))},"@invalid":function(){throw new Error("This format is not supported or recognized")}},h={"@else/list+object":(n=r(regeneratorRuntime.mark(function _(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o,t.next=3,Promise.all(e.map(a.chainAsync));case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},_)})),function x(t){return n.apply(this,arguments)})},f=function f(t,e){if(u.hasOwnProperty(e))return u[e](t);if(c.hasOwnProperty(e))return c[e](t);throw new TypeError("No synchronous parser found for ".concat(e))};i.data=f;var m,d=(m=r(regeneratorRuntime.mark(function w(e,i){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(p.hasOwnProperty(i))return t.abrupt("return",p[i](e));t.next=4;break;case 4:if(h.hasOwnProperty(i))return t.abrupt("return",h[i](e));t.next=8;break;case 8:if(b(i,!1))return t.abrupt("return",f(e,i));t.next=12;break;case 12:throw new TypeError("No parser found for ".concat(i));case 13:case"end":return t.stop()}},w)})),function(t,e){return m.apply(this,arguments)});i.dataAsync=d;var g=function g(t,e){var i=e.parser;e.async?p[t]=i:u[t]=i};i.addDataParser=g;var b=function b(t,e){return e?p[t]||h[t]:u[t]||c[t]};i.hasDataParser=b;var y=function y(t,e){delete(e?p:u)[t]};i.removeDataParser=y;var v=function v(t){return Object.keys(t?p:u)};i.listDataParser=v},{"./chain":25}],28:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.dataTypeOf=i.typeOf=void 0;var s=function s(t){switch(t){case undefined:return"Undefined";case null:return"Null";default:return t.constructor.name}};i.typeOf=s;var n=function n(t){switch(r(t)){case"string":return"String";case"object":if(Array.isArray(t))return"Array";if("Object"===s(t))return"SimpleObject";if("Null"!==s(t))return"ComplexObject";default:return"Primitive"}};i.dataTypeOf=n},{}],29:[function(t,e,i){"use strict";function r(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.removeGraph=i.applyGraph=void 0;var s=function s(t,e){if(t._graph){var i=e.findIndex(function(t){return"@else/list+object"===t.type});-1!==i&&e.splice.apply(e,[i+1,0].concat(r(t._graph.slice(0,-1))))}return t._graph=e,t};i.applyGraph=s;var n=function n(t){return delete t._graph,t};i.removeGraph=n},{}],30:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={util:!0};i.util=void 0;var s=f(t("./dataType")),n=f(t("./graph")),a=f(t("./parser")),o=f(t("./csl")),l=t("./register");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(i,t,{enumerable:!0,get:function(){return l[t]}}))});var u=t("./chain");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(i,t,{enumerable:!0,get:function(){return u[t]}}))});var p=t("./type");Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(i,t,{enumerable:!0,get:function(){return p[t]}}))});var c=t("./data");function h(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function f(t){if(t&&t.__esModule)return t;var e=h();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(i,t,{enumerable:!0,get:function(){return c[t]}}))});var m=Object.assign({},s,n,a,o);i.util=m},{"./chain":25,"./csl":26,"./data":27,"./dataType":28,"./graph":29,"./parser":31,"./register":32,"./type":33}],31:[function(t,e,i){"use strict";function r(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}Object.defineProperty(i,"__esModule",{value:!0}),i.FormatParser=i.DataParser=i.TypeParser=void 0;var l=t("./type");var u=(o(p,[{key:"validateDataType",value:function(){var t=this.data.dataType;if(t&&!this.validDataTypes.includes(t))throw new RangeError("dataType was ".concat(t,"; expected one of ").concat(this.validDataTypes))}},{key:"validateParseType",value:function(){var t=this.data.predicate;if(t&&!(t instanceof RegExp||"function"==typeof t))throw new TypeError("predicate was ".concat(s(t),"; expected RegExp or function"))}},{key:"validateTokenList",value:function(){var t=this.data.tokenList;if(t&&"object"!==s(t))throw new TypeError("tokenList was ".concat(s(t),"; expected object or RegExp"))}},{key:"validatePropertyConstraint",value:function(){var t=this.data.propertyConstraint;if(t&&"object"!==s(t))throw new TypeError("propertyConstraint was ".concat(s(t),"; expected array or object"))}},{key:"validateElementConstraint",value:function(){var t=this.data.elementConstraint;if(t&&"string"!=typeof t)throw new TypeError("elementConstraint was ".concat(s(t),"; expected string"))}},{key:"validateExtends",value:function(){var t=this.data["extends"];if(t&&"string"!=typeof t)throw new TypeError("extends was ".concat(s(t),"; expected string"))}},{key:"validate",value:function(){if(null===this.data||"object"!==s(this.data))throw new TypeError("typeParser was ".concat(s(this.data),"; expected object"));this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}},{key:"parseTokenList",value:function(){var t=this.data.tokenList;if(!t)return[];t instanceof RegExp&&(t={token:t});var e=t,i=e.token,r=e.split,s=void 0===r?/\s+/:r,n=e.trim,a=void 0===n||n,o=e.every,l=function l(t){return a?t.trim():t},u=void 0===o||o?"every":"some";return[function p(t){return l(t).split(s)[u](function(t){return i.test(t)})}]}},{key:"parsePropertyConstraint",value:function(){return[].concat(this.data.propertyConstraint||[]).map(function(t){var i=t.props,e=t.match,r=void 0===e?"every":e,s=t.value;switch(i=[].concat(i),r){case"every":return function(e){return i.every(function(t){return t in e&&(!s||s(e[t]))})};case"any":case"some":return function(e){return i.some(function(t){return t in e&&(!s||s(e[t]))})};case"none":return function(e){return!i.some(function(t){return t in e&&(!s||s(e[t]))})}}})}},{key:"parseElementConstraint",value:function(){var e=this.data.elementConstraint;return e?[function(t){return t.every(function(t){return(0,l.type)(t)===e})}]:[]}},{key:"parsePredicate",value:function(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}},{key:"getCombinedPredicate",value:function(){var t=[].concat(r(this.parsePredicate()),r(this.parseTokenList()),r(this.parsePropertyConstraint()),r(this.parseElementConstraint()));return 0===t.length?function(){return!0}:1===t.length?t[0]:function(e){return t.every(function(t){return t(e)})}}},{key:"getDataType",value:function(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp?"String":this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}},{key:"dataType",get:function(){return this.getDataType()}},{key:"predicate",get:function(){return this.getCombinedPredicate()}},{key:"extends",get:function(){return this.data["extends"]}}]),p);function p(t){n(this,p),function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}(this,"validDataTypes",["String","Array","SimpleObject","ComplexObject","Primitive"]),this.data=t}i.TypeParser=u;var c=(o(h,[{key:"validate",value:function(){var t=this.parser;if("function"!=typeof t)throw new TypeError("parser was ".concat(s(t),"; expected function"))}}]),h);function h(t){var e=(1<arguments.length&&arguments[1]!==undefined?arguments[1]:{}).async;n(this,h),this.parser=t,this.async=e}i.DataParser=c;var f=(o(m,[{key:"validateFormat",value:function(){var t=this.format;if(!l.typeMatcher.test(t))throw new TypeError('format name was "'.concat(t,"\"; didn't match expected pattern"))}},{key:"validate",value:function(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}]),m);function m(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};n(this,m),this.format=t,e.parseType&&(this.typeParser=new u(e.parseType)),e.parse&&(this.dataParser=new c(e.parse,{async:!1})),e.parseAsync&&(this.asyncDataParser=new c(e.parseAsync,{async:!0}))}i.FormatParser=f},{"./type":33}],32:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.list=i.has=i.remove=i.get=i.add=void 0;var s=t("./parser"),n=t("./type"),a=t("./data"),o={},l=function l(t,e){var i=new s.FormatParser(t,e);i.validate();var r=o[t]||(o[t]={});i.typeParser&&((0,n.addTypeParser)(t,i.typeParser),r.type=!0),i.dataParser&&((0,a.addDataParser)(t,i.dataParser),r.data=!0),i.asyncDataParser&&((0,a.addDataParser)(t,i.asyncDataParser),r.asyncData=!0),e.outputs&&(r.outputs=e.outputs)};i.add=l;var r=function r(t){return o[t]};i.get=r;var u=function u(t){var e=o[t];e&&(e.type&&(0,n.removeTypeParser)(t),e.data&&(0,a.removeDataParser)(t),e.asyncData&&(0,a.removeDataParser)(t,!0),delete o[t])};i.remove=u;var p=function p(t){return t in o};i.has=p;var c=function c(){return Object.keys(o)};i.list=c},{"./data":27,"./parser":31,"./type":33}],33:[function(t,e,i){"use strict";function r(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.typeMatcher=i.treeTypeParser=i.listTypeParser=i.removeTypeParser=i.hasTypeParser=i.addTypeParser=i.type=void 0;var l=function b(t){return t&&t.__esModule?t:{"default":t}}(t("../../logger")),s=t("./dataType");var u={},p={},c={},n=function n(t,e){switch(e){case"Array":return 0===t.length||t.every(function(t){return"@csl/object"===a(t)})?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}},h=function h(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:[],e=1<arguments.length?arguments[1]:undefined,i=!0,r=!1,s=undefined;try{for(var n,a=t[Symbol.iterator]();!(i=(n=a.next()).done);i=!0){var o=n.value;if(u[o].predicate(e))return h(u[o].extensions,e)||o}}catch(l){r=!0,s=l}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw s}}},a=function a(t){var e=(0,s.dataTypeOf)(t);return"Array"===e&&0===t.length?n(t,e):h(p[e],t)||n(t,e)};i.type=a;var f=function f(t,e){var i=e.dataType,r=e.predicate,s=e["extends"],n=[];t in c&&(n=c[t],delete c[t],l["default"].debug("[core]",'Subclasses "'.concat(n,'" finally registered to parent type "').concat(t,'"')));var a={predicate:r,extensions:n};if(u[t]=a,s){var o=u[s];o?o.extensions.push(t):(c[s]||(c[s]=[]),c[s].push(t),l["default"].debug("[core]",'Subclass "'.concat(t,'" is waiting on parent type "').concat(s,'"')))}else{(p[i]||(p[i]=[])).push(t)}};i.addTypeParser=f;var o=function o(t){return u.hasOwnProperty(t)};i.hasTypeParser=o;var m=function m(i){delete u[i],[].concat(r(Object.keys(p).map(function(t){return p[t]})),r(Object.keys(u).map(function(t){return u[t].extensions}).filter(function(t){return 0<t.length}))).forEach(function(t){var e=t.indexOf(i);-1<e&&t.splice(e,1)})};i.removeTypeParser=m;var d=function d(){return Object.keys(u)};i.listTypeParser=d;var g=function g(){var e=function e(t){return{name:t,children:u[t].extensions.map(e)}};return{name:"Type tree",children:Object.keys(p).map(function(t){return{name:t,children:p[t].map(e)}})}};i.treeTypeParser=g;i.typeMatcher=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/},{"../../logger":11,"./dataType":28}],34:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.format=i.list=i.has=i.remove=i.add=i.register=void 0;var s=function h(t){return t&&t.__esModule?t:{"default":t}}(t("../util/register"));var n=function n(t,e){if("string"!=typeof t)throw new TypeError("Invalid output format name, expected string, got ".concat(r(t)));if("function"!=typeof e)throw new TypeError("Invalid formatter, expected function, got ".concat(r(e)))},a=new s["default"];i.register=a;var o=function o(t,e){n(t,e),a.set(t,e)};i.add=o;var l=function l(t){a.remove(t)};i.remove=l;var u=function u(t){return a.has(t)};i.has=u;var p=function p(){return a.list()};i.list=p;var c=function c(t,e){if(!a.has(t))throw new Error('Output format "'.concat(t,'" unavailable'));for(var i=arguments.length,r=new Array(2<i?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return a.get(t).apply(void 0,[e].concat(r))};i.format=c},{"../util/register":40}],35:[function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){var e,i=1<arguments.length&&arguments[1]!==undefined?arguments[1]:new Set;if("object"!==n(t)||null===t||t.constructor!==Object&&t.constructor!==Array)return t;if(i.has(t))throw new TypeError("Recursively copying circular structure");if(i.add(t),t.constructor===Array)e=t.map(function(t){return a(t,i)});else{var r={};for(var s in t)r[s]=a(t[s],i);e=r}return i["delete"](t),e}Object.defineProperty(i,"__esModule",{value:!0}),i.deepCopy=a,i["default"]=void 0;var r=a;i["default"]=r},{}],36:[function(g,t,b){(function(t){"use strict";function l(t,e,i,r,s,n,a){try{var o=t[n](a),l=o.value}catch(u){return void i(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function h(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(b,"__esModule",{value:!0}),b.fetchFile=r,b.fetchFileAsync=function m(t,e){return p.apply(this,arguments)},b.setUserAgent=function d(t){s=t},b["default"]=void 0;var f=i(g("sync-fetch"));g("isomorphic-fetch");var n=i(g("../logger")),e=g("../../package.json");function i(t){return t&&t.__esModule?t:{"default":t}}var s="Citation.js/".concat(e.version," Node.js/").concat(t.version);function o(t){var e={},i=t instanceof Headers||t instanceof f["default"].Headers?Array.from(t):Object.entries(t),r=!0,s=!1,n=undefined;try{for(var a,o=i[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var l=h(a.value,2),u=l[0],p=l[1];e[u.toLowerCase()]=p.toString()}}catch(c){s=!0,n=c}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return e}function a(t){var e=0<arguments.length&&t!==undefined?t:{},i={headers:{accept:"*/*"},method:"GET",checkContentType:e.checkContentType};if(s&&(i.headers["user-agent"]=s),e.body){i.method="POST";var r="string"!=typeof e.body;i.body=r?JSON.stringify(e.body):e.body,i.headers["content-type"]=r?"application/json":"text/plain"}return e.headers&&Object.assign(i.headers,o(e.headers)),i}function u(t,e){var i,r=t.status,s=t.headers;if(400<=r?i=new Error("Server responded with status code ".concat(r)):!0!==e.checkContentType||function a(t,e){if(!t.accept||"*/*"===t.accept||!e["content-type"])return!0;var i=h(e["content-type"].split(";")[0].trim().split("/"),2),s=i[0],n=i[1];return t.accept.split(",").map(function(t){return t.split(";")[0].trim().split("/")}).some(function(t){var e=h(t,2),i=e[0],r=e[1];return!(i!==s&&"*"!==i||r!==n&&"*"!==r)})}(e.headers,o(s))||(i=new Error("Server responded with content-type ".concat(s.get("content-type")))),i)throw i.status=r,i.headers=s,i.body=t.body,i;return t}function r(t,e){var i=a(e);return n["default"].http("[core]",i.method,t,i),u((0,f["default"])(t,i),i).text()}function p(){return(p=function t(o){return function(){var t=this,a=arguments;return new Promise(function(e,i){var r=o.apply(t,a);function s(t){l(r,e,i,s,n,"next",t)}function n(t){l(r,e,i,s,n,"throw",t)}s(undefined)})}}(regeneratorRuntime.mark(function s(e,i){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a(i),n["default"].http("[core]",r.method,e,r),t.abrupt("return",fetch(e,r).then(function(t){return u(t,r)}).then(function(t){return t.text()}));case 3:case"end":return t.stop()}},s)}))).apply(this,arguments)}var c=r;b["default"]=c}).call(this,g("_process"))},{"../../package.json":43,"../logger":11,_process:466,"isomorphic-fetch":464,"sync-fetch":471}],37:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;function r(t,e){for(var i;i===undefined||t.includes(i);)i="".concat(e).concat(Math.random().toString().slice(2));return i}i["default"]=r},{}],38:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(i,"__esModule",{value:!0}),i.Grammar=void 0;var s=(function a(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}(n,[{key:"parse",value:function(t){return this.lexer=t,this.token=this.lexer.next(),this.consumeRule(this.mainRule)}},{key:"matchEndOfFile",value:function(){return!this.token}},{key:"matchToken",value:function(t){return this.token&&t===this.token.type}},{key:"consumeToken",value:function(t,e){var i=this.token;if(!t||i&&i.type===t)return this.token=this.lexer.next(),i;if(e)return undefined;var r=i?'"'.concat(i.type,'"'):"EOF",s=new SyntaxError(this.lexer.formatError(i,'expected "'.concat(t,'", got ').concat(r)));throw s.message+=" (".concat(this.log.join("->"),")"),s}},{key:"consumeRule",value:function(t){this.log.push(t);var e=this.rules[t].call(this);return this.log.pop(),e}}]),n);function n(t,e){!function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.rules=t,this.state=e,this.mainRule=Object.keys(t)[0],this.log=[]}i.Grammar=s},{}],39:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"deepCopy",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(i,"fetchFile",{enumerable:!0,get:function(){return s.fetchFile}}),Object.defineProperty(i,"fetchFileAsync",{enumerable:!0,get:function(){return s.fetchFileAsync}}),Object.defineProperty(i,"setUserAgent",{enumerable:!0,get:function(){return s.setUserAgent}}),Object.defineProperty(i,"fetchId",{enumerable:!0,get:function(){return n["default"]}}),Object.defineProperty(i,"TokenStack",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(i,"Register",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(i,"Grammar",{enumerable:!0,get:function(){return l.Grammar}}),Object.defineProperty(i,"Translator",{enumerable:!0,get:function(){return u.Translator}});var r=p(t("./deepCopy")),s=t("./fetchFile"),n=p(t("./fetchId")),a=p(t("./stack")),o=p(t("./register")),l=t("./grammar"),u=t("./translator");function p(t){return t&&t.__esModule?t:{"default":t}}},{"./deepCopy":35,"./fetchFile":36,"./fetchId":37,"./grammar":38,"./register":40,"./stack":41,"./translator":42}],40:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};!function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.data=t}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var n=(function a(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}(s,[{key:"set",value:function(t,e){return this.data[t]=e,this}},{key:"add",value:function(){return this.set.apply(this,arguments)}},{key:"delete",value:function(t){return delete this.data[t],this}},{key:"remove",value:function(){return this["delete"].apply(this,arguments)}},{key:"get",value:function(t){return this.data[t]}},{key:"has",value:function(t){return this.data.hasOwnProperty(t)}},{key:"list",value:function(){return Object.keys(this.data)}}]),s);i["default"]=n},{}],41:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){!function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),this.stack=t,this.index=0,this.current=this.stack[this.index]}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var s=(function n(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}(f,[{key:"tokensLeft",value:function(){return this.stack.length-this.index}},{key:"matches",value:function(t){return f.getMatchCallback(t)(this.current,this.index,this.stack)}},{key:"matchesSequence",value:function(t){var i=this.stack.slice(this.index,this.index+t.length).join("");return"string"==typeof t?i===t:t.every(function(t,e){return f.getMatchCallback(t)(i[e])})}},{key:"consumeToken",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:/^[\s\S]$/,e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=(e.inverse,e.spaced),r=void 0===i||i;r&&this.consumeWhitespace();var s=this.current;if(!f.getMatchCallback(t)(s,this.index,this.stack))throw new SyntaxError("Unexpected token at index ".concat(this.index,": Expected ").concat(f.getPatternText(t),', got "').concat(s,'"'));return this.current=this.stack[++this.index],r&&this.consumeWhitespace(),s}},{key:"consumeWhitespace",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:/^\s$/,e=(1<arguments.length&&arguments[1]!==undefined?arguments[1]:{}).optional,i=void 0===e||e;return this.consume(t,{min:+!i})}},{key:"consumeN",value:function(t){if(this.tokensLeft()<t)throw new SyntaxError("Not enough tokens left");for(var e=this.index;t--;)this.current=this.stack[++this.index];return this.stack.slice(e,this.index).join("")}},{key:"consumeSequence",value:function(t){if(this.matchesSequence(t))return this.consumeN(t.length);throw new SyntaxError('Expected "'.concat(t,'", got "').concat(this.consumeN(t.length),'"'))}},{key:"consume",value:function(){for(var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:/^[\s\S]$/,e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=e.min,r=void 0===i?0:i,s=e.max,n=void 0===s?Infinity:s,a=e.inverse,o=void 0!==a&&a,l=e.tokenMap,u=e.tokenFilter,p=this.index,c=f.getMatchCallback(t);c(this.current,this.index,this.stack)!==o;)this.current=this.stack[++this.index];var h=this.stack.slice(p,this.index);if(h.length<r)throw new SyntaxError("Not enough ".concat(f.getPatternText(t)));if(h.length>n)throw new SyntaxError("Too many ".concat(f.getPatternText(t)));return l&&(h=h.map(l)),u&&(h=h.filter(u)),h.join("")}}],[{key:"getPatternText",value:function(t){return'"'.concat(t instanceof RegExp?t.source:t,'"')}},{key:"getMatchCallback",value:function(e){if(Array.isArray(e)){var t=e.map(f.getMatchCallback);return function(e){return t.some(function(t){return t(e)})}}return e instanceof Function?e:e instanceof RegExp?function(t){return e.test(t)}:function(t){return e===t}}}]),f);i["default"]=s},{}],42:[function(t,e,i){"use strict";function r(t,e){var i,r,s,n;if("string"==typeof t)i=r=t;else{if(!t)return null;i=e?t.target:t.source,r=e?t.source:t.target,t.convert&&(s=e?t.convert.toSource:t.convert.toTarget),t.when&&null!=(n=e?t.when.target:t.when.source)&&(n=function a(r){return function(i){return"boolean"==typeof r?r:Object.keys(r).every(function(t){var e=r[t];return!0===e?t in i:!1===e?!(t in i):"function"==typeof e?e(i[t]):Array.isArray(e)?e.includes(i[t]):i[t]===e})}}(n))}return{inputProp:i=[].concat(i).filter(Boolean),outputProp:r=[].concat(r).filter(Boolean),convert:s,condition:n}}function s(n,e){return e=e===a.CONVERT_TO_SOURCE,n=n.map(function(t){return r(t,e)}).filter(Boolean),function(o){var l={},t=!0,e=!1,i=undefined;try{for(var u,p=function p(){var t=u.value,e=t.inputProp,i=t.outputProp,r=t.convert,s=t.condition;if(0===i.length)return"continue";if(s&&!s(o))return"continue";if(0!==e.length&&e.every(function(t){return!(t in o)}))return"continue";var n=e.map(function(t){return o[t]});if(r){var a=r.apply(o,n);n=1===i.length?[a]:a}i.forEach(function(t,e){var i=n[e];i!==undefined&&(l[t]=i)})},r=n[Symbol.iterator]();!(t=(u=r.next()).done);t=!0)p()}catch(s){e=!0,i=s}finally{try{t||null==r["return"]||r["return"]()}finally{if(e)throw i}}return l}}Object.defineProperty(i,"__esModule",{value:!0}),i.Translator=void 0;var a=function a(t){!function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.convertToSource=s(t,a.CONVERT_TO_SOURCE),this.convertToTarget=s(t,a.CONVERT_TO_TARGET)};(i.Translator=a).CONVERT_TO_SOURCE=Symbol("convert to source"),a.CONVERT_TO_TARGET=Symbol("convert to target")},{}],43:[function(t,e,i){e.exports={_from:"@citation-js/core@0.5.0-alpha.4",_id:"@citation-js/core@0.5.0-alpha.4",_inBundle:!1,_integrity:"sha512-F7C4LHQs6PXnUPQO/YENpGvpSVb+EJ6uFzKN2Z+Qst0rWYJj2c20jKB4mZYuQh4MBMO9f7L1m2Uq8u5P0jdZKA==",_location:"/@citation-js/core",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"@citation-js/core@0.5.0-alpha.4",name:"@citation-js/core",escapedName:"@citation-js%2fcore",scope:"@citation-js",rawSpec:"0.5.0-alpha.4",saveSpec:null,fetchSpec:"0.5.0-alpha.4"},_requiredBy:["#USER","/","/@citation-js/cli"],_resolved:"https://registry.npmjs.org/@citation-js/core/-/core-0.5.0-alpha.4.tgz",_shasum:"ecf6f9bdb4bc837fe21a5473cfea706105786fbe",_spec:"@citation-js/core@0.5.0-alpha.4",_where:"/home/larsgw/Projects/Citation.js/core",author:{name:"Lars Willighagen",email:"lars.willighagen@gmail.com"},bugs:{url:"https://github.com/citation-js/citation-js/issues"},bundleDependencies:!1,dependencies:{"@citation-js/date":"^0.4.4","@citation-js/name":"^0.4.2","isomorphic-fetch":"^2.2.1","sync-fetch":"^0.1.0"},deprecated:!1,description:"Convert different bibliographic metadata sources",devDependencies:{"@babel/plugin-proposal-class-properties":"^7.5.5"},directories:{lib:"src",test:"__tests__"},engines:{node:">=8"},files:["lib","lib-mjs"],gitHead:"3a1b202926a31e69a0b48ad0ffcd3e28b3035769",homepage:"https://citation.js.org/",keywords:["citation-js","citation","bibliography"],license:"MIT",main:"lib/index.js",module:"lib-mjs/index.js",name:"@citation-js/core",repository:{type:"git",url:"https://github.com/citation-js/citation-js/tree/master/packages/core"},scripts:{test:"mocha -c -R dot test/*.spec.js"},version:"0.5.0-alpha.4"}},{}],44:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s["default"]}});var r=n(t("./input")),s=n(t("./output"));function n(t){return t&&t.__esModule?t:{"default":t}}},{"./input":45,"./output":46}],45:[function(t,e,i){"use strict";function l(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;function r(t){var e=n(t)||a(t)||o(t)||p(t)||c(t)||h(t)||f(t);return e?{"date-parts":[e=e.map(function(t){return parseInt(t)})]}:{raw:t}}var s={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},u=function u(t){return s[t.toLowerCase().slice(0,3)]},n=function n(t){var e=new Date(t);return"number"!=typeof t||isNaN(e.valueOf())?null:[e.getFullYear(),e.getMonth()+1,e.getDate()]},a=function a(t){var e=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!=typeof t||!e.test(t))return null;var i=l(t.match(e),4),r=i[1],s=i[2],n=i[3];return+s?+n?[r,s,n]:[r,s]:[r]},o=function o(t){var e=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!=typeof t||!e.test(t))return null;var i=l(t.match(e),4),r=i[1],s=i[2],n=i[3];return(s=u(s))?[n,s,r]:null},p=function p(t){var e=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!=typeof t||!e.test(t))return null;var i=l(t.match(e),4),r=i[1],s=i[2],n=i[3];return new Date(n,r,s).getMonth()===parseInt(r)?[n,r,s]:null},c=function c(t){var e,i,r,s=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,n=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;if("string"!=typeof t)return null;if(s.test(t)){var a=l(t.match(s),4);r=a[1],i=a[2],e=a[3]}else{if(!n.test(t))return null;var o=l(t.match(n),4);e=o[1],i=o[2],r=o[3]}if(u(i))i=u(i);else if(isNaN(i))return null;return[e,i,r]},h=function h(t){var e=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"==typeof t&&e.test(t)){var i,r=t.match(e).slice(1,3);if(u(r[1]))i=u(r.pop());else if(u(r[0]))i=u(r.shift());else{if(r.some(isNaN)||r.every(function(t){return+t<0}))return null;i=+r[0]<0?r.pop():+r[0]>+r[1]&&0<+r[1]?r.pop():r.shift()}return[r.pop(),i]}return null},f=function f(t){return"string"==typeof t&&/^-?\d+$/.test(t)?[t]:null};i["default"]=r},{}],46:[function(t,e,i){"use strict";function r(t,e,i){if(t.length>=e)return t;for(;t.length<e;)t=i+t;return t.slice(-e)}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;function s(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"-";if(!t["date-parts"])return t.raw;var i=t["date-parts"][0].map(function(t){return t.toString()});switch(i.length){case 3:i[2]=r(i[2],2,"0");case 2:i[1]=r(i[1],2,"0");case 1:i[0]=r(i[0],4,"0")}return i.join(e)}i["default"]=s},{}],47:[function(t,e,i){arguments[4][44][0].apply(i,arguments)},{"./input":48,"./output":49,dup:44}],48:[function(t,e,i){"use strict";function g(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=i.types=i.scope=void 0;var r=function r(t){return t.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1")},s=function s(t){return"(?:".concat(t.join("|"),")\\b")},n=function n(t,e){return new RegExp("(?:^| )(".concat(t,"$)"),e)},a=s(["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"].map(r)),b=s(["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"].map(r)),o=s(["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"]),y=new RegExp("^((?:".concat(a," )*)(.*)$"),"i"),v=n("(?:".concat(b,", )*(?:").concat(b,")"),"i"),_=n("".concat(/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source,".*")),x=n("(?:".concat(/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source,".*|").concat(o,".*|\\S*)")),w=function w(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"";"string"!=typeof t&&(t+="");var e="",i="",r="";if(/[^.], /.test(t)){var s=t.split(", ");r=s.shift();var n=RegExp(b).exec(s.join(", "));e=s.splice(n&&0!==n.index?0:-1,1)[0],i=s.join(", ")}else{var a=t.split(v,2),o=a.shift().split(x,2);e=o[0],r=o[1],i=a.pop()}var l=g(e.match(y),3),u=l[1],p=l[2],c=i,h=g(r.split(_,2).reverse(),2),f=h[0],m=h[1];if(!p&&f)return f.includes(" ")?{literal:f}:{family:f};if(f){var d={"dropping-particle":u,given:p,suffix:c,"non-dropping-particle":m,family:f};return Object.keys(d).forEach(function(t){d[t]||delete d[t]}),d}return{literal:t}};i["default"]=i.parse=w;i.scope="@name";i.types="@name"},{}],49:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;function r(e){var t=1<arguments.length&&arguments[1]!==undefined&&arguments[1],i=function i(t){return t.map(function(t){return e[t]||""}).filter(Boolean).join(" ")};if(e.literal)return e.literal;if(t){var r=i(a)?", ".concat(i(a)):"",s=i(n)?", ".concat(i(n)):"";return i(o)+r+s}return"".concat(i([].concat(n,a,o)))}var n=["dropping-particle","given"],a=["suffix"],o=["non-dropping-particle","family"];i["default"]=r},{}],50:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.formats=i.parsers=i.ref=void 0;var r=function p(t){if(t&&t.__esModule)return t;var e=a();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}i["default"]=t,e&&e.set(t,i);return i}(t("./json")),s=t("@citation-js/core");function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}var n=["fulltext_html","fulltext_xml","fulltext_pdf"],o="@bibjson";i.ref=o;var l={json:r};i.parsers=l;var u={"@bibjson/quickscrape+record+object":{parse:r.quickscrapeRecord,parseType:{propertyConstraint:{props:"link",value:function(t){return n.some(function(e){return t.find(function(t){return t.type===e})})}},"extends":"@bibjson/record+object"}},"@bibjson/record+object":{parse:r.record,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"title"},{props:["author","editor"],match:"some",value:function(t){return Array.isArray(t)&&t[0]&&"name"in t[0]}}]}},"@bibjson/collection+object":{parse:function(t){return t.records},parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"metadata",value:function(t){return"collection"in t}},{props:"records",value:function(t){return Array.isArray(t)}}]}}};i.formats=u,s.plugins.add(o,{input:u})},{"./json":51,"@citation-js/core":10}],51:[function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.record=i.quickscrapeRecord=void 0;var n=t("@citation-js/date"),o=t("@citation-js/name");function a(t){var e=t.firstname,i=t.lastname,r=t.firstName,s=void 0===r?e:r,n=t.lastName,a=void 0===n?i:n;return s&&a?{given:s,family:a}:t.name?(0,o.parse)(t.name):void 0}var l=["PMID","PMCID","DOI","ISBN"],u=["ISSN"];function p(t,e){var i={};for(var r in t){var s=r.toUpperCase();e.includes(s)&&(i[s]=t[r])}if(t.identifier){var n=!0,a=!1,o=undefined;try{for(var l,u=t.identifier[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var p=l.value,c=p.id,h=p.type,f=void 0===h?"":h;f=f.toUpperCase(),e.includes(f)&&(i[f]=c)}}catch(m){a=!0,o=m}finally{try{n||null==u["return"]||u["return"]()}finally{if(a)throw o}}}return i}var c={article:"article",book:"book",booklet:"book",proceedings:"book",mastersthesis:"thesis",inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript",manual:undefined,misc:undefined};function r(t){var e={type:c[t.type]||"book"};if(t.title&&(e.title=t.title),t.author&&(e.author=t.author.map(a).filter(Boolean)),t.editor&&(e.editor=t.editor.map(a).filter(Boolean)),t.reviewer&&(t.author&&(e["reviewed-author"]=e.author),e.author=t.reviewer.map(a).filter(Boolean)),Array.isArray(t.keywords)?e.keyword=t.keywords.join():t.keywords&&(e.keyword=t.keywords),t.publisher&&(e.publisher=t.publisher.name||t.publisher),t.date&&0<Object.keys(t.date).length){var i=t.date;i.submitted&&(e.submitted=(0,n.parse)(i.submitted)),i.published&&(e.issued=(0,n.parse)(i.published))}else t.year&&(e.issued={"date-parts":[[+t.year]]});if(t.journal){var r=t.journal;r.name&&(e["container-title"]=r.name),r.volume&&(e.volume=+r.volume),r.issue&&(e.issue=+r.issue),Object.assign(e,p(r,u)),r.firstpage&&(e["page-first"]=r.firstpage),r.pages?e.page=r.pages.replace("--","-"):r.firstpage&&r.lastpage&&(e.page=r.firstpage+"-"+r.lastpage)}return t.link&&"object"===s(t.link[0])&&(e.URL=t.link[0].url),Object.assign(e,p(t,l)),t.cid?e.id=t.cid:e.DOI&&(e.id=e.DOI),e}var h=function h(t){return Object.assign(r(t),{type:"article-journal"})};i.quickscrapeRecord=h;var f=function f(t){return r(t)};i.record=f},{"@citation-js/date":44,"@citation-js/name":47}],52:[function(t,e,i){"use strict";var r=t("@citation-js/core"),s=t("./input/"),n=function a(t){return t&&t.__esModule?t:{"default":t}}(t("./output/"));r.plugins.add(s.ref,{input:s.formats,output:n["default"]})},{"./input/":55,"./output/":61,"@citation-js/core":10}],53:[function(t,e,i){"use strict";function n(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.textEntry=i.text=i.parse=void 0;var r=/\n\s*(?=\[)/g,a=/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,o=/((?=.)\s)*\n\s*/g,l=/:(.*)/,u=function u(t){var e=n(t.match(a)||[],3),i=e[1],r=e[2];if(i&&r){var s={type:"book",label:i,properties:{}};return r.trim().split(o).filter(function(t){return t}).forEach(function(t){var e=n(t.split(l),2),i=e[0],r=e[1];r&&(i=i.trim(),r=r.trim(),"type"===i?s.type=r:s.properties[i]=r)}),s}return{}};i.textEntry=u;var s=function s(t){return t.trim().split(r).map(u)};i.text=i.parse=s},{}],54:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mathScripts=i.ligatures=i.ligaturePattern=i.commands=i.diacritics=i.defaultStrings=void 0;i.defaultStrings={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"};i.diacritics={"`":"\u0300","'":"\u0301","^":"\u0302","~":"\u0303","=":"\u0304",'"':"\u0308",c:"\u0327",b:"\u0331",u:"\u0306",v:"\u030c",".":"\u0307",d:"\u0323",r:"\u030a",H:"\u030b",k:"\u0328"};i.commands={"~":"\u223c","c\\ ":"\xb8",href:"",url:"",AE:"\xc6",ae:"\xe6",DH:"\xd0",dh:"\xf0",i:"\u0131",j:"\u0237",NG:"\u014a",ng:"\u014b",O:"\xd8",o:"\xf8",OE:"\u0152",oe:"\u0153",ss:"\xdf",TH:"\xde",th:"\xfe",copyright:"\xa9",guillemotleft:"\xab",guillemotright:"\xbb",guilsinglleft:"\u2039",guilsinglright:"\u203a",quotedblbase:"\u201e",quotesinglbase:"\u201a",textacutedbl:"\u02dd",textasciiacute:"\xb4",textasciicircum:"\u02c6",textasciidieresis:"\xa8",textasciimacron:"\xaf",textbardbl:"\u2016",textbrokenbar:"\xa6",textbullet:"\u2022",textcelsius:"\u2103",textcent:"\xa2",textcircledP:"\u2117",textcopyright:"\xa9",textdagger:"\u2020",textdaggerdbl:"\u2021",textdegree:"\xb0",textdiv:"\xf7",textellipsis:"\u2026",textemdash:"\u2014",textendash:"\u2013",textestimated:"\u212e",texteuro:"\u20ac",textexclamdown:"\xa1",textfractionsolidus:"\u2044",textlnot:"\xac",textmu:"\xb5",textnumero:"\u2116",textohm:"\u2126",textonehalf:"\xbd",textonequarter:"\xbc",textonesuperior:"\xb9",textordfeminine:"\xaa",textordmasculine:"\xba",textparagraph:"\xb6",textperiodcentered:"\xb7",textperthousand:"\u2030",textpm:"\xb1",textquestiondown:"\xbf",textquotedblleft:"\u201c",textquotedblright:"\u201d",textquoteleft:"\u2018",textquoteright:"\u2019",textregistered:"\xae",textsection:"\xa7",textservicemark:"\u2120",textsterling:"\xa3",textthreequarters:"\xbe",textthreesuperior:"\xb3",texttimes:"\xd7",texttrademark:"\u2122",texttwosuperior:"\xb2",textunderscore:"\u2017",textyen:"\xa5",Gamma:"\u0393",Delta:"\u0394",Theta:"\u0398",Lambda:"\u039b",Xi:"\u039e",Pi:"\u03a0",Sigma:"\u03a3",Phi:"\u03a6",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",varepsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",pi:"\u03c0",rho:"\u03c1",varsigma:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",varphi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",vartheta:"\u03d1",Upsilon:"\u03d2",phi:"\u03d5",varpi:"\u03d6",varrho:"\u03f1",epsilon:"\u03f5"};i.ligaturePattern=/---?|'''?|```?|!!|\?!|!\?|\bTEL\b|~/g;i.ligatures={"---":"\u2014","--":"\u2013","'''":"\u2034","'":"\u201d","```":"\u2037","``":"\u201c","!!":"\u203c","?!":"\u2048","!?":"\u2049",TEL:"\u2121","~":"\xa0"};i.mathScripts={"^":{0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079","+":"\u207a","-":"\u207b","=":"\u207c","(":"\u207d",")":"\u207e",i:"\u2071",n:"\u207f"},_:{0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089","+":"\u208a","-":"\u208b","=":"\u208c","(":"\u208d",")":"\u208e",a:"\u2090",e:"\u2091",o:"\u2092",x:"\u2093","\u0259":"\u2094",h:"\u2095",k:"\u2096",l:"\u2097",m:"\u2098",n:"\u2099",s:"\u209a",p:"\u209b",t:"\u209c"}}},{}],55:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.formats=i.parsers=i.ref=void 0;var r=u(t("./text")),s=u(t("./json")),n=u(t("./prop")),a=u(t("./type")),o=u(t("./bibtxt"));function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t){if(t&&t.__esModule)return t;var e=l();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}i.ref="@bibtex";var p={text:r,json:s,prop:n,type:a,bibtxt:o};i.parsers=p;var c={"@bibtex/text":{parse:r.parse,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@bibtxt/text":{parse:o.parse,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}},"@bibtex/object":{parse:s.parse,parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@bibtex/prop":{parse:n.parse},"@bibtex/type":{parse:a.parse}};i.formats=c},{"./bibtxt":53,"./json":56,"./prop":57,"./text":58,"./type":59}],56:[function(t,e,i){"use strict";function l(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=void 0;var u=r(t("./prop")),p=r(t("./type"));function r(t){return t&&t.__esModule?t:{"default":t}}var s=function s(t){return[].concat(t).map(function(t){var o={},e=[];for(var i in t.properties){var r=t.properties[i],s=l((0,u["default"])(i,r)||[],2),n=s[0],a=s[1];n&&(/^[^:\s]+?:[^.\s]+(\.[^.\s]+)*$/.test(n)?e.push([n,a]):o[n]=a)}return o.type=(0,p["default"])(t.type),o.id=o["citation-label"]=t.label,/\d(\D+)$/.test(t.label)&&(o["year-suffix"]=t.label.match(/\d(\D+)$/)[1]),e.forEach(function(t){for(var e=l(t,2),i=e[0],r=e[1],s=i.split(/:|\./g),n=o;0<s.length;){var a=s.shift();n=n[a]||(n[a]=s.length?isNaN(+s[0])?{}:[]:r)}}),o})};i["default"]=i.parse=s},{"./prop":57,"./type":59}],57:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=void 0;var r=t("@citation-js/core"),s=t("@citation-js/name"),n=t("@citation-js/date"),a=[/jan(uary)?\.?/i,/feb(ruary)?\.?/i,/mar(ch)?\.?/i,/apr(il)?\.?/i,/may\.?/i,/jun(e)?\.?/i,/jul(y)?\.?/i,/aug(ust)?\.?/i,/sep(tember)?\.?/i,/oct(ober)?\.?/i,/nov(ember)?\.?/i,/dec(ember)?\.?/i],o=function o(t){return/{|}/.test(t)?{literal:t.replace(/[{}]/g,"")}:/[\u2014\u2013]/.test(t)?{"date-parts":t.split(/[\u2014\u2013]/).map(function(t){return(0,n.parse)(t)["date-parts"][0]})}:(0,n.parse)(t)},l=function l(t){return/{|}/.test(t)?{literal:t.replace(/[{}]/g,"")}:(0,s.parse)(t)},u=function u(t){var i=[];return(t=t.replace(/%/g,"%0").replace(/{.*?}/g,function(t){return"%[".concat(i.push(t)-1,"]")})).split(" and ").map(function(t){return t.replace(/%\[(\d+)\]/g,function(t,e){return i[+e]}).replace(/%0/g,"%")}).map(l)},p={textit:"i",textbf:"b",textsc:"sc",textsuperscript:"sup",textsubscript:"sub"},c=function c(t){var r=t.split(/((?:\\[a-z]+)?{|})/),s=[],n="{"===t[0]&&"}"===t[t.length-1];return r=r.map(function(t,e){if(e%2==0)return t;if("\\"!==t[0])return"{"===t?(s.push("</span>"),'<span class="nocase">'):"}"===t?(1===s.length&&e!==r.length-2&&(n=!1),s.pop()):void 0;var i=p[t.slice(1,-1)];return i?(s.push("</".concat(i,">")),"<".concat(i,">")):(s.push(""),"")}),n&&(r.splice(0,2),r.splice(-2,2)),r.join("")},h={address:"publisher-place",author:!0,booktitle:"container-title",doi:"DOI",date:"issued",edition:!0,editor:!0,isbn:"ISBN",issn:"ISSN",issue:"issue",journal:"container-title",language:!0,location:"publisher-place",note:!0,number:"issue",numpages:"number-of-pages",pages:"page",pmid:"PMID",pmcid:"PMCID",publisher:!0,series:"collection-title",title:!0,url:"URL",volume:!0,year:"issued:date-parts.0.0",month:"issued:date-parts.0.1",day:"issued:date-parts.0.2",crossref:!1,keywords:!1},f=function f(t,e){if(!h.hasOwnProperty(t))return r.logger.unmapped("[plugin-bibtex]","property",t),undefined;if(!1===h[t])return undefined;var i=!0===h[t]?t:h[t];return[i,function(t,e){switch(i){case"author":case"editor":return u(e);case"issued":return o(e);case"edition":return e;case"issued:date-parts.0.1":return parseFloat(e)?e:a.findIndex(function(t){return t.test(e)})+1;case"page":return e.replace(/[\u2014\u2013]/,"-");case"title":return c(e);default:return e.replace(/[{}]/g,"")}}(0,e)]};i["default"]=i.parse=f},{"@citation-js/core":10,"@citation-js/date":44,"@citation-js/name":47}],58:[function(t,e,i){"use strict";function l(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.parse=b,i["default"]=i.bibtexGrammar=void 0;var u=t("@citation-js/core"),r=function v(t){return t&&t.__esModule?t:{"default":t}}(t("moo")),s=function _(t){if(t&&t.__esModule)return t;var e=a();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}i["default"]=t,e&&e.set(t,i);return i}(t("./constants"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){p(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=/[a-zA-Z][a-zA-Z0-9_-]*/,h={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},f={command:/\\(?:[a-z]+|.) */,lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/\s+/,lineBreaks:!0}},m=r["default"].states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:o({},h,{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:c,next:"dataEntryContents"}}),otherEntryContents:o({},h,{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:o({},h,{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:o({},h,{identifier:c,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:o({},f,{quote:{match:'"',pop:!0},text:/[^{$"\s\\]+/}),bracedLiteral:o({},f,{rbrace:{match:"}",pop:!0},text:/[^{$}\s\\]+/}),mathLiteral:o({},f,{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s\\^_]+/})}),d={"(":")","{":"}"},g=new u.util.Grammar({Main:function(){for(var t=[];;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;t.push(this.consumeRule("Entry"))}return t.filter(Boolean)},_:function(){for(var t;t!==this.token;)t=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry:function(){this.consumeToken("at"),this.consumeRule("_");var t=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");var e,i=this.consumeToken("lbrace").value;if(this.consumeRule("_"),"string"===t){var r=l(this.consumeRule("Field"),2),s=r[0],n=r[1];this.state.strings[s]=n}else if("preamble"===t)this.consumeRule("Expression");else{var a=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_"),e={type:t,label:a,properties:this.consumeRule("EntryBody")}}this.consumeRule("_");var o=this.consumeToken("rbrace");return o!==d[i]&&u.logger.warn("[plugin-bibtex]",'entry started with "'.concat(i,'", but ends with "').concat(o,'"')),e},EntryBody:function(){for(var t={};this.matchToken("identifier");){var e=l(this.consumeRule("Field"),2),i=e[0],r=e[1];if(t[i]=r,this.consumeRule("_"),!this.consumeToken("comma",!0))break;this.consumeRule("_")}return t},Field:function(){var t=this.consumeToken("identifier");return this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_"),[t,this.consumeRule("Expression")]},Expression:function(){var t=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),t+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return t},ExpressionPart:function(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value]||"":this.matchToken("number")?this.consumeToken("number").value:this.matchToken("quote")?this.consumeRule("QuoteString"):this.matchToken("lbrace")?this.consumeRule("BracketString"):void 0},QuoteString:function(){var t="";for(this.consumeToken("quote");!this.matchToken("quote");)t+=this.consumeRule("Text");return this.consumeToken("quote"),t},BracketString:function(){var t="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)t+=this.consumeRule("Text");return this.consumeToken("rbrace"),t},MathString:function(){var t="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");)if(this.matchToken("script")){var e=this.consumeToken("script").value,i=this.consumeRule("Text").replace(/^{|}$/g,"");t+=s.mathScripts[e][i[0]]+i.slice(1)}else t+=this.consumeRule("Text");return this.consumeToken("mathShift"),t},Text:function(){return this.matchToken("lbrace")?"{".concat(this.consumeRule("BracketString"),"}"):this.matchToken("mathShift")?this.consumeRule("MathString"):this.matchToken("whitespace")?(this.consumeToken("whitespace")," "):this.matchToken("command")?this.consumeRule("Command"):this.consumeToken("text").value.replace(s.ligaturePattern,function(t){return s.ligatures[t]})},Command:function(){var t=this.consumeToken("command").value.slice(1).trim();if(t in s.commands)return s.commands[t];if(t in s.diacritics&&!this.matchEndOfFile()){if(this.matchToken("text")){var e=this.consumeToken("text").value;return e[0]+s.diacritics[t]+e.slice(1)}return this.consumeRule("Text").replace(/^{|}$/g,"")+s.diacritics[t]}return/^\W$/.test(t)?t:"\\"+t}},{strings:Object.assign({},s.defaultStrings)});function b(t){return g.parse(m.reset(t))}i.bibtexGrammar=g;var y=b;i["default"]=y},{"./constants":54,"@citation-js/core":10,moo:465}],59:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=void 0;var r=t("@citation-js/core"),s={article:"article-journal",book:"book",booklet:"book",proceedings:"book",manual:!1,mastersthesis:"thesis",misc:!1,inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript"},n=function n(t){return s.hasOwnProperty(t)?!1===s[t]?"book":s[t]:(r.logger.unmapped("[plugin-bibtex]","publication type",t),"book")};i["default"]=i.parse=n},{"@citation-js/core":10}],60:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.getBibtxt=void 0;var n=function o(t){return t&&t.__esModule?t:{"default":t}}(t("./json")),r=t("@citation-js/core");var a=function a(t,r,s){var e=t.map(function(t){var e=(0,n["default"])(t,s);e.properties.type=e.type;var i=Object.keys(e.properties).map(function(t){return r.listItem.join("".concat(t,": ").concat(e.properties[t]))}).join("");return r.entry.join("[".concat(e.label,"]").concat(r.list.join(i)))}).join("\n");return r.bibliographyContainer.join(e)};i.getBibtxt=a;function s(t,e){var i=r.plugins.dict.get(e?"html":"text");return a(t,i)}i["default"]=s},{"./json":62,"@citation-js/core":10}],61:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var a=t("@citation-js/core"),o=function u(t){return t&&t.__esModule?t:{"default":t}}(t("./json")),r=t("./text"),s=t("./bibtxt");var l=function l(n){return function(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=e.type,r=e.format,s=void 0===r?i||"text":r;return"object"===s?t.map(o["default"]):a.plugins.dict.has(s)?n(t,a.plugins.dict.get(s),e):""}},n={bibtex:l(r.getBibtex),bibtxt:l(s.getBibtxt)};i["default"]=n},{"./bibtxt":60,"./json":62,"./text":64,"@citation-js/core":10}],62:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var o=s(t("./type")),l=s(t("./label")),r=t("@citation-js/name"),u=t("@citation-js/date");function s(t){return t&&t.__esModule?t:{"default":t}}function p(t){return t.map(function(t){return(0,r.format)(t,!0)}).join(" and ")}function n(t,e){var i={label:(0,l["default"])(t,e),type:(0,o["default"])(t.type)},r={},s={"collection-title":"series","container-title":["chapter","inproceedings"].includes(t.type)?"booktitle":"journal",edition:"edition",event:"organization",DOI:"doi",ISBN:"isbn",ISSN:"issn",issue:"number",language:"language",note:"note","number-of-pages":"numpages",PMID:"pmid",PMCID:"pmcid",publisher:"publisher","publisher-place":"address",title:"title",URL:"url",volume:"volume"};for(var n in s)t.hasOwnProperty(n)&&(r[s[n]]=t[n]+"");if(t.author&&(r.author=p(t.author)),t.editor&&(r.editor=p(t.editor)),!t.note&&t.accessed&&(r.note="[Online; accessed ".concat((0,u.format)(t.accessed),"]")),t.page&&(r.pages=t.page.replace("-","--")),t.issued&&t.issued["date-parts"]){var a=t.issued["date-parts"][0];0<a.length&&(r.date=(0,u.format)(t.issued),r.year=a[0].toString()),1<a.length&&(r.month=a[1].toString()),2<a.length&&(r.day=a[2].toString())}return i.properties=r,i}i["default"]=n},{"./label":63,"./type":65,"@citation-js/date":44,"@citation-js/name":47}],63:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;function r(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},e=(1<arguments.length&&arguments[1]!==undefined?arguments[1]:{}).generateLabel,i=void 0===e||e;if(t["citation-label"])return t["citation-label"];if(!i)return t.id;var r="";return t.author&&(r+=n(t.author[0].family||t.author[0].literal)),t.issued&&t.issued["date-parts"]&&t.issued["date-parts"][0]&&(r+=t.issued["date-parts"][0][0]),t["year-suffix"]?r+=t["year-suffix"]:t.title&&(r+=n(t.title)),r||t.id}var s=["the","a","an"],n=function n(t){return t?t.replace(/<\/?.*?>/g,"").split(/[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F]+/).find(function(t){return t.length&&!s.includes(t.toLowerCase())}):""};i["default"]=r},{}],64:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.getBibtex=void 0;var l=function h(t){return t&&t.__esModule?t:{"default":t}}(t("./json")),r=t("@citation-js/core");var s={"|":"{\\textbar}","<":"{\\textless}",">":"{\\textgreater}","~":"{\\textasciitilde}","^":"{\\textasciicircum}","\\":"{\\textbackslash}","{":"\\{\\vphantom{\\}}","}":"\\vphantom{\\{}\\}"};function n(t){return t.replace(/[|<>~^\\{}]/g,function(t){return s[t]})}var a={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};var o=["title"];function u(t,e,i){return e=o.includes(t)?function r(t){var e=t.split(/<(\/.*?|i|b|sc|sup|sub|span.*?)>/g);return(e=e.map(function(t,e){return e%2==0?n(t):t in a?a[t]:"}"})).join("")}(e):n(e),i.listItem.join("".concat(t," = {").concat(e,"},"))}var p=function p(t,e,i){var r=t.map(function(t){return function o(t,e,i){var r=(0,l["default"])(t,i),s=r.type,n=r.label,a=r.properties;return a=Object.keys(a).map(function(t){return u(t,a[t],e)}).join(""),e.entry.join("@".concat(s,"{").concat(n,",").concat(e.list.join(a),"}"))}(t,e,i)}).join("");return e.bibliographyContainer.join(r)};i.getBibtex=p;function c(t,e){var i=r.plugins.dict.get(e?"html":"text");return p(t,i)}i["default"]=c},{"./json":62,"@citation-js/core":10}],65:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;function r(t){return t in n?n[t]:(s.logger.unmapped("[plugin-bibtex]","publication type",t),"misc")}var s=t("@citation-js/core"),n={article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",book:"book",chapter:"incollection",graphic:"misc",interview:"misc",manuscript:"unpublished",motion_picture:"misc","paper-conference":"inproceedings",patent:"patent",personal_communication:"misc",report:"techreport",thesis:"phdthesis",webpage:"misc"};i["default"]=r},{"@citation-js/core":10}],66:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getPrefixedEntry=i.getAttributedEntry=void 0;var r=function r(t,e,i){return t.replace(/^\s*<[a-z]+/i,"$& data-".concat(e,'="').concat(i,'"'))};i.getAttributedEntry=r;var s=function s(t,e){return r(t,"csl-entry-id",e)};i.getPrefixedEntry=s},{}],67:[function(t,e,i){"use strict";function _(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function E(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=e.template,r=void 0===i?"apa":i,s=e.lang,n=void 0===s?"en-US":s,a=e.format,o=void 0===a?"text":a,l=e.nosort,u=void 0!==l&&l,p=(0,x["default"])(t,r,n,o),c=p.updateItems(t.map(function(t){return t.id}),u);if(e.append||e.prepend){var h=e.append,f=e.prepend,m=t.reduce(function(t,e){return t[e.id]=e,t},{});p.sys.wrapBibliographyEntry=function(t){var e=m[t];return[A(e,f),A(e,h)]}}else p.sys.wrapBibliographyEntry=function(){return["",""]};var d=_(p.makeBibliography(),2),g=d[0],b=g.bibstart,y=g.bibend,v=d[1].map(function(t,e){return(0,w.getPrefixedEntry)(t,c[e])});return b+v.join("")+y};var x=function r(t){return t&&t.__esModule?t:{"default":t}}(t("./engines")),w=t("./attr.js");var A=function A(t,e){return"function"==typeof e?e(t):e||""}},{"./attr.js":66,"./engines":69}],68:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function h(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=e.template,r=void 0===i?"apa":i,s=e.lang,n=void 0===s?"en-US":s,a=e.format,o=void 0===a?"text":a,l=t.map(function(t){return t.id}),u=e.entry?[].concat(e.entry):l,p=(0,c["default"])(t,r,n,o);return p.updateItems(l),p.previewCitationCluster({citationItems:u.map(function(t){return{id:t}}),properties:{noteIndex:0}},[],[],o)};var c=function r(t){return t&&t.__esModule?t:{"default":t}}(t("./engines"))},{"./engines":69}],69:[function(t,e,i){"use strict";function n(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.fetchEngine=i["default"]=void 0;var o=function m(t){return t&&t.__esModule?t:{"default":t}}(t("citeproc")),l=t("./styles"),u=t("./locales");var a=Symbol["for"]("proxied"),p=function p(r){var s=function s(t,e){if(t.sys.wrapBibliographyEntry){var i=n(t.sys.wrapBibliographyEntry(this.system_id),2);e=[i[0],e,i[1]].join("")}return r.call(this,t,e)};return s[a]=!0,s};for(var r in o["default"].Output.Formats){var s=o["default"].Output.Formats[r]["@bibliography/entry"];s&&!s[a]&&(o["default"].Output.Formats[r]["@bibliography/entry"]=p(s))}var c={},h=function h(t,e,i,r,s){var n,a="".concat(t,"|").concat(e);return c.hasOwnProperty(a)?(n=c[a]).sys.retrieveItem=r:n=c[a]=new o["default"].Engine({retrieveLocale:s,retrieveItem:r},i,e,!0),n};i.fetchEngine=h;function f(t,e,i,r){var s=t.reduce(function(t,e){return t[e.id]=e,t},{}),n=l.templates.get(l.templates.has(e)?e:"apa");i=u.locales.has(i)?i:"en-US";var a=h(e,i,n,function(t){return s[t]},u.locales.get.bind(u.locales));return a.setOutputFormat(r),a}i["default"]=f},{"./locales":72,"./styles":74,citeproc:75}],70:[function(t,e,i){"use strict";var r=t("@citation-js/core"),s=t("./locales"),n=t("./styles"),a=u(t("./engines")),o=u(t("./bibliography")),l=u(t("./citation"));function u(t){return t&&t.__esModule?t:{"default":t}}r.plugins.add("@csl",{output:{bibliography:o["default"],citation:l["default"]},config:{engine:a["default"],locales:s.locales,templates:n.templates}})},{"./bibliography":67,"./citation":68,"./engines":69,"./locales":72,"./styles":74,"@citation-js/core":10}],71:[function(t,e,i){e.exports={"en-US":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">\u201c</term><term name="close-quote">\u201d</term><term name="open-inner-quote">\u2018</term><term name="close-inner-quote">\u2019</term><term name="page-range-delimiter">\u2013</term><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple>\n</term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term>\n<term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms></locale>',"nl-NL":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>editie</single><multiple>edities</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">\u201c</term><term name="close-quote">\u201d</term><term name="open-inner-quote">\u2018</term><term name="close-inner-quote">\u2019</term><term name="page-range-delimiter">\u2013</term><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio\'s</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple>\n</term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">bewerkt door</term><term name="editorial-director" form="verb">bewerkt door</term><term name="illustrator" form="verb">ge\xefllustreerd door</term><term name="interviewer" form="verb">ge\xefnterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">bewerkt door</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">ge\xefllustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>\n<term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms></locale>',"fr-FR":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Gr\xe9goire Colly</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">consult\xe9 le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cit\xe9</term><term name="edition" gender="feminine"><single>\xe9dition</single><multiple>\xe9ditions</multiple></term><term name="edition" form="short">\xe9d.</term><term name="et-al">et al.</term><term name="forthcoming">\xe0 para\xeetre</term><term name="from">\xe0 l\'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">pr\xe9sent\xe9 \xe0</term><term name="reference"><single>r\xe9f\xe9rence</single><multiple>r\xe9f\xe9rences</multiple></term><term name="reference" form="short"><single>r\xe9f.</single><multiple>r\xe9f.</multiple></term><term name="retrieved">consult\xe9</term><term name="scale">\xe9chelle</term><term name="version">version</term><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="open-quote">\xab&#160;</term><term name="close-quote">&#160;\xbb</term><term name="open-inner-quote">\u201c</term><term name="close-inner-quote">\u201d</term><term name="page-range-delimiter">&#8209;</term><term name="ordinal">\u1d49</term><term name="ordinal-01" gender-form="feminine" match="whole-number">\u02b3\u1d49</term><term name="ordinal-01" gender-form="masculine" match="whole-number">\u1d49\u02b3</term><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxi\xe8me</term><term name="long-ordinal-03">troisi\xe8me</term><term name="long-ordinal-04">quatri\xe8me</term><term name="long-ordinal-05">cinqui\xe8me</term><term name="long-ordinal-06">sixi\xe8me</term><term name="long-ordinal-07">septi\xe8me</term><term name="long-ordinal-08">huiti\xe8me</term><term name="long-ordinal-09">neuvi\xe8me</term><term name="long-ordinal-10">dixi\xe8me</term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>num\xe9ro</single><multiple>num\xe9ros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple>\n</term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>f\u1d52</single><multiple>f\u1d52\u02e2</multiple></term><term name="issue" form="short"><single>n\u1d52</single><multiple>n\u1d52\u02e2</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term><term name="paragraph" form="symbol"><single>\xa7</single><multiple>\xa7</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7</multiple></term><term name="director"><single>r\xe9alisateur</single><multiple>r\xe9alisateurs</multiple></term><term name="editor"><single>\xe9diteur</single><multiple>\xe9diteurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>\xe9diteur et traducteur</single><multiple>\xe9diteurs et traducteurs</multiple></term><term name="director" form="short"><single>r\xe9al.</single><multiple>r\xe9al.</multiple></term><term name="editor" form="short"><single>\xe9d.</single><multiple>\xe9d.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>\xe9d. et trad.</single><multiple>\xe9d. et trad.</multiple></term><term name="container-author" form="verb">par</term><term name="director" form="verb">r\xe9alis\xe9 par</term><term name="editor" form="verb">\xe9dit\xe9 par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustr\xe9 par</term><term name="interviewer" form="verb">entretien r\xe9alis\xe9 par</term><term name="recipient" form="verb">\xe0</term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">\xe9dit\xe9 et traduit par</term><term name="director" form="verb-short">r\xe9al. par</term><term name="editor" form="verb-short">\xe9d. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">\xe9d. et trad. par</term><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">f\xe9vrier</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">ao\xfbt</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">\noctobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">d\xe9cembre</term><term name="month-01" form="short">janv.</term><term name="month-02" form="short">f\xe9vr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">ao\xfbt</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">d\xe9c.</term><term name="season-01">printemps</term><term name="season-02">\xe9t\xe9</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms></locale>',"de-DE":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verf\xfcgbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Ma\xdfstab</term><term name="version">Version</term><term name="ad">n.&#160;Chr.</term><term name="bc">v.&#160;Chr.</term><term name="open-quote">\u201e</term><term name="close-quote">\u201c</term><term name="open-inner-quote">\u201a</term><term name="close-inner-quote">\u2018</term><term name="page-range-delimiter">\u2013</term><term name="ordinal">.</term><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">f\xfcnfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term><term name="book"><single>Buch</single><multiple>B\xfccher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Bl\xe4tter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Abs\xe4tze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>B\xe4nde</multiple></term><term name="book" form="short">B.</term>\n<term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term><term name="paragraph" form="symbol"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>\xdcbersetzer</single><multiple>\xdcbersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; \xdcbersetzer</single><multiple>Herausgeber&#160;&amp; \xdcbersetzer</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>\xdcbers.</single><multiple>\xdcbers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; \xdcbers.</single><multiple>Hrsg.&#160;&amp; \xdcbers</multiple></term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">\xfcbersetzt von</term><term name="editortranslator" form="verb">herausgegeben und \xfcbersetzt von</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">\xfcbers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; \xfcbers. von</term><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">M\xe4rz</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term>\n<term name="month-03" form="short">M\xe4rz</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term><term name="season-01">Fr\xfchjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms></locale>',"es-ES":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">an\xf3nimo</term><term name="anonymous" form="short">an\xf3n.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edici\xf3n</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en l\xednea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versi\xf3n</term><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="open-quote">\xab</term><term name="close-quote">\xbb</term><term name="open-inner-quote">\u201c</term><term name="close-inner-quote">\u201d</term><term name="page-range-delimiter">-</term><term name="ordinal">.\xaa</term><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">s\xe9ptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">d\xe9cima</term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>cap\xedtulo</single><multiple>cap\xedtulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>n\xfamero</single><multiple>n\xfameros</multiple></term><term name="line"><single>l\xednea</single><multiple>l\xedneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name="number-of-pages"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name="paragraph"><single>p\xe1rrafo</single><multiple>p\xe1rrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>secci\xf3n</single><multiple>secciones</multiple></term><term name="sub verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>vol\xfamenes</multiple></term><term name="book" form="short">lib.</term>\n<term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.\xba</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">p\xe1rr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>\xa7</single><multiple>\xa7</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">\ndic.</term><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">oto\xf1o</term><term name="season-04">invierno</term></terms></locale>'}},{}],72:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.locales=i["default"]=void 0;var r=t("@citation-js/core"),s=function o(t){return t&&t.__esModule?t:{"default":t}}(t("./locales.json"));var n=new r.util.Register(s["default"]);i.locales=n;function a(t){return n.has(t)?n.get(t):n.get("en-US")}i["default"]=a},{"./locales.json":71,"@citation-js/core":10}],73:[function(t,e,i){e.exports={apa:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never"><info><title>American Psychological Association 6th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://owl.english.purdue.edu/owl/resource/560/01/" rel="documentation"/><author><name>Simon Kornblith</name><email>simon@simonster.com</email></author><contributor><name>Bruce D\'Arcus</name></contributor><contributor><name>Curtis M. Humphrey</name></contributor><contributor><name>Richard Karnesky</name><email>karnesky+zotero@gmail.com</email><uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri></contributor><contributor><name>Sebastian Karcher</name></contributor><contributor><name> Brenton M. Wiernik</name><email>zotero@wiernik.org</email></contributor><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2016-05-25T09:01:49+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short"><single>trans.</single><multiple>trans.</multiple></term></terms></locale><macro name="container-contributors"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><group delimiter=", "><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names></group></if></choose></macro><macro name="secondary-contributors"><choose><if type="article-journal chapter paper-conference entry-dictionary entry-encyclopedia" match="none"><group delimiter=", " prefix=" (" suffix=")"><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="capitalize-first"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text macro="title"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text variable="title" form="short" font-style="italic"/></if><else-if type="legal_case"><text variable="title" font-style="italic"/></else-if><else-if type="bill book graphic legislation motion_picture song" match="any"><text variable="title" form="short" font-style="italic"/></else-if><else-if variable="reviewed-author"><choose><if variable="reviewed-title" match="none"><text variable="title" form="short" font-style="italic" prefix="Review of "/></if><else><text variable="title" form="short" quotes="true"/></else></choose></else-if><else><text variable="title" form="short" quotes="true"/></else></choose></substitute></names></macro><macro name="access"><choose><if type="thesis report" match="any"><choose><if variable="DOI" match="any">\n<text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="archive" match="any"><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="archive" suffix="."/><text variable="archive_location" prefix=" (" suffix=")"/></group></else-if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></if><else><choose><if variable="DOI"><text variable="DOI" prefix="https://doi.org/"/></if><else><choose><if type="webpage"><group delimiter=" "><text term="retrieved" text-case="capitalize-first" suffix=" "/><group><date variable="accessed" form="text" suffix=", "/></group><text term="from"/><text variable="URL"/></group></if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></else></choose></else></choose></macro><macro name="title"><choose><if type="book graphic manuscript motion_picture report song speech thesis" match="any"><choose><if variable="version" type="book" match="all"><text variable="title"/></if><else><text variable="title" font-style="italic"/></else></choose></if><else-if variable="reviewed-author"><choose><if variable="reviewed-title"><group delimiter=" "><text variable="title"/><group delimiter=", " prefix="[" suffix="]"><text variable="reviewed-title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></if><else><group delimiter=", " prefix="[" suffix="]"><text variable="title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></else></choose></else-if><else><text variable="title"/></else></choose></macro><macro name="title-plus-extra"><text macro="title"/><choose><if type="report thesis" match="any"><group prefix=" (" suffix=")" delimiter=", "><group delimiter=" "><choose><if variable="genre" match="any"><text variable="genre"/></if><else><text variable="collection-title"/></else></choose><text variable="number" prefix="No. "/></group><group delimiter=" "><text term="version" text-case="capitalize-first"/><text variable="version"/></group><text macro="edition"/></group></if><else-if type="post-weblog webpage" match="any"><text variable="genre" prefix=" [" suffix="]"/></else-if><else-if variable="version"><group delimiter=" " prefix=" (" suffix=")"><text term="version" text-case="capitalize-first"/><text variable="version"/></group></else-if></choose><text macro="format" prefix=" [" suffix="]"/></macro><macro name="format"><choose><if match="any" variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else-if type="dataset" match="any"><text value="Data set"/></else-if></choose></macro><macro name="publisher"><choose><if type="report" match="any"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></if><else-if type="thesis" match="any"><group delimiter=", "><text variable="publisher"/><text variable="publisher-place"/></group></else-if><else-if type="post-weblog webpage" match="none"><group delimiter=", "><choose><if variable="event version" type="speech motion_picture" match="none"><text variable="genre"/></if></choose><choose><if type="article-journal article-magazine" match="none"><group delimiter=": "><choose><if variable="publisher-place"><text variable="publisher-place"/></if><else><text variable="event-place"/></else></choose><text variable="publisher"/></group></if></choose></group></else-if></choose></macro><macro name="event"><choose><if variable="container-title" match="none"><choose><if variable="event"><choose><if variable="genre" match="none"><text term="presented at" text-case="capitalize-first" suffix=" "/><text variable="event"/></if><else>\n<group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/><text variable="event"/></group></else></choose></if><else-if type="speech"><text variable="genre" text-case="capitalize-first"/></else-if></choose></if></choose></macro><macro name="issued"><choose><if type="bill legal_case legislation" match="none"><choose><if variable="issued"><group prefix=" (" suffix=")"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="speech" match="any"><date variable="issued"><date-part prefix=", " name="month"/></date></if><else-if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></else-if></choose></group></if><else-if variable="status"><group prefix=" (" suffix=")"><text variable="status"/><text variable="year-suffix" prefix="-"/></group></else-if><else><group prefix=" (" suffix=")"><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></group></else></choose></if></choose></macro><macro name="issued-sort"><choose><if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part name="year"/><date-part name="month"/><date-part name="day"/></date></if><else><date variable="issued"><date-part name="year"/></date></else></choose></macro><macro name="issued-year"><choose><if variable="issued"><group delimiter="/"><date variable="original-date" form="text"/><group><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></group></group></if><else-if variable="status"><text variable="status"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="locators"><choose><if type="article-journal article-magazine" match="any"><group prefix=", " delimiter=", "><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group><text variable="page"/></group><choose><if variable="issued"><choose><if variable="page issue" match="none"><text variable="status" prefix=". "/></if></choose></if></choose></if><else-if type="article-newspaper"><group delimiter=" " prefix=", "><label variable="page" form="short"/><text variable="page"/></group></else-if><else-if type="book graphic motion_picture report song chapter paper-conference entry-encyclopedia entry-dictionary" match="any"><group prefix=" (" suffix=")" delimiter=", "><choose><if type="report" match="none"><text macro="edition"/></if></choose><choose><if variable="volume" match="any"><group><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><number variable="volume" form="numeric"/></group></if><else><group><text term="volume" form="short" plural="true" text-case="capitalize-first" suffix=" "/><number variable="number-of-volumes" form="numeric" prefix="1&#8211;"/></group></else></choose><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></else-if><else-if type="legal_case"><group prefix=" (" suffix=")" delimiter=" "><text variable="authority"/><date variable="issued" form="text"/></group></else-if><else-if type="bill legislation" match="any"><date variable="issued" prefix=" (" suffix=")"><date-part name="year"/></date></else-if></choose></macro><macro name="citation-locator"><group><choose><if locator="chapter"><label variable="locator" form="long" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator" prefix=" "/></group></macro>\n<macro name="container"><choose><if type="post-weblog webpage" match="none"><group><choose><if type="chapter paper-conference entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first" suffix=" "/></if></choose><group delimiter=", "><text macro="container-contributors"/><text macro="secondary-contributors"/><text macro="container-title"/></group></group></if></choose></macro><macro name="container-title"><choose><if type="article article-journal article-magazine article-newspaper" match="any"><text variable="container-title" font-style="italic" text-case="title"/></if><else-if type="bill legal_case legislation" match="none"><text variable="container-title" font-style="italic"/></else-if></choose></macro><macro name="legal-cites"><choose><if type="bill legal_case legislation" match="any"><group delimiter=" " prefix=", "><choose><if variable="container-title"><text variable="volume"/><text variable="container-title"/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group><text variable="page"/></if><else><choose><if type="legal_case"><text variable="number" prefix="No. "/></if><else><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group></else></choose></else></choose></group></if></choose></macro><macro name="original-date"><choose><if variable="original-date"><group prefix="(" suffix=")" delimiter=" "><text value="Original work published"/><date variable="original-date" form="text"/></group></if></choose></macro><citation et-al-min="6" et-al-use-first="1" et-al-subsequent-min="3" et-al-subsequent-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name"><sort><key macro="author"/><key macro="issued-sort"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-short"/><text macro="issued-year"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="8" et-al-use-first="6" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author"/><key macro="issued-sort" sort="ascending"/><key macro="title"/></sort><layout><group suffix="."><group delimiter=". "><text macro="author"/><text macro="issued"/><text macro="title-plus-extra"/><text macro="container"/></group><text macro="legal-cites"/><text macro="locators"/><group delimiter=", " prefix=". "><text macro="event"/><text macro="publisher"/></group></group><text macro="access" prefix=" "/><text macro="original-date" prefix=" "/></layout></bibliography></style>',vancouver:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech">\n<group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number">\n<sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography></style>',harvard1:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href="http://www.zotero.org/styles/harvard1" rel="self"/><link href="http://libweb.anglia.ac.uk/referencing/harvard.htm" rel="documentation"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format="author-date"/><category field="generic-base"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name="editor"><names variable="editor" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="lowercase"/></names></macro><macro name="anon"><text term="anonymous" form="short" text-case="capitalize-first" strip-periods="true"/></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with="." delimiter-precedes-last="never" delimiter=", "/><label form="short" prefix=" " text-case="lowercase"/><substitute><names variable="editor"/><text macro="anon"/></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><text macro="anon"/></substitute></names></macro><macro name="access"><choose><if variable="URL"><text value="Available at:" suffix=" "/><text variable="URL"/><group prefix=" [" suffix="]"><text term="accessed" text-case="capitalize-first" suffix=" "/><date variable="accessed"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date></group></if></choose></macro><macro name="title"><choose><if type="bill book graphic legal_case legislation motion_picture report song thesis" match="any"><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose></macro><macro name="publisher"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date></if><else><text term="no date" form="short"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="pages"><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true"><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=" "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short"/><text variable="locator"/></group></group></layout></citation><bibliography hanging-indent="true" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key variable="title"/></sort><layout><text macro="author" suffix=","/><date variable="issued" prefix=" " suffix="."><date-part name="year"/></date><choose><if type="bill book graphic legal_case legislation motion_picture report song" match="any"><group prefix=" " delimiter=" " suffix=","><text macro="title"/><text macro="edition"/><text macro="editor"/></group><text prefix=" " suffix="." macro="publisher"/></if><else-if type="chapter paper-conference" match="any"><text macro="title" prefix=" " suffix="."/><group prefix=" " delimiter=" "><text term="in" text-case="capitalize-first"/>\n<text macro="editor"/><text variable="container-title" font-style="italic" suffix="."/><text variable="collection-title" suffix="."/><text variable="event" suffix="."/><group suffix="." delimiter=", "><text macro="publisher" prefix=" "/><text macro="pages"/></group></group></else-if><else-if type="thesis"><group prefix=" " suffix="." delimiter=". "><text macro="title"/><text variable="genre"/><text macro="publisher"/></group></else-if><else><group suffix="."><text macro="title" prefix=" "/><text macro="editor" prefix=" "/></group><group prefix=" " suffix="."><text variable="container-title" font-style="italic"/><group prefix=", "><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></group><group prefix=", "><label variable="page" form="short"/><text variable="page"/></group></group></else></choose><text prefix=" " macro="access" suffix="."/></layout></bibliography></style>'}},{}],74:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.templates=i["default"]=void 0;var r=t("@citation-js/core"),s=function o(t){return t&&t.__esModule?t:{"default":t}}(t("./styles.json"));var n=new r.util.Register(s["default"]);i.templates=n;function a(t){return n.has(t)?n.get(t):n.get("apa")}i["default"]=a},{"./styles.json":73,"@citation-js/core":10}],75:[function(t,e,i){"use strict";function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,f,m,d,s,n,a,o,l,u,p,c,h,Nt={PROCESSOR_VERSION:"1.2.27",error:function(t){throw"undefined"==typeof Error?new Error("citeproc-js error: "+t):"citeproc-js error: "+t},debug:function(t){"undefined"==typeof console?dump("CSL: "+t+"\n"):console.log("citeproc-js warning: "+t)},LOCATOR_LABELS_REGEXP:new RegExp("^((art|ch|subch|col|fig|l|n|no|op|p|pp|para|subpara|supp|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|supp|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|supp|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"art.":"article","bk.":"book","ch.":"chapter","subch.":"subchapter","p.":"page","pp.":"page","para.":"paragraph","subpara.":"subparagraph","pt.":"part","r.":"rule","sec.":"section","subsec.":"subsection","supp.":"supplement","sch.":"schedule","tit.":"title","col.":"column","fig.":"figure","fol.":"folio","l.":"line","n.":"note","no.":"issue","op.":"opus","sv.":"sub-verbo","vrs.":"verse","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{article:"art.",book:"bk.",chapter:"ch.",subchapter:"subch.",page:"p.",paragraph:"para.",subparagraph:"subpara.",part:"pt.",rule:"r.",section:"sec.",subsection:"subsec.",supplement:"supp.",schedule:"sch.",title:"tit.",column:"col.",figure:"fig.",folio:"fol.",line:"l.",note:"n.",issue:"no.",opus:"op.","sub-verbo":"sv.","sub verbo":"sv.",verse:"vrs.",volume:"vol."},LOCATOR_LABELS_MAP:{art:"article",bk:"book",ch:"chapter",subch:"subchapter",col:"column",fig:"figure",fol:"folio",l:"line",n:"note",no:"issue",op:"opus",p:"page",pp:"page",para:"paragraph",subpara:"subparagraph",pt:"part",r:"rule",sec:"section",subsec:"subsection",supp:"supplement",sv:"sub-verbo",sch:"schedule",tit:"title",vrs:"verse",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0},checkNestedBrace:function(t){"note"===t.opt.xclass?(this.depth=0,this.update=function(t){for(var e=(t=t||"").split(/([\(\)])/),i=1,r=e.length;i<r;i+=2)"("===e[i]?(1==this.depth%2&&(e[i]="["),this.depth+=1):")"===e[i]&&(0==this.depth%2&&(e[i]="]"),this.depth-=1);return e.join("")}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"collection-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(t){if(this.opt.development_extensions.locator_date_and_revision&&t.locator){t.locator=""+t.locator;var e=t.locator.indexOf("|");if(-1<e){var i=t.locator;t.locator=i.slice(0,e);var r=(i=i.slice(e+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);r&&(t["locator-date"]=this.fun.dateparser.parseDateToObject(r[1]),i=i.slice(r[1].length)),t["locator-extra"]=i.replace(/^\s+/,"").replace(/\s+$/,"")}}return t.locator&&(t.locator=(""+t.locator).replace(/\s+$/,"")),t},normalizeLocaleStr:function(t){if(t){var e=t.split("-");return e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),e.join("-")}},parseNoteFieldHacks:function(t,e,i){if("string"==typeof t.note){for(var r=[],s=t.note.split("\n"),n=0,a=s.length;n<a;n++){r=[];var o=(f=s[n]).match(Nt.NOTE_FIELDS_REGEXP);if(o){for(var l=f.split(Nt.NOTE_FIELDS_REGEXP),u=0,p=l.length-1;u<p;u++)r.push(l[u]),r.push(o[u]);r.push(l[l.length-1]);for(u=1,p=r.length;u<p&&(!r[u-1].trim()||!(0<n||1<u)||r[u-1].match(Nt.NOTE_FIELD_REGEXP));u+=2)r[u]="\n"+r[u].slice(2,-1).trim()+"\n";s[n]=r.join("")}}var c=0,h={};for(n=0,a=(s=s.join("\n").split("\n")).length;n<a;n++){var f,m=(f=s[n]).match(Nt.NOTE_FIELD_REGEXP);if(f.trim()){if(!m){if(0===n)continue;c=n;break}var d=m[1],g=m[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===d)t.type=g,s[n]="";else if(-1<Nt.DATE_VARIABLES.indexOf(d.replace(/^alt-/,"")))t[d]&&!i||(t[d]=Nt.DateParser.parseDateToArray(g),(!e||e[d]&&this.isDateString(g))&&(s[n]=""));else if(!t[d]){if(-1<Nt.NAME_VARIABLES.indexOf(d.replace(/^alt-/,""))){h[d]||(h[d]=[]);var b=g.split(/\s*\|\|\s*/);if(1===b.length)h[d].push({literal:b[0]});else if(2===b.length){var y={family:b[0],given:b[1]};Nt.parseParticles(y),h[d].push(y)}}else t[d]=g;e&&!e[d]||(s[n]="")}}}for(var d in h)t[d]=h[d];if(e){s[c].trim()&&(s[c]="\n"+s[c]);for(n=c-1;-1<n;n--)s[n].trim()||(s=s.slice(0,n).concat(s.slice(n+1)))}t.note=s.join("\n").trim()}},checkPrefixSpaceAppend:function(t,e){var i="",r=(e=e||"").replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),s=r.slice(-1);return r.match(Nt.ENDSWITH_ROMANESQUE_REGEXP)?i=" ":-1<Nt.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)?i=" ":s.match(/[\)\],0-9]/)&&(i=" "),e=(e+i).replace(/\s+/g," ")},checkIgnorePredecessor:function(t,e){var i=e.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,"").slice(-1);return-1<Nt.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(i)&&-1<e.trim().indexOf(" ")&&!(t.tmp.term_predecessor=!1)},checkSuffixSpacePrepend:function(t,e){return e?((e.match(Nt.STARTSWITH_ROMANESQUE_REGEXP)||-1<["[","("].indexOf(e.slice(0,1)))&&(e=" "+e),e):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],PARALLEL_MATCH_VARS:["container-title"],PARALLEL_TYPES:["bill","gazette","regulation","legislation","legal_case","treaty","article-magazine","article-journal"],PARALLEL_COLLAPSING_MID_VARSET:["volume","issue","container-title","section","collection-number"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator","commenter"],CREATORS:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(t){for(var e=["title","short","main","sub","subjoin"],i={},r=0,s=e.length;r<s;r++)i[e[r]]=t+"title"+("title"===e[r]?"":"-"+e[r]);return i},demoteNoiseWords:function(t,e,i){var r=t.locale[t.opt.lang].opts["leading-noise-words"];if(e&&i){(e=e.split(/\s+/)).reverse();for(var s=[],n=e.length-1;-1<n&&-1<r.indexOf(e[n].toLowerCase());n+=-1)s.push(e.pop());e.reverse();var a=e.join(" "),o=s.join(" ");"drop"!==i&&o?"demote"===i&&(e=[a,o].join(", ")):e=a}return e},extractTitleAndSubtitle:function(t,e){for(var i=e?"\u202f":"",r=["","container-"],s=0,n=r.length;s<n;s++){var a=r[s],o=Nt.TITLE_FIELD_SPLITS(a),l=[!1];if(t.multi)for(var u in t.multi._keys[o["short"]])l.push(u);for(var p=0,c=l.length;p<c;p++){var h={};(u=l[p])?(t.multi._keys[o.title]&&(h[o.title]=t.multi._keys[o.title][u]),t.multi._keys[o["short"]]&&(h[o["short"]]=t.multi._keys[o["short"]][u])):(h[o.title]=t[o.title],h[o["short"]]=t[o["short"]]),h[o.main]=h[o.title],h[o.sub]=!1;var f=h[o["short"]];if(h[o.title]){if(f&&f.toLowerCase()===h[o.title].toLowerCase())h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]="";else if(f){var m=h[o.title].slice(f.replace(/[\?\!]+$/,"").length),d=h[o.title].replace(m.replace(/^[\?\!]+/,""),"").trim();if((y=Nt.TITLE_SPLIT_REGEXP.matchfirst.exec(m))&&d.toLowerCase()===f.toLowerCase())h[o.main]=d,h[o.subjoin]=y[1].replace(/[\?\!]+(\s*)$/,"$1"),h[o.sub]=m.replace(Nt.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(h[o["short"]]=h[o.main]);else 3==(g=Nt.TITLE_SPLIT(h[o.title])).length?(h[o.main]=g[0],h[o.subjoin]=g[1],h[o.sub]=g[2]):(h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]="")}else{var g;if(3==(g=Nt.TITLE_SPLIT(h[o.title])).length){if(h[o.main]=g[0],h[o.subjoin]=g[1],h[o.sub]=g[2],this.opt.development_extensions.implicit_short_title&&!t[o["short"]]&&!h[o.main].match(/^[\-\.[0-9]+$/)){var b=h[o.subjoin].trim();-1===["?","!"].indexOf(b)&&(b=""),h[o["short"]]=h[o.main]+b}}else h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]=""}if(h[o.subjoin]&&h[o.subjoin].match(/([\?\!])/)){var y=h[o.subjoin].match(/(\s*)$/);h[o.main]=h[o.main]+i+h[o.subjoin].trim(),h[o.subjoin]=y[1]}}if(h[o.subjoin]&&(-1<h[o.subjoin].indexOf(":")&&(h[o.subjoin]=i+": "),(-1<h[o.subjoin].indexOf("-")||-1<h[o.subjoin].indexOf("\u2014"))&&(h[o.subjoin]="\u2014")),u)for(var v in h)t.multi._keys[v]||(t.multi._keys[v]={}),t.multi._keys[v][u]=h[v];else for(var v in h)t[v]=h[v]}}},titlecaseSentenceOrNormal:function(t,e,i,r,s){var n=Nt.TITLE_FIELD_SPLITS(i),a={};if(r&&e.multi?(e.multi._keys[n.title]&&(a[n.title]=e.multi._keys[n.title][r]),e.multi._keys[n.main]&&(a[n.main]=e.multi._keys[n.main][r]),e.multi._keys[n.sub]&&(a[n.sub]=e.multi._keys[n.sub][r]),e.multi._keys[n.subjoin]&&(a[n.subjoin]=e.multi._keys[n.subjoin][r])):(a[n.title]=e[n.title],a[n.main]=e[n.main],a[n.sub]=e[n.sub],a[n.subjoin]=e[n.subjoin]),a[n.main]&&a[n.sub]){var o=a[n.main],l=a[n.subjoin],u=a[n.sub];return s?(o=Nt.Output.Formatters.sentence(t,o),u=Nt.Output.Formatters.sentence(t,u)):t.opt.development_extensions.uppercase_subtitles&&(u=Nt.Output.Formatters["capitalize-first"](t,u)),[o,l,u].join("")}if(a[n.title]){if(s)return Nt.Output.Formatters.sentence(t,a[n.title]);if(t.opt.development_extensions.uppercase_subtitles){for(var p=Nt.TITLE_SPLIT(a[n.title]),c=0,h=p.length;c<h;c+=2)p[c]=Nt.Output.Formatters["capitalize-first"](t,p[c]);for(c=1,h=p.length-1;c<h;c+=2){var f=p[c].match(/([:\?\!] )/);if(f){var m="fr"===t.opt["default-locale"][0].slice(0,2).toLowerCase()?"\u202f":"";p[c]=m+f[1]}(-1<p[c].indexOf("-")||-1<p[c].indexOf("\u2014"))&&(p[c]="\u2014")}return a[n.title]=p.join(""),a[n.title]}return a[n.title]}return""},getSafeEscape:function(r){if(-1<["bibliography","citation"].indexOf(r.tmp.area)){var s=[];return r.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===r.opt.mode&&s.push(function(t){return t.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),s.length?function(t){for(var e=0,i=s.length;e<i;e+=1)t=s[e](t);return Nt.Output.Formats[r.opt.mode].text_escape(t)}:Nt.Output.Formats[r.opt.mode].text_escape}return function(t){return t}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-\xe0-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokm\xe5l)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"\xaa":"a","\xb2":"2","\xb3":"3","\xb9":"1","\xba":"o","\u02b0":"h","\u02b1":"\u0266","\u02b2":"j","\u02b3":"r","\u02b4":"\u0279","\u02b5":"\u027b","\u02b6":"\u0281","\u02b7":"w","\u02b8":"y","\u02e0":"\u0263","\u02e1":"l","\u02e2":"s","\u02e3":"x","\u02e4":"\u0295","\u1d2c":"A","\u1d2d":"\xc6","\u1d2e":"B","\u1d30":"D","\u1d31":"E","\u1d32":"\u018e","\u1d33":"G","\u1d34":"H","\u1d35":"I","\u1d36":"J","\u1d37":"K","\u1d38":"L","\u1d39":"M","\u1d3a":"N","\u1d3c":"O","\u1d3d":"\u0222","\u1d3e":"P","\u1d3f":"R","\u1d40":"T","\u1d41":"U","\u1d42":"W","\u1d43":"a","\u1d44":"\u0250","\u1d45":"\u0251","\u1d46":"\u1d02","\u1d47":"b","\u1d48":"d","\u1d49":"e","\u1d4a":"\u0259","\u1d4b":"\u025b","\u1d4c":"\u025c","\u1d4d":"g","\u1d4f":"k","\u1d50":"m","\u1d51":"\u014b","\u1d52":"o","\u1d53":"\u0254","\u1d54":"\u1d16","\u1d55":"\u1d17","\u1d56":"p","\u1d57":"t","\u1d58":"u","\u1d59":"\u1d1d","\u1d5a":"\u026f","\u1d5b":"v","\u1d5c":"\u1d25","\u1d5d":"\u03b2","\u1d5e":"\u03b3","\u1d5f":"\u03b4","\u1d60":"\u03c6","\u1d61":"\u03c7","\u2070":"0","\u2071":"i","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u207a":"+","\u207b":"\u2212","\u207c":"=","\u207d":"(","\u207e":")","\u207f":"n","\u2120":"SM","\u2122":"TM","\u3192":"\u4e00","\u3193":"\u4e8c","\u3194":"\u4e09","\u3195":"\u56db","\u3196":"\u4e0a","\u3197":"\u4e2d","\u3198":"\u4e0b","\u3199":"\u7532","\u319a":"\u4e59","\u319b":"\u4e19","\u319c":"\u4e01","\u319d":"\u5929","\u319e":"\u5730","\u319f":"\u4eba","\u02c0":"\u0294","\u02c1":"\u0295","\u06e5":"\u0648","\u06e6":"\u064a"},SUPERSCRIPTS_REGEXP:new RegExp("[\xaa\xb2\xb3\xb9\xba\u02b0\u02b1\u02b2\u02b3\u02b4\u02b5\u02b6\u02b7\u02b8\u02e0\u02e1\u02e2\u02e3\u02e4\u1d2c\u1d2d\u1d2e\u1d30\u1d31\u1d32\u1d33\u1d34\u1d35\u1d36\u1d37\u1d38\u1d39\u1d3a\u1d3c\u1d3d\u1d3e\u1d3f\u1d40\u1d41\u1d42\u1d43\u1d44\u1d45\u1d46\u1d47\u1d48\u1d49\u1d4a\u1d4b\u1d4c\u1d4d\u1d4f\u1d50\u1d51\u1d52\u1d53\u1d54\u1d55\u1d56\u1d57\u1d58\u1d59\u1d5a\u1d5b\u1d5c\u1d5d\u1d5e\u1d5f\u1d60\u1d61\u2070\u2071\u2074\u2075\u2076\u2077\u2078\u2079\u207a\u207b\u207c\u207d\u207e\u207f\u2120\u2122\u3192\u3193\u3194\u3195\u3196\u3197\u3198\u3199\u319a\u319b\u319c\u319d\u319e\u319f\u02c0\u02c1\u06e5\u06e6]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(t,e,i){t.tmp.group_context.tip.condition?t.tmp.group_context.tip.condition.test&&(t.tmp.group_context.tip.condition.termtxt=e,t.tmp.group_context.tip.condition.valueTerm=i):e.slice(-1).match(/[0-9]/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1},EVALUATE_GROUP_CONDITION:function(t,e){var i;if("empty-label"===e.condition.test)i=!e.condition.termtxt;else if("empty-label-no-decor"===e.condition.test)i=!e.condition.termtxt||-1<e.condition.termtxt.indexOf("%s");else if("comma-safe"===e.condition.test){var r=!e.condition.termtxt,s=!1;e.condition.termtxt&&(s=e.condition.termtxt.slice(0,1).match(Nt.ALL_ROMANESQUE_REGEXP));var n=t.tmp.just_did_number;i=r?!!n:!e.condition.valueTerm&&!!s}if(i)var a=!1;else a=!0;return e.condition.not&&(a=!a),a},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title"],TITLE_SPLIT_REGEXP:(r=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*\u2014\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"],{match:new RegExp("("+r.join("|")+")","g"),matchfirst:new RegExp("^("+r.join("|")+")"),split:new RegExp("(?:"+r.join("|")+")")}),TITLE_SPLIT:function(t){if(!t)return t;for(var e=t.match(Nt.TITLE_SPLIT_REGEXP.match),i=t.split(Nt.TITLE_SPLIT_REGEXP.split),r=i.length-2;-1<r;r--)i[r]=i[r].trim(),i=i[r]&&i[r].slice(-1).toLowerCase()!==i[r].slice(-1)?(i[r]=i[r]+e[r]+i[r+1],i.slice(0,r+1).concat(i.slice(r+2))):i.slice(0,r+1).concat([e[r]]).concat(i.slice(r+1));return i},GET_COURT_CLASS:function(t,e,i){var r="",s=null,n=e.jurisdiction?e.jurisdiction.split(":")[0]:null,a="court_condition_classes";return i&&(a="court_key_classes"),n&&e.authority&&("string"==typeof e.authority?s=e.authority:e.authority[0]&&e.authority[0].literal&&(s=e.authority[0].literal)),s&&(this.lang&&t.locale[this.lang].opts[a]&&t.locale[this.lang].opts[a][n]&&t.locale[this.lang].opts[a][n][s]?r=t.locale[this.lang].opts[a][n][s]:t.locale[t.opt["default-locale"][0]].opts[a]&&t.locale[t.opt["default-locale"][0]].opts[a][n]&&t.locale[t.opt["default-locale"][0]].opts[a][n][s]&&(r=t.locale[t.opt["default-locale"][0]].opts[a][n][s])),r},SET_COURT_CLASSES:function(t,e,i,r){for(var s=i.getNodesByName(r,"court-class"),n=0,a=i.numberofnodes(s);n<a;n+=1){var o=s[n],l=i.attributes(o),u=l["@name"],p=l["@country"],c=l["@courts"],h="court_key_classes";if(t.registry&&(h="court_condition_classes"),u&&p&&c){c=c.trim().split(/\s+/),t.locale[e].opts[h]||(t.locale[e].opts[h]={}),t.locale[e].opts[h][p]||(t.locale[e].opts[h][p]={});for(var f=0,m=c.length;f<m;f++)t.locale[e].opts[h][p][c[f]]=u}}},INIT_JURISDICTION_MACROS:function(t,e,i){if(!t.sys.retrieveStyleModule||!Nt.MODULE_MACROS[i]||!e.jurisdiction)return!1;var r=t.getJurisdictionList(e.jurisdiction);if(!t.opt.jurisdictions_seen[r[0]]){var s=t.retrieveAllStyleModules(r);for(var n in s){t.juris[n]={};var a=Nt.setupXml(s[n]);a.addMissingNameNodes(a.dataObj),a.addInstitutionNodes(a.dataObj),a.insertPublisherAndPlace(a.dataObj),a.flagDateMacros(a.dataObj);for(var o=0,l=(f=a.getNodesByName(a.dataObj,"law-module")).length;o<l;o++){var u=a.getAttributeValue(f[o],"types");if(u){t.juris[n].types={};for(var p=0,c=(u=u.split(/\s+/)).length;p<c;p++)t.juris[n].types[u[p]]=!0}}var h=t.opt.lang?t.opt.lang:t.opt["default-locale"][0];Nt.SET_COURT_CLASSES(t,h,a,a.dataObj),t.juris[n].types||(t.juris[n].types=Nt.MODULE_TYPES);var f;for(o=0,l=(f=a.getNodesByName(a.dataObj,"macro")).length;o<l;o++){var m=a.getAttributeValue(f[o],"name");Nt.MODULE_MACROS[m]?(0,t.juris[n][m]=[],t.buildTokenLists(f[o],t.juris[n][m]),t.configureTokenList(t.juris[n][m])):Nt.debug('CSL: skipping non-modular macro name "'+m+'" in module context')}}}t.opt.parallel.enable&&(t.parallel||(t.parallel=new Nt.Parallel(t)));for(o=0,l=r.length;o<l;o++){n=r[o];if(t.juris[n]&&t.juris[n].types[e.type])return e["best-jurisdiction"]=n,!0}return!1}};function g(t){var e=t.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!e||e[2].match(/^[\u0370-\u03FF]$/)&&!e[3]?t:e[1]+e[2].toUpperCase()+e[3]}function b(s,t){if(!t)return"";s.doppel=f.split(t);var n={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"\u2018":{opener:"\u2018",closer:"\u2019"},"\u201c":{opener:"\u201c",closer:"\u201d"}};function r(t,e){return-1<["\u201c","\u2018",' "'," '"].indexOf(t)?function r(t,e){if(0===s.quoteState.length||t===s.quoteState[s.quoteState.length-1].opener)return s.quoteState.push({opener:n[t].opener,closer:n[t].closer,pos:e}),!1;var i=s.quoteState[s.quoteState.length-1].pos;return s.quoteState.pop(),s.quoteState.push({opener:n[t].opener,closer:n[t].closer,positions:e}),i}(t,e):function i(t,e){if(!(0<s.quoteState.length&&t===s.quoteState[s.quoteState.length-1].closer))return e;s.quoteState.pop()}(t,e)}function e(t,e){var i=t.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(i)return r(i[1],e)}s.doppel.strings.length&&s.doppel.strings[0].trim()&&(s.doppel.strings[0]=s.capitaliseWords(s.doppel.strings[0],0,s.doppel.tags[0]));for(var i=0,a=s.doppel.tags.length;i<a;i++){var o=s.doppel.tags[i],l=s.doppel.strings[i+1];if(null!==s.tagState&&(d[o]?s.tagState.push(d[o]):s.tagState.length&&o===s.tagState[s.tagState.length-1]&&s.tagState.pop()),null!==s.afterPunct&&o.match(/[\!\?\:]$/)&&(s.afterPunct=!0),0===s.tagState.length?s.doppel.strings[i+1]=s.capitaliseWords(l,i+1,s.doppel,s.doppel.tags[i+1]):s.doppel.strings[i+1].trim()&&(s.lastWordPos=null),null!==s.quoteState)if((p=e(o,i))||0===p){var u=s.doppel.origStrings[p+1].slice(0,1);s.doppel.strings[p+1]=u+s.doppel.strings[p+1].slice(1),s.lastWordPos=null}s.isFirst&&l.trim()&&(s.isFirst=!1),s.afterPunct&&l.trim()&&(s.afterPunct=!1)}if(s.quoteState)for(i=0,a=s.quoteState.length;i<a;i++){var p;if(void 0!==(p=s.quoteState[i].pos)){u=s.doppel.origStrings[p+1].slice(0,1);s.doppel.strings[p+1]=u+s.doppel.strings[p+1].slice(1)}}if(s.lastWordPos){var c=m.split(s.doppel.strings[s.lastWordPos.strings]),h=c.strings[s.lastWordPos.words];1<h.length&&h.toLowerCase().match(s.skipWordsRex)&&(h=g(h),c.strings[s.lastWordPos.words]=h),s.doppel.strings[s.lastWordPos.strings]=m.join(c)}return f.join(s.doppel)}function y(t,e,i){var r=t;t=i?t.toLowerCase():t;var s,n,a=[];s=e?(t=t.split("").reverse().join(""),Nt.PARTICLE_GIVEN_REGEXP):Nt.PARTICLE_FAMILY_REGEXP;for(var o=t.match(s);o;){var l,u=e?o[1].split("").reverse().join(""):o[1];if(!(n=!!(l=!!(l=!!o&&u)&&u.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&l.toUpperCase()!==l))break;r=e?(a.push(r.slice(-1*u.length)),r.slice(0,-1*u.length)):(a.push(r.slice(0,u.length)),r.slice(u.length)),o=(t=o[2]).match(s)}if(e){t=t.split("").reverse().join(""),a.reverse();for(var p=1,c=a.length;p<c;p++)" "==a[p].slice(0,1)&&(a[p-1]+=" ");for(p=0,c=a.length;p<c;p++)" "==a[p].slice(0,1)&&(a[p]=a[p].slice(1));t=r.slice(0,t.length)}else t=r.slice(-1*t.length);return[n,t,a]}Nt.XmlJSON=function(t){this.dataObj=t,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", ","substitute-use-first":"1","use-last":"1"},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},Nt.XmlJSON.prototype.clean=function(t){return t},Nt.XmlJSON.prototype.getStyleId=function(t,e){var i="id";e&&(i="title");for(var r="",s=t.children,n=0,a=s.length;n<a;n++)if("info"===s[n].name)for(var o=s[n].children,l=0,u=o.length;l<u;l++)o[l].name===i&&(r=o[l].children[0]);return r},Nt.XmlJSON.prototype.children=function(t){return!(!t||!t.children.length)&&t.children.slice()},Nt.XmlJSON.prototype.nodename=function(t){return t?t.name:null},Nt.XmlJSON.prototype.attributes=function(t){var e={};for(var i in t.attrs)e["@"+i]=t.attrs[i];return e},Nt.XmlJSON.prototype.content=function(t){var e="";if(!t||!t.children)return e;for(var i=0,r=t.children.length;i<r;i+=1)"string"==typeof t.children[i]&&(e+=t.children[i]);return e},Nt.XmlJSON.prototype.namespace={},Nt.XmlJSON.prototype.numberofnodes=function(t){return t&&"number"==typeof t.length?t.length:0},Nt.XmlJSON.prototype.getAttributeValue=function(t,e,i){var r="";return i&&(e=i+":"+e),t&&t.attrs&&(r=t.attrs[e]?t.attrs[e]:""),r},Nt.XmlJSON.prototype.getNodeValue=function(t,e){var i="";if(e)for(var r=0,s=t.children.length;r<s;r+=1)t.children[r].name===e&&(i=t.children[r].children.length?t.children[r]:"");else t&&(i=t);return i&&i.children&&1==i.children.length&&"string"==typeof i.children[0]&&(i=i.children[0]),i},Nt.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,r,s){"@"===r.slice(0,1)&&(r=r.slice(1));for(var n=0,a=t.children.length;n<a;n+=1)t.children[n].name===e&&t.children[n].attrs.name===i&&(t.children[n].attrs[r]=s)},Nt.XmlJSON.prototype.deleteNodeByNameAttribute=function(t,e){var i,r;for(i=0,r=t.children.length;i<r;i+=1)t.children[i]&&"string"!=typeof t.children[i]&&t.children[i].attrs.name==e&&(t.children=t.children.slice(0,i).concat(t.children.slice(i+1)))},Nt.XmlJSON.prototype.deleteAttribute=function(t,e){"undefined"!=typeof t.attrs[e]&&t.attrs.pop(e)},Nt.XmlJSON.prototype.setAttribute=function(t,e,i){return t.attrs[e]=i,!1},Nt.XmlJSON.prototype.nodeCopy=function(t,e){if(!e)e={};if("object"===K(e)&&"undefined"==typeof e.length)for(var i in t)"string"==typeof t[i]?e[i]=t[i]:"object"===K(t[i])&&("undefined"==typeof t[i].length?e[i]=this.nodeCopy(t[i],{}):e[i]=this.nodeCopy(t[i],[]));else for(var r=0,s=t.length;r<s;r+=1)"string"==typeof t[r]?e[r]=t[r]:e[r]=this.nodeCopy(t[r],{});return e},Nt.XmlJSON.prototype.getNodesByName=function(t,e,i,r){if(!r)r=[];if(!t||!t.children)return r;e===t.name&&(i?i===t.attrs.name&&r.push(t):r.push(t));for(var s=0,n=t.children.length;s<n;s+=1)"object"===K(t.children[s])&&this.getNodesByName(t.children[s],e,i,r);return r},Nt.XmlJSON.prototype.nodeNameIs=function(t,e){return void 0!==t&&e==t.name},Nt.XmlJSON.prototype.makeXml=function(t){return"string"==typeof t&&(t="<"===t.slice(0,1)?this.jsonStringWalker.walkToObject(t):JSON.parse(t)),t},Nt.XmlJSON.prototype.insertChildNodeAfter=function(t,e,i,r){for(var s=0,n=t.children.length;s<n;s+=1)if(e===t.children[s]){t.children=t.children.slice(0,s).concat([r]).concat(t.children.slice(s+1));break}return t},Nt.XmlJSON.prototype.insertPublisherAndPlace=function(t){if("group"===t.name){for(var e=!0,i=["publisher","publisher-place"],r=0,s=t.children.length;r<s;r+=1){var n=i.indexOf(t.children[r].attrs.variable);if(!("text"===t.children[r].name&&-1<n)||t.children[r].attrs.prefix||t.children[r].attrs.suffix){e=!1;break}i=i.slice(0,n).concat(i.slice(n+1))}e&&!i.length&&(t.attrs["has-publisher-and-publisher-place"]=!0)}for(r=0,s=t.children.length;r<s;r+=1)"object"===K(t.children[r])&&this.insertPublisherAndPlace(t.children[r])},Nt.XmlJSON.prototype.isChildOfSubstitute=function(t){if(0<t.length){var e=t.slice();return"substitute"===e.pop()||this.isChildOfSubstitute(e)}return!1},Nt.XmlJSON.prototype.addMissingNameNodes=function(t,e){if(e=e||[],"names"===t.name&&!this.isChildOfSubstitute(e)){for(var i=!0,r=0,s=t.children.length;r<s;r++)if("name"===t.children[r].name){i=!1;break}i&&(t.children=[{name:"name",attrs:{},children:[]}].concat(t.children))}e.push(t.name);for(r=0,s=t.children.length;r<s;r+=1)"object"===K(t.children[r])&&this.addMissingNameNodes(t.children[r],e);e.pop()},Nt.XmlJSON.prototype.addInstitutionNodes=function(t){if("names"===t.name){for(var e={},i=-1,r=0,s=t.children.length;r<s;r+=1){if("name"==t.children[r].name){for(var n in t.children[r].attrs)e[n]=t.children[r].attrs[n];e.delimiter=t.children[r].attrs.delimiter,e.and=t.children[r].attrs.and,i=r;for(var a=0,o=t.children[r].children.length;a<o;a+=1)if("family"===t.children[r].children[a].attrs.name)for(var n in t.children[r].children[a].attrs)e[n]=t.children[r].children[a].attrs[n]}if("institution"==t.children[r].name){i=-1;break}}if(-1<i){var l=this.nodeCopy(this.institution);for(r=0,s=Nt.INSTITUTION_KEYS.length;r<s;r+=1){var u=Nt.INSTITUTION_KEYS[r];"undefined"!=typeof e[u]&&(l.children[0].attrs[u]=e[u]),e.delimiter&&(l.attrs.delimiter=e.delimiter),e.and&&(l.attrs.and="text")}t.children=t.children.slice(0,i+1).concat([l]).concat(t.children.slice(i+1))}}for(r=0,s=t.children.length;r<s;r+=1)"string"!=typeof t.children[r]&&this.addInstitutionNodes(t.children[r])},Nt.XmlJSON.prototype.flagDateMacros=function(t){for(var e=0,i=t.children.length;e<i;e+=1)"macro"===t.children[e].name&&this.inspectDateMacros(t.children[e])&&(t.children[e].attrs["macro-has-date"]="true")},Nt.XmlJSON.prototype.inspectDateMacros=function(t){if(!t||!t.children)return!1;if("date"===t.name)return!0;for(var e=0,i=t.children.length;e<i;e+=1)if(this.inspectDateMacros(t.children[e]))return!0;return!1},Nt.stripXmlProcessingInstruction=function(t){return t?t=(t=(t=(t=t.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):t},Nt.parseXml=function(t){var e={children:[]},s=[e.children];function c(t){return t.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(t,e){var i=parseInt(e,10);return String.fromCharCode(i)}).replace(/&#x([a-f0-9]{1,6});/gi,function(t,e){var i=parseInt(e,16);return String.fromCharCode(i)})}function h(t){var e=RegExp("^<([^\t />]+)"),i=t.match(e);return i?i[1]:null}function n(t){var e={};e.name=h(t),e.attrs={};var i,r,s,n,a=function p(t){var e=t.match(/([^\'\"=\x09 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(e)for(var i=0,r=e.length;i<r;i++)e[i]=e[i].replace(/=.*/,"");return e}(t);if(a)for(var o=0,l=a.length;o<l;o++){var u={name:a[o],value:(i=t,r=a[o],void 0,n=void 0,s=RegExp("^.*[\t ]+"+r+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),n=i.match(s),n?n[1].slice(1,-1):null)};e.attrs[u.name]=c(u.value)}return e.children=[],e}function a(t){s.slice(-1)[0].push(t)}function i(t){var e;-1<t.slice(1).indexOf("<")?((e=n(t.slice(0,t.indexOf(">")+1))).children=[function i(t){return c(t.match(/^.*>([^<]*)<.*$/)[1])}(t)],a(e)):"/>"===t.slice(-2)?(e=n(t),"term"===h(t)&&e.children.push(""),a(e)):"</"===t.slice(0,2)?s.pop():(a(e=n(t)),function r(t){s.push(t.children)}(e))}for(var r=function u(t){for(var e=(t=t.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[\x09 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),i=null,r=0,s=e.length;r<s;r++)0<r&&(e[r]="<"+e[r]),r<e.length-1&&(e[r]=e[r]+">"),"number"!=typeof i&&("<style "!==e[r].slice(0,7)&&"<locale "!=e[r].slice(0,8)||(i=r));for(r=(e=e.slice(i)).length-2;-1<r;r--)if(-1===e[r].slice(1).indexOf("<")){var n=e[r].slice(0,5);"/>"!==e[r].slice(-2)&&("<term"===n?"</term"===e[r+1].slice(0,6)&&(e[r]=e[r]+e[r+1],e=e.slice(0,r+1).concat(e.slice(r+2))):-1<["<sing","<mult"].indexOf(n)&&"/>"!==e[r].slice(-2)&&"<"===e[r+1].slice(0,1)&&(e[r]=e[r]+e[r+1],e=e.slice(0,r+1).concat(e.slice(r+2))))}return e}(t),o=0,l=r.length;o<l;o++){i(r[o])}return e.children[0]},Nt.XmlDOM=function(t){this.dataObj=t,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t,e){var i;return"undefined"!=typeof ActiveXObject?((i=new ActiveXObject("MSXML.DomDocument")).async=!1,i.loadXML(t),i):"undefined"!=typeof XMLHttpRequest?(e=e||"text/xml",(i=new XMLHttpRequest).open("GET","data:"+e+";charset=utf-8,"+encodeURIComponent(t),!1),i.overrideMimeType&&i.overrideMimeType(e),i.send(null),i.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(t):void 0},this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)}):this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)},this.importNode=function(t,e){return"undefined"==typeof t.importNode?this._importNode(t,e,!0):t.importNode(e,!0)},this._importNode=function(t,e,i){switch(e.nodeType){case 1:var r=t.createElement(e.nodeName);if(e.attributes&&0<e.attributes.length)for(var s=0,n=e.attributes.length;s<n;)r.setAttribute(e.attributes[s].nodeName,e.getAttribute(e.attributes[s++].nodeName));if(i&&e.childNodes&&0<e.childNodes.length)for(s=0,n=e.childNodes.length;s<n;)r.appendChild(this._importNode(t,e.childNodes[s++],i));return r}},this.parser=new DOMParser;var e=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),i=e.getElementsByTagName("institution");this.institution=i.item(0);var r=e.getElementsByTagName("institution-part");this.institutionpart=r.item(0),this.ns="http://purl.org/net/xbiblio/csl"},Nt.XmlDOM.prototype.clean=function(t){return t=(t=(t=(t=(t=t.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},Nt.XmlDOM.prototype.getStyleId=function(t,e){var i="",r="id";e&&(r="title");var s=t.getElementsByTagName(r);return s&&s.length&&(s=s.item(0)),s&&(i=s.textContent),i=(i=i||s.innerText)||s.innerHTML},Nt.XmlDOM.prototype.children=function(t){var e,i,r,s;if(t){for(s=[],i=0,r=(e=t.childNodes).length;i<r;i+=1)"#text"!=e[i].nodeName&&s.push(e[i]);return s}return[]},Nt.XmlDOM.prototype.nodename=function(t){return t.nodeName},Nt.XmlDOM.prototype.attributes=function(t){var e,i,r,s,n;if(e=new Object,t&&this.hasAttributes(t))for(s=0,n=(i=t.attributes).length;s<n;s+=1)e["@"+(r=i[s]).name]=r.value;return e},Nt.XmlDOM.prototype.content=function(t){return"undefined"!=typeof t.textContent?t.textContent:"undefined"!=typeof t.innerText?t.innerText:t.txt},Nt.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},Nt.XmlDOM.prototype.numberofnodes=function(t){return t?t.length:0},Nt.XmlDOM.prototype.getAttributeName=function(t){return t.name},Nt.XmlDOM.prototype.getAttributeValue=function(t,e,i){var r="";return i&&(e=i+":"+e),t&&this.hasAttributes(t)&&t.getAttribute(e)&&(r=t.getAttribute(e)),r},Nt.XmlDOM.prototype.getNodeValue=function(t,e){var i=null;if(e){var r=t.getElementsByTagName(e);0<r.length&&(i="undefined"!=typeof r[0].textContent?r[0].textContent:"undefined"!=typeof r[0].innerText?r[0].innerText:r[0].text)}return null===i&&t&&t.childNodes&&(0==t.childNodes.length||1==t.childNodes.length&&"#text"==t.firstChild.nodeName)&&(i="undefined"!=typeof t.textContent?t.textContent:"undefined"!=typeof t.innerText?t.innerText:t.text),null===i&&(i=t),i},Nt.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,r,s){var n,a,o,l;for("@"===r.slice(0,1)&&(r=r.slice(1)),n=0,a=(o=t.getElementsByTagName(e)).length;n<a;n+=1)(l=o[n]).getAttribute("name")==i&&l.setAttribute(r,s)},Nt.XmlDOM.prototype.deleteNodeByNameAttribute=function(t,e){var i,r,s,n;for(i=0,r=(n=t.childNodes).length;i<r;i+=1)(s=n[i])&&s.nodeType!=s.TEXT_NODE&&this.hasAttributes(s)&&s.getAttribute("name")==e&&t.removeChild(n[i])},Nt.XmlDOM.prototype.deleteAttribute=function(t,e){t.removeAttribute(e)},Nt.XmlDOM.prototype.setAttribute=function(t,e,i){return t.ownerDocument||(t=t.firstChild),-1<["function","unknown"].indexOf(K(t.setAttribute))&&t.setAttribute(e,i),!1},Nt.XmlDOM.prototype.nodeCopy=function(t){return t.cloneNode(!0)},Nt.XmlDOM.prototype.getNodesByName=function(t,e,i){var r,s,n,a,o;for(r=[],a=0,o=(s=t.getElementsByTagName(e)).length;a<o;a+=1)n=s.item(a),(!i||this.hasAttributes(n)&&n.getAttribute("name")==i)&&r.push(n);return r},Nt.XmlDOM.prototype.nodeNameIs=function(t,e){return e==t.nodeName},Nt.XmlDOM.prototype.makeXml=function(t){return t=(t=t||"<docco><bogus/></docco>").replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(t,"application/xml").firstChild},Nt.XmlDOM.prototype.insertChildNodeAfter=function(t,e,i,r){var s;return s=this.importNode(e.ownerDocument,r),t.replaceChild(s,e),t},Nt.XmlDOM.prototype.insertPublisherAndPlace=function(t){for(var e=t.getElementsByTagName("group"),i=0,r=e.length;i<r;i+=1){for(var s=e.item(i),n=[],a=0,o=s.childNodes.length;a<o;a+=1)1!==s.childNodes.item(a).nodeType&&n.push(a);if(s.childNodes.length-n.length==2){var l=[];for(a=0,o=2;a<o;a+=1)if(!(-1<n.indexOf(a))){for(var u=s.childNodes.item(a),p=[],c=0,h=u.childNodes.length;c<h;c+=1)1!==u.childNodes.item(c).nodeType&&p.push(c);if(u.childNodes.length-p.length==0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}-1<l.indexOf("publisher")&&-1<l.indexOf("publisher-place")&&s.setAttribute("has-publisher-and-publisher-place",!0)}}},Nt.XmlDOM.prototype.isChildOfSubstitute=function(t){return!!t.parentNode&&("substitute"===t.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(t.parentNode))},Nt.XmlDOM.prototype.addMissingNameNodes=function(t){for(var e=t.getElementsByTagName("names"),i=0,r=e.length;i<r;i+=1){var s=e.item(i),n=s.getElementsByTagName("name");if(!(n&&0!==n.length||this.isChildOfSubstitute(s))){var a=s.ownerDocument.createElement("name");s.appendChild(a)}}},Nt.XmlDOM.prototype.addInstitutionNodes=function(t){var e,i,r,s,n,a,o,l;for(o=0,l=(e=t.getElementsByTagName("names")).length;o<l;o+=1)if(0!=(n=(i=e.item(o)).getElementsByTagName("name")).length&&0==i.getElementsByTagName("institution").length){s=(r=this.importNode(t.ownerDocument,this.institution)).getElementsByTagName("institution-part").item(0),a=n.item(0),i.insertBefore(r,a.nextSibling);for(var u=0,p=Nt.INSTITUTION_KEYS.length;u<p;u+=1){var c=Nt.INSTITUTION_KEYS[u];(d=a.getAttribute(c))&&s.setAttribute(c,d)}var h=a.getElementsByTagName("name-part");for(u=0,p=h.length;u<p;u+=1)if("family"===h[u].getAttribute("name"))for(var f=0,m=Nt.INSTITUTION_KEYS.length;f<m;f+=1){var d;c=Nt.INSTITUTION_KEYS[f];(d=h[u].getAttribute(c))&&s.setAttribute(c,d)}}},Nt.XmlDOM.prototype.flagDateMacros=function(t){var e,i,r,s=t.getElementsByTagName("macro");for(e=0,i=s.length;e<i;e+=1)(r=s.item(e)).getElementsByTagName("date").length&&r.setAttribute("macro-has-date","true")},Nt.setupXml=function(t){var e={},i=null;return void 0!==t?i="string"==typeof t?(e="<"===(t=t.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?Nt.parseXml(t):JSON.parse(t),new Nt.XmlJSON(e)):"undefined"!=typeof t.getAttribute?new Nt.XmlDOM(t):"undefined"!=typeof t.toXMLString?new Nt.XmlE4X(t):new Nt.XmlJSON(t):Nt.error("unable to parse XML input"),i||Nt.error("citeproc-js error: unable to parse CSL style or locale object"),i},Nt.getSortCompare=function(i){if(Nt.stringCompare)return Nt.stringCompare;var r,s={sensitivity:"base",ignorePunctuation:!0,numeric:!0};i=i||"en-US",r=function r(t,e){return t.toLocaleLowerCase().localeCompare(e.toLocaleLowerCase(),i,s)};var n=function n(t){return t.replace(/^[\[\]\'\"]*/g,"")},a=function t(){return!!r("[x","x")&&function(t,e){return r(n(t),n(e))}}();return function o(t,e){return a?a(t,e):r(t,e)}},Nt.ambigConfigDiff=function(t,e){var i,r,s,n;if(t.names.length!==e.names.length)return 1;for(i=0,r=t.names.length;i<r;i+=1){if(t.names[i]!==e.names[i])return 1;for(s=0,n=t.givens[i];s<n;s+=1)if(t.givens[i][s]!==e.givens[i][s])return 1}return t.disambiguate!=e.disambiguate?1:t.year_suffix!==e.year_suffix?1:0},Nt.cloneAmbigConfig=function(t,e){var i,r,s,n,a,o={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(i=0,r=t.names.length;i<r;i+=1)a=t.names[i],o.names[i]=a;for(i=0,r=t.givens.length;i<r;i+=1){for(a=[],s=0,n=t.givens[i].length;s<n;s+=1)a.push(t.givens[i][s]);o.givens.push(a)}return e?(o.year_suffix=e.year_suffix,o.disambiguate=e.disambiguate):(o.year_suffix=t.year_suffix,o.disambiguate=t.disambiguate),o},Nt.getAmbigConfig=function(){var t;return t=(t=this.tmp.disambig_request)||this.tmp.disambig_settings,Nt.cloneAmbigConfig(t)},Nt.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},Nt.getMinVal=function(){return this.tmp["et-al-min"]},Nt.tokenExec=function(e,t,i){var r,s;r=e.next,s=!1;var n=function n(t){return t?(this.tmp.jump.replace("succeed"),e.succeed):(this.tmp.jump.replace("fail"),e.fail)};e.test&&(r=n.call(this,e.test(t,i)));for(var a=0,o=e.execs.length;a<o;a++)(s=e.execs[a].call(e,this,t,i))&&(r=s);return r},Nt.expandMacro=function(t,e){var i,r,s;i=t.postponed_macro;var n=t.strings.sort_direction;t=new Nt.Token("group",Nt.START);var a=!1,o=!1;(r=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",i)).length&&(o=this.cslXml.getAttributeValue(r[0],"cslid"),a=this.cslXml.getAttributeValue(r[0],"macro-has-date")),a&&(i=i+"@"+this.build.current_default_locale,p=function p(t){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!0)},t.execs.push(p)),-1<this.build.macro_stack.indexOf(i)?Nt.error('CSL processor error: call to macro "'+i+'" would cause an infinite loop'):this.build.macro_stack.push(i),t.cslid=o,Nt.MODULE_MACROS[i]&&(t.juris=i,this.opt.update_mode=Nt.POSITION),Nt.Node.group.build.call(t,this,e,!0),this.cslXml.getNodeValue(r)||Nt.error('CSL style error: undefined macro "'+i+'"');var l,u=Nt.getMacroTarget.call(this,i);if(u&&(Nt.buildMacro.call(this,u,r),Nt.configureMacro.call(this,u)),!this.build.extension){var p=(l=i,function(t,e,i){for(var r=0;r<t.macros[l].length;)r=Nt.tokenExec.call(t,t.macros[l][r],e,i)}),c=new Nt.Token("text",Nt.SINGLETON);c.execs.push(p),e.push(c)}(s=new Nt.Token("group",Nt.END)).strings.sort_direction=n,a&&(p=function p(t){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!1)},s.execs.push(p)),t.juris&&(s.juris=i),Nt.Node.group.build.call(s,this,e,!0),this.build.macro_stack.pop()},Nt.getMacroTarget=function(t){var e=!1;return this.build.extension?e=this[this.build.root+this.build.extension].tokens:this.macros[t]||(e=[],this.macros[t]=e),e},Nt.buildMacro=function(t,e){Nt.makeBuilder(this,t)("undefined"==typeof e.length?e:e[0])},Nt.configureMacro=function(t){this.build.extension||this.configureTokenList(t)},Nt.XmlToToken=function(t,e,i,r){var s,n,a,o,l,u;if(s=t.cslXml.nodename(this),!t.build.skip||t.build.skip===s)if(s){if(Nt.Node[t.cslXml.nodename(this)]||Nt.error('Undefined node name "'+s+'".'),[],a=t.cslXml.attributes(this),o=Nt.setDecorations.call(this,t,a),l=new Nt.Token(s,e),e!==Nt.END||"if"===s||"else-if"===s||"layout"===s){for(var p in a)if(a.hasOwnProperty(p)){if(e===Nt.END&&"@language"!==p&&"@locale"!==p)continue;if(a.hasOwnProperty(p))if(Nt.Attributes[p])try{Nt.Attributes[p].call(l,t,""+a[p])}catch(c){Nt.error(p+" attribute: "+c)}else Nt.debug('warning: undefined attribute "'+p+'" in style')}l.decorations=o,-1<Nt.DATE_VARIABLES.indexOf(a["@variable"])&&r.push(l.variables)}else e===Nt.END&&a["@variable"]&&(l.hasVariable=!0,-1<Nt.DATE_VARIABLES.indexOf(a["@variable"])&&(l.variables=r.pop()));u=i||t[t.build.area].tokens,Nt.Node[s].build.call(l,t,u,!0)}else(n=t.cslXml.content(this))&&(t.build.text=n)},Nt.DateParser=function(){for(var t=[["\u660e\u6cbb",1867],["\u5927\u6b63",1911],["\u662d\u548c",1925],["\u5e73\u6210",1988]],e={},i=0,r=t.length;i<r;i++){var s=t[i][0],n=t[i][1];e[s]=n}var a=[],C={};for(i=0,r=t.length;i<r;i++){var o=t[i];n=o[0];a.push(n),C[o[0]]=o[1]}var l=a.join("|"),P=new RegExp("(?:"+l+")(?:[0-9]+)"),R=new RegExp("(?:"+l+")(?:[0-9]+)","g"),D=/(\u6708|\u5E74)/g,L=/\u65E5/g,M=/\u301c/g,u="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",B=new RegExp(u.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),U=new RegExp(u.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),F=new RegExp(u.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var t=0,e=this.monthStrings.length;t<e;t++)this.monthSets.push([this.monthStrings[t]]);this.monthAbbrevs=[];for(t=0,e=this.monthSets.length;t<e;t++){this.monthAbbrevs.push([]);for(var i=0,r=this.monthSets[t].length;i<r;i++)this.monthAbbrevs[t].push(this.monthSets[t][0].slice(0,3))}this.monthRexes=[];for(t=0,e=this.monthAbbrevs.length;t<e;t++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[t].join("|")+")"))},this.addDateParserMonths=function(t){if("string"==typeof t&&(t=t.split(/\s+/)),12===t.length||16===t.length){for(var e=0,i=t.length;e<i;e++){for(var r=null,s=!1,n=3,a={},o=0,l=this.monthAbbrevs.length;o<l;o++){if(a[o]={},o===e){for(var u=0,p=this.monthAbbrevs[e].length;u<p;u++)if(this.monthAbbrevs[e][u]===t[e].slice(0,this.monthAbbrevs[e][u].length)){s=!0;break}}else for(u=0,p=this.monthAbbrevs[o].length;u<p;u++)if(r=this.monthAbbrevs[o][u].length,this.monthAbbrevs[o][u]===t[e].slice(0,r)){for(;this.monthSets[o][u].slice(0,r)===t[e].slice(0,r);){if(r>t[e].length||r>this.monthSets[o][u].length){Nt.debug("unable to disambiguate month string in date parser: "+t[e]);break}r+=1}n=r,a[o][u]=r}for(var c in a)for(var h in a[c])r=a[c][h],c=parseInt(c,10),h=parseInt(h,10),this.monthAbbrevs[c][h]=this.monthSets[c][h].slice(0,r)}s||(this.monthSets[e].push(t[e]),this.monthAbbrevs[e].push(t[e].slice(0,n)))}this.monthRexes=[],this.monthRexStrs=[];for(e=0,i=this.monthAbbrevs.length;e<i;e++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[e].join("|")+")");if(18===this.monthAbbrevs.length)for(e=12,i=14;e<i;e++)this.monthRexes[e+4]=new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")"),this.monthRexStrs[e+4]="^(?:"+this.monthAbbrevs[e].join("|")+")"}else Nt.debug("month [+season] list of "+t.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(t){t["date-parts"]=[],t["date-parts"].push([]);for(var e,i=0,r=0,s=3;r<s&&t[e=["year","month","day"][r]];r++)i+=1,t["date-parts"][0].push(t[e]),delete t[e];t["date-parts"].push([]);for(r=0,s=i;r<s&&t[e=["year_end","month_end","day_end"][r]];r++)t["date-parts"][1].push(t[e]),delete t[e];return t["date-parts"][0].length!==t["date-parts"][1].length&&t["date-parts"].pop(),t},this.convertDateObjectToString=function(t){for(var e=[],i=0;i<3&&t[Nt.DATE_PARTS_ALL[i]];i+=1)e.push(t[Nt.DATE_PARTS_ALL[i]]);return e.join("-")},this._parseNumericDate=function(t,e,i,r){i=i||"";for(var s=r.split(e),n=0,a=s.length;n<a;n++)if(4===s[n].length){t["year"+i]=s[n].replace(/^0*/,""),s=n?s.slice(0,n):s.slice(1);break}for(n=0,a=s.length;n<a;n++)s[n]=parseInt(s[n],10);1===s.length||2===s.length&&!s[1]?t["month"+i]=""+s[0]:2===s.length&&(12<s[this.monthGuess]?(t["month"+i]=""+s[this.dayGuess],t["day"+i]=""+s[this.monthGuess]):(t["month"+i]=""+s[this.monthGuess],t["day"+i]=""+s[this.dayGuess]))},this.parseDateToObject=function(t){var e,i=t,r=-1,s=-1,n=!1;if(t){if("-"===t.slice(0,1)&&(n=!0,t=t.slice(1)),t.match(/^[0-9]{1,3}$/))for(;t.length<4;)t="0"+t;if(y=(t=(t=""+t).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(D)){var a=(t=(t=(t=(t=(t=(t=t.replace(/\s+/g,"")).replace(L,"")).replace(D,"-")).replace(M,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(P);e=[];var o=t.match(R);if(o){for(var l=[],u=0,p=o.length;u<p;u++)l=l.concat(o[u].match(/([^0-9]+)([0-9]+)/).slice(1));for(u=0,p=a.length;u<p;u++)if(e.push(a[u]),u!==p-1){var c=2*u;e.push(l[c]),e.push(l[1+c])}}else e=a;for(u=1,p=e.length;u<p;u+=3)e[u+1]=C[e[u]]+parseInt(e[u+1],10),e[u]="";r=(t=(t=(t=(t=e.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),s=t.indexOf("-")}}var h,f,m="",d="",g={};if('"'===(t=t.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===t.slice(-1))return g.literal=t.slice(1,-1),g;-1<r&&-1<s?e=3<t.split("/").length?(h="-",f="/",(t=t.replace(/\_/g,"-")).split(F)):(h="/",f="-",(t=t.replace(/\_/g,"/")).split(U)):(f=h="-",e=(t=(t=t.replace(/\//g,"-")).replace(/\_/g,"-")).split(B));var b=[];for(u=0,p=e.length;u<p;u++){var y;(y=e[u].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&b.push(y[1])}var v=b.indexOf(h),_=[],x=!1;-1<v?(_.push([0,v]),_.push([v+1,b.length]),x=!0):_.push([0,b.length]);var w="";for(u=0,p=_.length;u<p;u++){var A=_[u],E=b.slice(A[0],A[1]);t:for(var O=0,T=E.length;O<T;O++){var S=E[O];if(-1<S.indexOf(f))this._parseNumericDate(g,f,w,S);else if(S.match(/[0-9]{4}/))g["year"+w]=S.replace(/^0*/,"");else{"~"!==S&&"?"!==S&&"c"!==S&&!S.match(/^cir/)||(g.circa=!0);for(var I=0,k=this.monthRexes.length;I<k;I++)if(S.toLocaleLowerCase().match(this.monthRexes[I])){g["month"+w]=""+(parseInt(I,10)+1);continue t}S.match(/^[0-9]+$/)&&(m=S),S.toLocaleLowerCase().match(/^bc/)&&m?(g["year"+w]=""+-1*m,m=""):S.toLocaleLowerCase().match(/^ad/)&&m?(g["year"+w]=""+m,m=""):!S.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||g["season"+w]||(d=S)}}m&&(g["day"+w]=m,m=""),d&&!g["season"+w]&&(g["season"+w]=d.trim(),d=""),w="_end"}if(x)for(O=0,T=Nt.DATE_PARTS_ALL.length;O<T;O++){var N=Nt.DATE_PARTS_ALL[O];g[N]&&!g[N+"_end"]?g[N+"_end"]=g[N]:!g[N]&&g[N+"_end"]&&(g[N]=g[N+"_end"])}(!g.year||g.year&&g.day&&!g.month)&&(g={literal:i});var Q=["year","month","day","year_end","month_end","day_end"];for(u=0,p=Q.length;u<p;u++){var j=Q[u];"string"==typeof g[j]&&g[j].match(/^[0-9]+$/)&&(g[j]=parseInt(g[j],10))}return n&&-1<Object.keys(g).indexOf("year")&&(g.year=-1*g.year),g},this.parseDateToArray=function(t){return this.convertDateObjectToArray(this.parseDateToObject(t))},this.parseDateToString=function(t){return this.convertDateObjectToString(this.parseDateToObject(t))},this.parse=function(t){return this.parseDateToObject(t)},this.setOrderMonthDay(),this.resetDateParserMonths()},Nt.DateParser=new Nt.DateParser,Nt.Engine=function(t,e,i,r){var s;for(var n in this.processor_version=Nt.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=t,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},writable:!0,configurable:!0}),t.variableWrapper&&(Nt.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(Nt.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),Nt.retrieveStyleModule&&(this.sys.retrieveStyleModule=Nt.retrieveStyleModule),Nt.getAbbreviation&&(this.sys.getAbbreviation=Nt.getAbbreviation),this.sys.stringCompare&&(Nt.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=Nt.AbbreviationSegments,this.transform=new Nt.Transform(this),this.setParseNames=function(t){this.opt["parse-names"]=t},this.opt=new Nt.Engine.Opt,this.tmp=new Nt.Engine.Tmp,this.build=new Nt.Engine.Build,this.fun=new Nt.Engine.Fun(this),this.configure=new Nt.Engine.Configure,this.citation_sort=new Nt.Engine.CitationSort,this.bibliography_sort=new Nt.Engine.BibliographySort,this.citation=new Nt.Engine.Citation(this),this.bibliography=new Nt.Engine.Bibliography,this.intext=new Nt.Engine.InText,this.output=new Nt.Output.Queue(this),this.dateput=new Nt.Output.Queue(this),this.cslXml=Nt.setupXml(e),Nt.SYS_OPTIONS){var a=Nt.SYS_OPTIONS[n];"boolean"==typeof this.sys[a]&&(this.opt.development_extensions[a]=this.sys[a])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(t,e){var i=this.cslXml.children(t);this.cslXml.setAttribute(t,"cslid",this.build.cslNodeId),this.opt.nodenames.push(e),this.build.cslNodeId+=1;for(var r=0,s=this.cslXml.numberofnodes(i);r<s;r+=1)(e=this.cslXml.nodename(i[r]))&&this.setCslNodeIds(i[r],e)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),"undefined"==typeof this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt["class"]=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.static_statute_locator=!0,this.opt.development_extensions.handle_parallel_articles=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0),i&&(i=i.replace("_","-"),i=Nt.normalizeLocaleStr(i)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=Nt.normalizeLocaleStr(this.opt["default-locale"][0])),i&&r&&(this.opt["default-locale"]=[i]),i&&!r&&this.opt["default-locale"][0]&&(i=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(i=i||"en-US",this.opt["default-locale"].push("en-US")),i=i||this.opt["default-locale"][0],s=Nt.localeResolve(i),this.opt.lang=s.best,this.opt["default-locale"][0]=s.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),-1<"dale|".localeCompare("daleb",this.opt["default-locale-sort"])?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(s),this.locale[this.opt.lang].opts["skip-words-regexp"]=function l(t){return t=t.slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+t.join("|")+")(?=[!?:]*\\s+|-|$))","g")}(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new Nt.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new Nt.Registry(this),this.macros={},this.build.area="citation";var o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.build.area="bibliography";o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.build.area="intext";o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new Nt.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new Nt.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=Nt.DateParser,this.fun.flipflopper=new Nt.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=Nt.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=Nt.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},Nt.Engine.prototype.setCloseQuotesArray=function(){var t;(t=[]).push(this.getTerm("close-quote")),t.push(this.getTerm("close-inner-quote")),t.push('"'),t.push("'"),this.opt.close_quotes_array=t},Nt.makeBuilder=function(l,u){var p=[],c=[];return function h(t,e,i){i=i||[],"undefined"==typeof(t=t||[]).length&&(t=[t]);for(var r=0;r<t.length;r++){var s=t[r];null!==l.cslXml.nodename(s)&&(e&&"date"===l.cslXml.nodename(s)&&(Nt.Util.fixDateNode.call(l,e,r,s),s=l.cslXml.children(e)[r]),l.cslXml.numberofnodes(l.cslXml.children(s))?(o=s,c.push(o),Nt.XmlToToken.call(o,l,Nt.START,u,p),h(l.cslXml.children(s),s,i),a=c.pop(),Nt.XmlToToken.call(a,l,Nt.END,u,p)):(n=s,Nt.XmlToToken.call(n,l,Nt.SINGLETON,u,p)))}var n,a,o}},Nt.Engine.prototype.buildTokenLists=function(t,e){this.cslXml.getNodeValue(t)&&Nt.makeBuilder(this,e)("undefined"==typeof t.length?t:t[0])},Nt.Engine.prototype.setStyleAttributes=function(){var t,e,i={};for(e in i.name=this.cslXml.nodename(this.cslXml.dataObj),t=this.cslXml.attributes(this.cslXml.dataObj))t.hasOwnProperty(e)&&Nt.Attributes[e].call(i,this,t[e])},Nt.Engine.prototype.getTerm=function(t,e,i,r,s,n){var a;t&&t.match(/[A-Z]/)&&t===t.toUpperCase()&&(Nt.debug("Warning: term key is in uppercase form: "+t),t=t.toLowerCase()),a=n?this.opt["default-locale"][0]:this.opt.lang;var o=Nt.Engine.getField(Nt.LOOSE,this.locale[a].terms,t,e,i,r);return o||"range-delimiter"!==t||(o="\u2013"),void 0===o&&(s===Nt.STRICT?Nt.error('Error in getTerm: term "'+t+'" does not exist.'):s===Nt.TOLERANT&&(o="")),o&&(this.tmp.cite_renders_content=!0),o},Nt.Engine.prototype.getDate=function(t,e){var i;return i=e?this.opt["default-locale"]:this.opt.lang,!!this.locale[i].dates[t]&&this.locale[i].dates[t]},Nt.Engine.prototype.getOpt=function(t){return"undefined"!=typeof this.locale[this.opt.lang].opts[t]&&this.locale[this.opt.lang].opts[t]},Nt.Engine.prototype.getVariable=function(t,e,i,r){return Nt.Engine.getField(Nt.LOOSE,t,e,i,r)},Nt.Engine.prototype.getDateNum=function(t,e){return void 0===t?0:t[e]},Nt.Engine.getField=function(t,e,i,r,s,n){var a,o,l,u,p,c;if(a="","undefined"==typeof e[i]){if(t!==Nt.STRICT)return undefined;Nt.error('Error in getField: term "'+i+'" does not exist.')}for(c=n&&e[i][n]?e[i][n]:e[i],o=[],"symbol"===r?o=["symbol","short"]:"verb-short"===r?o=["verb-short","verb"]:"long"!==r&&(o=[r]),p=(o=o.concat(["long"])).length,u=0;u<p;u+=1)if(l=o[u],"string"==typeof c||"number"==typeof c)a=c;else if("undefined"!=typeof c[l]){a="string"==typeof c[l]||"number"==typeof c[l]?c[l]:"number"==typeof s?c[l][s]:c[l][0];break}return a},Nt.Engine.prototype.configureTokenLists=function(){var t,e;for(e=Nt.AREAS.length,t=0;t<e;t+=1){var i=this[Nt.AREAS[t]].tokens;this.configureTokenList(i)}return this.version=Nt.version,this.state},Nt.Engine.prototype.configureTokenList=function(t){var e,i,r,s,n,a;for(e=["year","month","day"],s=t.length-1;-1<s;s+=-1){if("date"===(i=t[s]).name&&Nt.END===i.tokentype&&(r=[]),"date-part"===i.name&&i.strings.name)for(a=e.length,n=0;n<a;n+=1)e[n]===i.strings.name&&r.push(i.strings.name);"date"===i.name&&Nt.START===i.tokentype&&(r.reverse(),i.dateparts=r),i.next=s+1,i.name&&Nt.Node[i.name].configure&&Nt.Node[i.name].configure.call(i,this,s)}},Nt.Engine.prototype.refetchItems=function(t){for(var e=[],i=0,r=t.length;i<r;i+=1)e.push(this.refetchItem(""+t[i]));return e},Nt.ITERATION=0,Nt.Engine.prototype.retrieveItem=function(t){var e,i;if(this.tmp.loadedItemIDs[t])return this.registry.refhash[t];if(this.tmp.loadedItemIDs[t]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var r=0,s=this.opt["default-locale"].length;r<s;r+=1)this.opt["default-locale"][r]=this.opt["default-locale"][r].toLowerCase();for(r=0,s=this.opt["locale-translit"].length;r<s;r+=1)this.opt["locale-translit"][r]=this.opt["locale-translit"][r].toLowerCase();for(r=0,s=this.opt["locale-translat"].length;r<s;r+=1)this.opt["locale-translat"][r]=this.opt["locale-translat"][r].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(Nt.ITERATION+=1,e=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+t))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(e.multi){if(e.multi._keys)for(var n in e.multi._keys)for(var a in e.multi._keys[n])a!==a.toLowerCase()&&(e.multi._keys[n][a.toLowerCase()]=e.multi._keys[n][a],delete e.multi._keys[n][a]);if(e.multi.main)for(var n in e.multi.main)e.multi.main[n]=e.multi.main[n].toLowerCase()}for(r=0,s=Nt.NAME_VARIABLES.length;s<r;r+=1){var o=Nt.NAME_VARIABLES[r];if(e[o]&&e[o].multi)for(var l=0,u=e[o].length;l<u;l+=1){var p=e[o][l];if(p.multi){if(p.multi._key)for(var a in p.multi._key)a!==a.toLowerCase()&&(p.multi._key[a.toLowerCase()]=p.multi._key[a],delete p.multi._key[a]);p.multi.main&&(p.multi.main=p.multi.main.toLowerCase())}}}}e.language&&e.language.match(/[><]/)&&("<"===(i=e.language.match(/(.*?)([<>])(.*)/))[2]?(e["language-name"]=i[1],e["language-name-original"]=i[3]):(e["language-name"]=i[3],e["language-name-original"]=i[1]),this.opt.multi_layout?e["language-name-original"]&&(e.language=e["language-name-original"]):e["language-name"]&&(e.language=e["language-name"]));e.page&&(e["page-first"]=e.page,"\\"!==(i=(""+e.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(e["page-first"]=i[0]));for(var a in this.opt.development_extensions.field_hack&&e.note&&Nt.parseNoteFieldHacks(e,!1,this.opt.development_extensions.allow_field_hack_date_override),e)if(-1<Nt.DATE_VARIABLES.indexOf(a.replace(/^alt-/,""))){var c=e[a];c&&(this.opt.development_extensions.raw_date_parsing&&(!c.raw||c["date-parts"]&&0!==c["date-parts"].length||(c=this.fun.dateparser.parseDateToObject(c.raw))),e[a]=this.dateParseArray(c))}if(this.opt.development_extensions.static_statute_locator&&e.type&&-1<["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)){var h,f=["type","title","jurisdiction","genre","volume","container-title"],m=[];for(r=0,s=f.length;r<s;r+=1)e[h=f[r]]&&m.push(e[h]);for(r=0,s=(f=["original-date","issued"]).length;r<s;r+=1)if(e[h=f[r]]&&e[h].year){var d=e[h].year;m.push(d);break}e.legislation_id=m.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"==typeof e.authority&&(e.authority=[{literal:e.authority,multi:{_key:{}}}],e.multi&&e.multi._keys&&e.multi._keys.authority))for(var a in e.authority[0].multi._key={},e.multi._keys.authority)e.authority[0].multi._key[a]={literal:e.multi._keys.authority[a]};if(e["title-short"]||(e["title-short"]=e.shortTitle),this.opt.development_extensions.main_title_from_short_title){var g="fr"===this.opt["default-locale"][0].slice(0,2).toLowerCase();Nt.extractTitleAndSubtitle.call(this,e,g)}var b,y=-1<["bill","legal_case","legislation","gazette","regulation"].indexOf(e.type);if(this.opt.development_extensions.force_jurisdiction&&y&&(e.jurisdiction||(e.jurisdiction="us")),!y&&e.title&&this.sys.getAbbreviation){e.jurisdiction||!0,b=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e.title):e.title;var v=this.transform.loadAbbreviation(e.jurisdiction,"title",b,e.type);this.transform.abbrevs[v].title&&this.transform.abbrevs[v].title[b]&&(e["title-short"]=this.transform.abbrevs[v].title[b])}if(e["container-title-short"]||(e["container-title-short"]=e.journalAbbreviation),e["container-title"]&&this.sys.getAbbreviation){b=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e["container-title"]):e["container-title"];v=this.transform.loadAbbreviation(e.jurisdiction,"container-title",b);this.transform.abbrevs[v]["container-title"]&&this.transform.abbrevs[v]["container-title"][b]&&(e["container-title-short"]=this.transform.abbrevs[v]["container-title"][b])}if(e.jurisdiction&&(e.country=e.jurisdiction.split(":")[0]),this.registry.refhash[t]){if(JSON.stringify(this.registry.refhash[t])!=JSON.stringify(e)){for(var a in this.registry.refhash[t])delete this.registry.refhash[t][a];this.tmp.taintedItemIDs[e.id]=!0,Object.assign(this.registry.refhash[t],e)}}else this.registry.refhash[t]=e;return this.registry.refhash[t]},Nt.Engine.prototype.refetchItem=function(t){return this.registry.refhash[t]},Nt.Engine.prototype.refetchItem=function(t){return this.registry.refhash[t]},Nt.Engine.prototype.setOpt=function(t,e,i){"style"===t.name||"cslstyle"===t.name?(this.opt.inheritedAttributes[e]=i,this.citation.opt.inheritedAttributes[e]=i,this.bibliography.opt.inheritedAttributes[e]=i):-1<["citation","bibliography"].indexOf(t.name)?this[t.name].opt.inheritedAttributes[e]=i:t.strings[e]=i},Nt.Engine.prototype.inheritOpt=function(t,e,i,r){if("undefined"!=typeof t.strings[e])return t.strings[e];var s=this[this.tmp.root].opt.inheritedAttributes[i||e];return void 0!==s?s:r},Nt.Engine.prototype.remapSectionVariable=function(t){for(var e=0,i=t.length;e<i;e+=1){var r=t[e][0],s=t[e][1];if(-1<["bill","gazette","legislation","regulation","treaty"].indexOf(r.type)){if(s.locator)s.locator=s.locator.trim(),(a=s.locator.match(Nt.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(s.label?s.locator=Nt.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator);var n=null;if(r.section)r.section=r.section.trim(),n=(a=r.section.match(Nt.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?a[0].trim():(r.section="sec. "+r.section,"sec.");if(r.section)if(s.locator){var a,o=" ";(a=s.locator.match(/^([^ ]*)\s*(.*)/))?("p."===a[1]&&"p."!==n&&(s.locator=a[2]),-1<["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))&&(o="")):o="",s.locator=r.section+o+s.locator}else s.locator=r.section;s.label=""}}},Nt.Engine.prototype.setNumberLabels=function(t){if(t.number&&-1<["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)&&this.opt.development_extensions.static_statute_locator&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var e=""+t.number,i=(e=e.split("\\").join("")).split(/\s+/)[0],r=Nt.STATUTE_SUBDIV_STRINGS[i];if(r){var s=e.split(Nt.STATUTE_SUBDIV_PLAIN_REGEX);if(1<s.length){for(var n=[],a=1,o=s.length;a<o;a+=1)n.push(s[a].replace(/\s*$/,"").replace(/^\s*/,""));e=n.join(" ")}else e=s[0];this.tmp.shadow_numbers.number.label=r,this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!0}},Nt.substituteOne=function(i){return function(t,e){return e?i.replace("%%STRING%%",e):""}},Nt.substituteTwo=function(e){return function(t){var i=e.replace("%%PARAM%%",t);return function(t,e){return e?i.replace("%%STRING%%",e):""}}},Nt.Mode=function(t){var e,i,r,s,n,a;for(r in e={},i=Nt.Output.Formats[t])"@"===r.slice(0,1)?(s=!1,n=i[r],a=r.split("/"),"string"==typeof n&&-1<n.indexOf("%%STRING%%")?s=-1<n.indexOf("%%PARAM%%")?Nt.substituteTwo(n):Nt.substituteOne(n):"boolean"!=typeof n||n?"function"==typeof n?s=n:Nt.error("Bad "+t+" config entry for "+r+": "+n):s=Nt.Output.Formatters.passthrough,1===a.length?e[a[0]]=s:2===a.length&&(e[a[0]]||(e[a[0]]={}),e[a[0]][a[1]]=s)):e[r]=i[r];return e},Nt.setDecorations=function(t,e){var i,r;for(r in i=[],Nt.FORMAT_KEY_SEQUENCE){var s;e[s=Nt.FORMAT_KEY_SEQUENCE[r]]&&(i.push([s,e[s]]),delete e[s])}return i},Nt.Doppeler=function(t,s){var n=new RegExp("("+t+")","g"),a=new RegExp(t,"g");this.split=function(t){s&&(t=s(t));var e=t.match(n);if(!e)return{tags:[],strings:[t]};for(var i=t.split(a),r=e.length-1;-1<r;r--){"number"==typeof e[r]&&(e[r]=""),"'"===e[r]&&0<i[r+1].length&&(i[r+1]=e[r]+i[r+1],e[r]="")}return{tags:e,strings:i,origStrings:i.slice()}},this.join=function(t){for(var e=t.strings.slice(-1),i=t.tags.length-1;-1<i;i--)e.push(t.tags[i]),e.push(t.strings[i]);return e.reverse(),e.join("")}},Nt.Engine.prototype.normalDecorIsOrphan=function(t,e){if("normal"===e[1]){for(var i,r=!1,s=(i="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(t.alldecor):t.alldecor).length-1;-1<s;s+=-1)for(var n=i[s].length-1;-1<n;n+=-1)i[s][n][0]===e[0]&&"normal"!==i[s][n][1]&&(r=!0);if(!r)return!0}return!1},Nt.Engine.prototype.getCitationLabel=function(t){var e="",i=this.getTrigraphParams(),r=i[0],s=this.getTerm("reference","short",0);void 0===s&&(s="reference"),s=(s=s.replace(".","")).slice(0,1).toUpperCase()+s.slice(1);for(var n=0,a=Nt.NAME_VARIABLES.length;n<a;n+=1){var o=Nt.NAME_VARIABLES[n];if(t[o]){var l=t[o];r=l.length>i.length?i[i.length-1]:i[l.length-1];for(var u=0,p=l.length;u<p&&u!==r.authors.length;u+=1){var c=this.nameOutput.getName(l[u],"locale-translit",!0).name;c&&c.family?s=(s=c.family).replace(/^([ \'\u2019a-z]+\s+)/,""):c&&c.literal&&(s=c.literal);var h=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(h&&(s=s.slice(h[1].length)),!(s=s.replace(Nt.ROMANESQUE_NOT_REGEXP,"")))break;1<(s=s.slice(0,r.authors[u])).length?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():1===s.length&&(s=s.toUpperCase()),e+=s}break}}if(!e&&t.title){var f=this.locale[this.opt.lang].opts["skip-words"],m=t.title.split(/\s+/);for(n=m.length-1;-1<n;n--)-1<f.indexOf(m[n])&&(m=m.slice(0,n).concat(m.slice(n+1)));var d=m.join("");1<(d=d.slice(0,i[0].authors[0])).length?d=d.slice(0,1).toUpperCase()+d.slice(1).toLowerCase():1===d.length&&(d=d.toUpperCase()),e=d}var g="0000";return t.issued&&t.issued.year&&(g=""+t.issued.year),e+=g=g.slice(-1*r.year)},Nt.Engine.prototype.getTrigraphParams=function(){var t=[],e=this.opt.trigraph.split(":");this.opt.trigraph&&"A"===this.opt.trigraph.slice(0,1)||Nt.error("Bad trigraph definition: "+this.opt.trigraph);for(var i=0,r=e.length;i<r;i+=1){for(var s=e[i],n={authors:[],year:0},a=0,o=s.length;a<o;a+=1)switch(s.slice(a,a+1)){case"A":n.authors.push(1);break;case"a":n.authors[n.authors.length-1]+=1;break;case"0":n.year+=1;break;default:Nt.error("Invalid character in trigraph definition: "+this.opt.trigraph)}t.push(n)}return t},Nt.Engine.prototype.setOutputFormat=function(t){this.opt.mode=t,this.fun.decorate=Nt.Mode(t),this.output[t]||(this.output[t]={},this.output[t].tmp={})},Nt.Engine.prototype.getSortFunc=function(){return function(t,e){return t=t.split("-"),e=e.split("-"),t.length<e.length?1:t.length>e.length?-1:(t=t.slice(-1)[0],e=e.slice(-1)[0],t.length<e.length?1:t.length>e.length?-1:0)}},Nt.Engine.prototype.setLangTagsForCslSort=function(t){var e,i;if(t)for(this.opt["locale-sort"]=[],e=0,i=t.length;e<i;e+=1)this.opt["locale-sort"].push(t[e]);this.opt["locale-sort"].sort(this.getSortFunc())},Nt.Engine.prototype.setLangTagsForCslTransliteration=function(t){var e,i;if(this.opt["locale-translit"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translit"].push(t[e]);this.opt["locale-translit"].sort(this.getSortFunc())},Nt.Engine.prototype.setLangTagsForCslTranslation=function(t){var e,i;if(this.opt["locale-translat"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translat"].push(t[e]);this.opt["locale-translat"].sort(this.getSortFunc())},Nt.Engine.prototype.setLangPrefsForCites=function(t,e){var i=this.opt["cite-lang-prefs"];e=e||function e(t){return t.toLowerCase()};for(var r=["Persons","Institutions","Titles","Journals","Publishers","Places"],s=0,n=r.length;s<n;s+=1){var a=e(r[s]),o=r[s].toLowerCase();if(t[a]){for(var l=[];1<t[a].length;)l.push(t[a].pop());var u={orig:1,translit:2,translat:3};for(2===l.length&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)t[a].push(l.pop());for(var p=i[o];p.length;)p.pop();for(var c=0,h=t[a].length;c<h;c+=1)p.push(t[a][c])}}},Nt.Engine.prototype.setLangPrefsForCiteAffixes=function(t){if(t&&48===t.length){for(var e,i=this.opt.citeAffixes,r=0,s=["persons","institutions","titles","journals","publishers","places"],n=["translit","orig","translit","translat"],a=0,o=s.length;a<o;a+=1)for(var l=0,u=n.length;l<u;l+=1)e="",r%8==4&&(i[s[a]]["locale-"+n[l]].prefix||i[s[a]]["locale-"+n[l]].suffix)||(e=t[r]?t[r]:"",i[s[a]]["locale-"+n[l]].prefix=e,e=t[r]?t[r+1]:"",i[s[a]]["locale-"+n[l]].suffix=e),r+=2;this.opt.citeAffixes=i}},Nt.Engine.prototype.setAutoVietnameseNamesOption=function(t){this.opt["auto-vietnamese-names"]=!!t},Nt.Engine.prototype.setAbbreviations=function(t){this.sys.setAbbreviations&&this.sys.setAbbreviations(t)},Nt.Engine.prototype.setSuppressTrailingPunctuation=function(t){this.citation.opt.suppressTrailingPunctuation=!!t},Nt.Output={},Nt.Output.Queue=function(t){this.levelname=["top"],this.state=t,this.queue=[],this.empty=new Nt.Token("empty");var e={};e.empty=this.empty,this.formats=new Nt.Stack(e),this.current=new Nt.Stack(this.queue)},Nt.Output.Queue.prototype.pop=function(){var t=this.current.value();return t.length?t.pop():t.blobs.pop()},Nt.Output.Queue.prototype.getToken=function(t){return this.formats.value()[t]},Nt.Output.Queue.prototype.mergeTokenStrings=function(t,e){var i,r,s;if(s=i=this.formats.value()[t],r=this.formats.value()[e]){i||((i=new Nt.Token(t,Nt.SINGLETON)).decorations=[]),s=new Nt.Token(t,Nt.SINGLETON);var n="";for(var n in i.strings)i.strings.hasOwnProperty(n)&&(s.strings[n]=i.strings[n]);for(var n in r.strings)r.strings.hasOwnProperty(n)&&(s.strings[n]=r.strings[n]);s.decorations=i.decorations.concat(r.decorations)}return s},Nt.Output.Queue.prototype.addToken=function(t,e,i){var r,s;if(r=new Nt.Token("output"),"string"==typeof i&&(i=this.formats.value()[i]),i&&i.strings){for(s in i.strings)i.strings.hasOwnProperty(s)&&(r.strings[s]=i.strings[s]);r.decorations=i.decorations}"string"==typeof e&&(r.strings.delimiter=e),this.formats.value()[t]=r},Nt.Output.Queue.prototype.pushFormats=function(t){(t=t||{}).empty=this.empty,this.formats.push(t)},Nt.Output.Queue.prototype.popFormats=function(){this.formats.pop()},Nt.Output.Queue.prototype.startTag=function(t,e){var i={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(e=this.empty,t="empty"),i[t]=e,this.pushFormats(i),this.openLevel(t)},Nt.Output.Queue.prototype.endTag=function(t){this.closeLevel(t),this.popFormats()},Nt.Output.Queue.prototype.openLevel=function(t){var e,i;e="object"===K(t)?new Nt.Blob(undefined,t):void 0===t?new Nt.Blob(undefined,this.formats.value().empty,"empty"):(this.formats.value()&&this.formats.value()[t]||Nt.error('CSL processor error: call to nonexistent format token "'+t+'"'),new Nt.Blob(undefined,this.formats.value()[t],t)),i=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.prefix=this.checkNestedBrace.update(e.strings.prefix)),i.push(e),this.current.push(e)},Nt.Output.Queue.prototype.closeLevel=function(t){t&&t!==this.current.value().levelname&&Nt.error("Level mismatch error:  wanted "+t+" but found "+this.current.value().levelname);var e=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.suffix=this.checkNestedBrace.update(e.strings.suffix))},Nt.Output.Queue.prototype.append=function(t,e,i,r,s){var n,a,o,l=!0;if(i&&(r=!0),this.state.tmp["doing-macro-with-date"]&&!i){if("macro-with-date"!==e)return!1;"macro-with-date"===e&&(e="empty")}if(void 0===t)return!1;if("number"==typeof t&&(t=""+t),!i&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(a=!1,e?"literal"===e?l=!(n=!0):n="string"==typeof e?this.formats.value()[e]:e:n=this.formats.value().empty,n||Nt.error("CSL processor error: unknown format token name: "+e),n.strings&&"undefined"==typeof n.strings.delimiter&&(n.strings.delimiter=""),"string"==typeof t&&t.length&&(t=t.replace(/ ([:;?!\u00bb])/g,"\u202f$1").replace(/\u00ab /g,"\xab\u202f"),this.last_char_rendered=t.slice(-1),t=t.replace(/\s+'/g," '"),i||(t=t.replace(/^'/g," '")),r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),a=new Nt.Blob(t,n),void 0===(o=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),o=this.current.value()),"string"==typeof a.blobs&&(r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),"string"==typeof t){if("string"==typeof a.blobs&&" "!==a.blobs.slice(0,1)){for(var u="",p=a.blobs;-1<Nt.TERMINAL_PUNCTUATION.indexOf(p.slice(0,1));)u+=p.slice(0,1),p=p.slice(1);p&&u&&(a.strings.prefix=a.strings.prefix+u,a.blobs=p)}a.strings["text-case"]&&(a.blobs=Nt.Output.Formatters[a.strings["text-case"]](this.state,t)),this.state.tmp.strip_periods&&!s&&(a.blobs=a.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var c=a.decorations.length-1;-1<c;c+=-1)"@quotes"===a.decorations[c][0]&&"false"!==a.decorations[c][1]&&(a.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),a.blobs.match(Nt.ROMANESQUE_REGEXP)||"@font-style"===a.decorations[c][0]&&(a.decorations=a.decorations.slice(0,c).concat(a.decorations.slice(c+1)));o.push(a),this.state.fun.flipflopper.processTags(a)}else l?o.push(a):o.push(t);return!0},Nt.Output.Queue.prototype.string=function(t,e,i){var r,s=Nt.getSafeEscape(this.state),n=e.slice(),a=[];if(0===n.length)return a;var o,l,u,p,c="";i?c=i.strings.delimiter:(t.tmp.count_offset_characters=!1,t.tmp.offset_characters=0),i&&i.new_locale&&(i.old_locale=t.opt.lang,t.opt.lang=i.new_locale);for(var h=0,f=n.length;h<f;h+=1){if((o=n[h]).strings.first_blob&&(t.tmp.count_offset_characters=o.strings.first_blob),"string"==typeof o.blobs){if("number"==typeof o.num)a.push(o);else if(o.blobs){o.particle&&(o.blobs=o.particle+o.blobs,o.particle="");var m=(r=s(o.blobs)).length;if(!t.tmp.suppress_decorations)for(b=0,y=o.decorations.length;b<y;b+=1)"@showid"!==(p=o.decorations[b])[0]&&(t.normalDecorIsOrphan(o,p)||(r=t.fun.decorate[p[0]][p[1]].call(o,t,r,p[2])));if(r&&r.length){if(r=s(o.strings.prefix)+r+s(o.strings.suffix),t.opt.development_extensions.csl_reverse_lookup_support&&!t.tmp.suppress_decorations)for(b=0,y=o.decorations.length;b<y;b+=1)"@showid"===(p=o.decorations[b])[0]&&(r=t.fun.decorate[p[0]][p[1]].call(o,t,r,p[2]));a.push(r),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=m+o.strings.suffix.length+o.strings.prefix.length)}}}else if(o.blobs.length){var d=t.output.string(t,o.blobs,o);if(i&&"string"!==d&&1<d.length&&o.strings.delimiter)for(var g=!1,b=0,y=d.length;b<y;b++)"string"!=typeof d[b]?g=!0:g&&(d[b]=o.strings.delimiter+d[b]);a=a.concat(d)}o.strings.first_blob&&t.registry.registry[o.strings.first_blob]&&(t.registry.registry[o.strings.first_blob].offset=t.tmp.offset_characters,t.tmp.count_offset_characters=!1)}for(h=0,f=a.length-1;h<f;h+=1)"number"!=typeof a[h].num||"number"!=typeof a[h+1].num||a[h+1].UGLY_DELIMITER_SUPPRESS_HACK||(a[h].strings.suffix=a[h].strings.suffix+(c||""),a[h+1].successor_prefix="",a[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var v=0;for(h=0,f=a.length;h<f;h+=1)"string"==typeof a[h]&&(v=parseInt(h,10)+1,h<a.length-1&&"object"===K(a[h+1])&&(c&&!a[h+1].UGLY_DELIMITER_SUPPRESS_HACK&&(a[h]+=s(c)),a[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(i&&(i.decorations.length||i.strings.suffix))v=a.length;else if(i&&i.strings.prefix)for(h=0,f=a.length;h<f;h++)if("undefined"!=typeof a[h].num){0===(v=h)&&(a[h].strings.prefix=i.strings.prefix+a[h].strings.prefix);break}var _=t.output.renderBlobs(a.slice(0,v),c,!1,i);if(_&&i&&(i.decorations.length||i.strings.suffix||i.strings.prefix)){if(!t.tmp.suppress_decorations)for(h=0,f=i.decorations.length;h<f;h+=1)p=i.decorations[h],-1<["@cite","@bibliography","@display","@showid"].indexOf(p[0])||t.normalDecorIsOrphan(o,p)||"string"==typeof _&&(_=t.fun.decorate[p[0]][p[1]].call(i,t,_,p[2]));if(r=_,l=i.strings.suffix,r&&r.length&&(r=s(u=i.strings.prefix)+r+s(l),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=u.length+l.length)),_=r,!t.tmp.suppress_decorations)for(h=0,f=i.decorations.length;h<f;h+=1)p=i.decorations[h],-1!==["@cite","@bibliography","@display","@showid"].indexOf(p[0])&&"string"==typeof _&&(_=t.fun.decorate[p[0]][p[1]].call(i,t,_,p[2]))}var x=a.slice(v,a.length);return!x.length&&_?a=[_]:x.length&&!_?a=x:_&&x.length&&(a=[_].concat(x)),void 0===i?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),t.tmp.suppress_decorations&&(a=t.output.renderBlobs(a,undefined,!1))):"boolean"==typeof i&&(a=t.output.renderBlobs(a,undefined,!0)),i&&i.new_locale&&(t.opt.lang=i.old_locale),a},Nt.Output.Queue.prototype.clearlevel=function(){var t,e,i;for(i=(t=this.current.value()).blobs.length,e=0;e<i;e+=1)t.blobs.pop()},Nt.Output.Queue.prototype.renderBlobs=function(t,e,i,r){var s,n,a,o,l,u,p,c,h,f,m;if(m=Nt.getSafeEscape(this.state),e=e||"",s=this.state,[],a=n="",u=t.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===u&&"object"===K(t[0])&&r)return t[0].strings.prefix=r.strings.prefix+t[0].strings.prefix,t[0].strings.suffix=t[0].strings.suffix+r.strings.suffix,t[0].decorations=t[0].decorations.concat(r.decorations),t[0].params=r.params,t[0];var d=!0;for(l=0;l<u;l+=1)d=t[l].checkNext?(t[l].checkNext(t[l+1],d),!1):!t[l+1]||!t[l+1].splice_prefix;var g=!0;for(l=t.length-1;0<l;l+=-1)t[l].checkLast?g&&t[l].checkLast(t[l-1])&&(g=!1):g=!0;for(u=t.length,l=0;l<u;l+=1)if(n&&(a=e),"string"==typeof(o=t[l]))n+=m(a),n+=o,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=a.length);else if(i)n=n?[n,o]:[o];else if(o.status!==Nt.SUPPRESS){var b=(h=o.particle?o.particle+o.num:o.formatter.format(o.num,o.gender)).replace(/<[^>]*>/g,"").length;this.append(h,"empty",!0);var y=this.pop(),v=s.tmp.count_offset_characters;if(h=this.string(s,[y],!1),s.tmp.count_offset_characters=v,o.strings["text-case"]&&(h=Nt.Output.Formatters[o.strings["text-case"]](this.state,h)),h&&this.state.tmp.strip_periods&&(h=h.replace(/\.([^a-z]|$)/g,"$1")),!s.tmp.suppress_decorations)for(c=o.decorations.length,p=0;p<c;p+=1)f=o.decorations[p],s.normalDecorIsOrphan(o,f)||(h=s.fun.decorate[f[0]][f[1]].call(o,s,h,f[2]));h=m(o.strings.prefix)+h+m(o.strings.suffix);var _="";o.status===Nt.END?_=m(o.range_prefix):o.status===Nt.SUCCESSOR?_=m(o.successor_prefix):o.status===Nt.START?_=0<l&&!o.suppress_splice_prefix?m(o.splice_prefix):"":o.status===Nt.SEEN&&(_=m(o.splice_prefix)),n+=_,n+=h,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=_.length+o.strings.prefix.length+b+o.strings.suffix.length)}return n},Nt.Output.Queue.purgeEmptyBlobs=function(t){if("object"===K(t)&&"object"===K(t.blobs)&&t.blobs.length)for(var e=t.blobs.length-1;-1<e;e--){Nt.Output.Queue.purgeEmptyBlobs(t.blobs[e]);var i=t.blobs[e];if(!i||!i.blobs||!i.blobs.length){for(var r=[];t.blobs.length-1>e;)r.push(t.blobs.pop());for(t.blobs.pop();r.length;)t.blobs.push(r.pop())}}},Nt.Output.Queue.adjust=function(h){var t={";":!0,":":!0},e={".":!0,"!":!0,"?":!0},v={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},i={},r={},f={},m={};for(var s in v)f[s]=!0,m[s]=!0,t[s]||(i[s]=!0),e[s]||(r[s]=!0);m[" "]=!0,m["\xa0"]=!0;var _={};for(var s in v)for(var n in v[s])_[n]||(_[n]={}),_[n][s]=v[s][n];function d(t){return"number"==typeof t.num||t.blobs&&1===t.blobs.length&&"number"==typeof t.blobs[0].num}function g(t){return"number"==typeof t.num||!(!t.blobs||"object"!==K(t.blobs))&&(!!g(t.blobs[t.blobs.length-1])||void 0)}function b(t,e){var i=!1,r=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(e&&r.push("@quotes"),t.decorations)for(var s=0,n=t.decorations.length;s<n;s++)if(-1<r.indexOf(t.decorations[s][0])){i=!0;break}return i}function y(t){if(t.decorations)for(var e=0,i=t.decorations.length;e<i;e++)if("@quotes"===t.decorations[e][0]&&"false"!==t.decorations[e][1])return!0;return"object"===K(t.blobs)&&y(t.blobs[t.blobs.length-1])}function x(t,e){var i=e.strings.suffix.slice(-1);i||"string"!=typeof e.blobs||(i=e.blobs.slice(-1));var r=_[t][i];return!(!r||1!==r.length)||"object"===K(e.blobs)&&!!x(t,e.blobs[e.blobs.length-1])}function w(t,e){if(!f[e])return!1;if("string"==typeof t.blobs)return t.blobs.slice(-1)===e;var i=t.blobs[t.blobs.length-1];return!!i&&(i.strings.suffix.slice(-1)?i.strings.suffix.slice(-1)==e:w(i,e))}function A(t,e,i,r,s){var n="blobs"===e?t:t.strings,a="blobs"===r?i:i.strings,o=n[e].slice(-1),l=a[r].slice(0,1);function u(){a[r]=a[r].slice(1)}function p(){n[e]=n[e].slice(0,-1)}function c(t){a[r]=t+a[r]}function h(t){n[e]+=t}var f=s?function d(){return v[o]}:function g(){return _[l]};var m=s?function b(){var t=v[o][l];"string"==typeof t?(p(),u(),c(t)):(c(o),p())}:function y(){var t=_[l][o];"string"==typeof t?(p(),u(),h(t)):(h(l),u())};o===l?(s?p:u)():f()&&m()}function u(t){var e=t.strings.suffix.slice(0,1);if("string"==typeof t.blobs)for(;i[e];)A(t,"blobs",t,"suffix"),e=t.strings.suffix.slice(0,1);else for(;i[e];)A(t.blobs[t.blobs.length-1],"suffix",t,"suffix"),e=t.strings.suffix.slice(0,1)}function p(t){if("string"==typeof t.blobs)for(var e=t.blobs.slice(-1);r[e];)A(t,"blobs",t,"suffix",!0),e=t.blobs.slice(-1);else for(e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1);r[e];)A(t.blobs[t.blobs.length-1],"suffix",t,"suffix",!0),e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1)}this.upward=function a(t){if(t.blobs&&"string"==typeof t.blobs)f[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"===K(t)&&"object"===K(t.blobs)&&t.blobs.length)for(var e=b(t,!0),i=t.blobs.length-1;-1<i;i--){this.upward(t.blobs[i]);var r=t.strings,s=t.blobs[i].strings;if(0===i){" "===r.prefix.slice(-1)&&" "===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1));var n=s.prefix.slice(0,1);e||!m[n]||r.prefix||(r.prefix+=n,s.prefix=s.prefix.slice(1))}if(i===t.blobs.length-1){n=s.suffix.slice(-1);!e&&-1<[" "].indexOf(n)&&(r.suffix.slice(0,1)!==n&&(r.suffix=n+r.suffix),s.suffix=s.suffix.slice(0,-1))}r.delimiter&&0<i&&m[r.delimiter.slice(-1)]&&r.delimiter.slice(-1)===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1))}},this.leftward=function c(t){if("object"===K(t)&&"object"===K(t.blobs)&&t.blobs.length)for(var e=t.blobs.length-1;-1<e;e--)if(this.leftward(t.blobs[e]),e<t.blobs.length-1&&!t.strings.delimiter){var i=t.blobs[e],r=i.strings.suffix.slice(-1),s=t.blobs[e+1],n=s.strings.prefix.slice(0,1),a="number"==typeof r||"number"==typeof n;if(!(b(i)||b(s))&&!a&&f[n]&&!a){var o=n===i.strings.suffix.slice(-1),l=!i.strings.suffix&&"string"==typeof i.blobs&&i.blobs.slice(-1)===n;o||l?s.strings.prefix=s.strings.prefix.slice(1):A(i,"suffix",s,"prefix")}}},this.downward=function E(t){if(t.blobs&&"string"==typeof t.blobs)f[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"===K(t)&&"object"===K(t.blobs)&&t.blobs.length){for(var e=t.strings,i=0,r=t.blobs.length;i<r;i++)if(d(t.blobs[i])){!0;break}if(e.delimiter&&f[e.delimiter.slice(0,1)]){var s=e.delimiter.slice(0,1);for(i=t.blobs.length-2;-1<i;i--){(a=t.blobs[i].strings).suffix.slice(-1)!==s&&(a.suffix+=s)}e.delimiter=e.delimiter.slice(1)}for(i=t.blobs.length-1;-1<i;i--){var n=t.blobs[i],a=t.blobs[i].strings,o=b(n,!0),l=d(n);if(i===t.blobs.length-1){var u=e.suffix.slice(0,1),p=!1;f[u]&&!(p=x(u,n))&&h&&(p=y(n)),p&&f[u]&&(g(n)||("string"==typeof n.blobs?A(n,"blobs",t,"suffix"):A(n,"suffix",t,"suffix"),"."===e.suffix.slice(0,1)&&(a.suffix+=e.suffix.slice(0,1),e.suffix=e.suffix.slice(1)))),"\xa0"===a.suffix.slice(-1)&&" "===e.suffix.slice(0,1)&&(e.suffix=e.suffix.slice(1)),m[a.suffix.slice(0,1)]&&("string"==typeof n.blobs&&n.blobs.slice(-1)===a.suffix.slice(0,1)&&(a.suffix=a.suffix.slice(1)),a.suffix.slice(-1)===e.suffix.slice(0,1)&&(e.suffix=e.suffix.slice(0,-1))),w(t,t.strings.suffix.slice(0,1))&&(t.strings.suffix=t.strings.suffix.slice(1))}else if(e.delimiter)m[e.delimiter.slice(0,1)]&&e.delimiter.slice(0,1)===a.suffix.slice(-1)&&(t.blobs[i].strings.suffix=t.blobs[i].strings.suffix.slice(0,-1));else{var c=t.blobs[i+1].strings;d(n)||o||!m[a.suffix.slice(-1)]||a.suffix.slice(-1)!==c.prefix.slice(0,1)||(c.prefix=c.prefix.slice(1))}l||o||!f[a.suffix.slice(0,1)]||"string"!=typeof n.blobs||A(n,"blobs",n,"suffix"),this.downward(t.blobs[i])}}},this.fix=function O(t){if("object"===K(t)&&"object"===K(t.blobs)&&t.blobs.length){for(var e,i=0,r=t.blobs.length;i<r;i++){for(var s=t.blobs[i],n=!1,a=0,o=s.decorations.length;a<o;a++){var l=s.decorations[a];"@quotes"===l[0]&&"false"!==l[1]&&(n=!0)}n&&(h?u(s):p(s)),e=this.fix(t.blobs[i]),s.blobs&&"string"==typeof s.blobs&&(e=s.blobs.slice(-1))}return e}}},Nt.Engine.Opt=function(){this.parallel={enable:!1,no_repeat:null,changes_in:{}},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=Nt.NONE,this.bib_mode=Nt.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.static_statute_locator=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.handle_parallel_articles=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1},Nt.Engine.Tmp=function(){this.names_max=new Nt.Stack,this.names_base=new Nt.Stack,this.givens_base=new Nt.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new Nt.Stack(0,Nt.LITERAL),this.element_rendered_ok=!1,this.element_trace=new Nt.Stack("style"),this.nameset_counter=0,this.group_context=new Nt.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:undefined,label_form:undefined,parallel_condition:undefined,parallel_result:undefined,parallel_repeats:undefined,no_repeat_condition:undefined,no_repeat_repeats:undefined,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new Nt.Stack(0,Nt.LITERAL),this.decorations=new Nt.Stack,this.tokenstore_stack=new Nt.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new Nt.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new Nt.AmbigConfig,this.bib_sort_keys=[],this.prefix=new Nt.Stack("",Nt.LITERAL),this.suffix=new Nt.Stack("",Nt.LITERAL),this.delimiter=new Nt.Stack("",Nt.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},Nt.Engine.Fun=function(t){this.match=new Nt.Util.Match,this.suffixator=new Nt.Util.Suffixator(Nt.SUFFIX_CHARS),this.romanizer=new Nt.Util.Romanizer,this.ordinalizer=new Nt.Util.Ordinalizer(t),this.long_ordinalizer=new Nt.Util.LongOrdinalizer},Nt.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new Nt.Stack(0,Nt.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},Nt.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},Nt.Engine.Citation=function(t){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new Nt.Registry.Comparifier(t,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},Nt.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},Nt.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=Nt.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},Nt.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},Nt.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},Nt.Engine.prototype.previewCitationCluster=function(t,e,i,r){var s=this.opt.mode;this.setOutputFormat(r),t.citationID&&delete t.citationID;var n=this.processCitationCluster(t,e,i,Nt.PREVIEW);return this.setOutputFormat(s),n[1]},Nt.Engine.prototype.appendCitationCluster=function(t){for(var e=[],i=this.registry.citationreg.citationByIndex.length,r=0;r<i;r+=1){var s=this.registry.citationreg.citationByIndex[r];e.push([""+s.citationID,s.properties.noteIndex])}return this.processCitationCluster(t,e,[])[1]},Nt.Engine.prototype.processCitationCluster=function(t,e,i,r){var s,n,a,o,l,u,p,c,h,f,m,d,g,b,y,v,_;if(this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(t),r===Nt.PREVIEW){this.debug&&Nt.debug("****** start state save *********"),y=this.registry.citationreg.citationByIndex.slice(),v=this.registry.reflist.slice();for(var x=e.concat(i),w={},A=[],E=0,O=x.length;E<O;E+=1)for(o=0,l=(s=this.registry.citationreg.citationById[x[E][0]]).citationItems.length;o<l;o+=1)w[s.citationItems[o].id]=!0,A.push(""+s.citationItems[o].id);for(o=0,l=t.citationItems.length;o<l;o+=1)w[t.citationItems[o].id]=!0,A.push(""+t.citationItems[o].id);_={};for(E=0,O=v.length;E<O;E+=1)if(!w[v[E].id]){var T=this.registry.registry[v[E].id].ambig,S=this.registry.ambigcites[T];if(S)for(o=0,l=S.length;o<l;o+=1)_[S[o]]=Nt.cloneAmbigConfig(this.registry.registry[S[o]].disambig)}this.debug&&Nt.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};var I=[],k={};for(E=0,O=t.citationItems.length;E<O;E+=1){for(var N in m={},t.citationItems[E])m[N]=t.citationItems[E][N];var Q;if((f=this.retrieveItem(""+m.id)).id&&this.transform.loadAbbreviation("default","hereinafter",f.id),m=Nt.parseLocator.call(this,m),this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable([[f,m]]),this.opt.development_extensions.locator_label_parse)if(m.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(f.type)&&(!m.label||"page"===m.label))if(Q=Nt.LOCATOR_LABELS_REGEXP.exec(m.locator)){var j=Nt.LOCATOR_LABELS_MAP[Q[2]];this.getTerm(j)&&(m.label=j,m.locator=Q[3])}var C=[f,m];I.push(C),t.citationItems[E].item=f}t.sortedItems=I;var P,R=[],D={};for(E=0,O=e.length;E<O;E+=1)n=e[E],this.opt.development_extensions.strict_inputs&&(D[n[0]]&&Nt.error("Previously referenced citationID "+n[0]+" encountered in citationsPre"),n[1]&&(P>n[1]&&Nt.debug("Note index sequence is not sane at citationsPre["+E+"]"),P=n[1])),this.registry.citationreg.citationById[n[0]].properties.noteIndex=n[1],R.push(this.registry.citationreg.citationById[n[0]]),D[n[0]]=this.registry.citationreg.citationById[n[0]];for(t.properties||(t.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(D[t.citationID]&&Nt.error("Citation with previously referenced citationID "+t.citationID),t.properties.noteIndex&&(P>t.properties.noteIndex&&Nt.debug("Note index sequence is not sane for citation "+t.citationID),P=t.properties.noteIndex)),R.push(t),D[t.citationID]=t,E=0,O=i.length;E<O;E+=1)a=i[E],this.opt.development_extensions.strict_inputs&&(D[a[0]]&&Nt.error("Previously referenced citationID "+a[0]+" encountered in citationsPost"),a[1]&&(P>a[1]&&Nt.debug("Note index sequence is not sane at postCitation["+E+"]"),P=a[1])),this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],R.push(this.registry.citationreg.citationById[a[0]]),D[a[0]]=this.registry.citationreg.citationById[a[0]];this.registry.citationreg.citationByIndex=R,this.registry.citationreg.citationById=D,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===Nt.POSITION&&(g=[],d=[],b={});var L,M=[];for(E=0,O=R.length;E<O;E+=1){for(R[E].properties.index=E,o=0,l=R[E].sortedItems.length;o<l;o+=1)m=R[E].sortedItems[o],this.registry.citationreg.citationsByItemId[m[1].id]||(this.registry.citationreg.citationsByItemId[m[1].id]=[],M.push(""+m[1].id)),-1===this.registry.citationreg.citationsByItemId[m[1].id].indexOf(R[E])&&this.registry.citationreg.citationsByItemId[m[1].id].push(R[E]);this.opt.update_mode===Nt.POSITION&&(R[E].properties.noteIndex?d.push(R[E]):(R[E].properties.noteIndex=0,g.push(R[E])))}if(r!==Nt.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&Nt.debug("****** start update items *********"),this.updateItems(M,null,null,!0),this.debug&&Nt.debug("****** endo update items *********")),!this.opt.citation_number_sort&&I&&1<I.length&&0<this.citation_sort.tokens.length){for(E=0,O=I.length;E<O;E+=1)I[E][1].sortkeys=Nt.getSortKeys.call(this,I[E][0],"citation_sort");if(this.opt.grouped_sort&&!t.properties.unsorted){for(E=0,O=I.length;E<O;E+=1){var B=I[E][1].sortkeys;this.tmp.authorstring_request=!0;var U=this.registry.registry[I[E][0].id].disambig;this.tmp.authorstring_request=!0,Nt.getAmbiguousCite.call(this,I[E][0],U);var F=this.registry.authorstrings[I[E][0].id];this.tmp.authorstring_request=!1,I[E][1].sortkeys=[F].concat(B)}I.sort(this.citation.srt.compareCompositeKeys);var G=!1,q=!1,z=!1;for(E=0,O=I.length;E<O;E+=1)I[E][1].sortkeys[0]!==G&&(z=I[E][1].sortkeys[0],q=I[E][1].sortkeys[1]),I[E][1].sortkeys[0]=""+q+E,G=z}t.properties.unsorted||I.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.parallel.enable&&this.parallel.StartCitation(t.sortedItems),this.opt.update_mode===Nt.POSITION)for(E=0;E<2;E+=1){var V={},X={};for(o=0,l=(L=[g,d][E]).length;o<l;o+=1){var H=L[o];for(L[o].properties.noteIndex||(L[o].properties.noteIndex=0),L[o].properties.noteIndex=parseInt(L[o].properties.noteIndex,10),0<o&&L[o-1].properties.noteIndex>L[o].properties.noteIndex&&(b={},V={},X={}),u=0,p=H.sortedItems.length;u<p;u+=1)H.sortedItems[u][1].parallel&&"first"!==H.sortedItems[u][1].parallel||(b[H.properties.noteIndex]?b[H.properties.noteIndex]+=1:b[H.properties.noteIndex]=1);for(u=0,p=L[o].sortedItems.length;u<p;u+=1){var Y,J,W=(m=L[o].sortedItems[u])[0].id,K=m[1]["locator-extra"],$=m[1].locator,Z=m[1].label;if(m[0].legislation_id&&(W=m[0].legislation_id),0<u)if(H.sortedItems[u-1][0].legislation_id)Y=H.sortedItems[u-1][0].legislation_id;else{Y=H.sortedItems[u-1][1].id,J=H.sortedItems[u-1][1]["locator-extra"];for(var tt=u-2;-1<tt;tt--)"first"===H.sortedItems[tt][1].parallel&&(Y=H.sortedItems[tt][1].id,J=H.sortedItems[tt][1]["locator-extra"])}if(r!==Nt.PREVIEW||H.citationID==t.citationID){var et,it,rt={};if(rt.position=m[1].position,rt["first-reference-note-number"]=m[1]["first-reference-note-number"],rt["near-note"]=m[1]["near-note"],m[1]["first-reference-note-number"]=0,m[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[W]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var st=this.registry.registry[W]["citation-count"],nt=this.registry.citationreg.citationsByItemId[W].length;if(this.registry.registry[W]["citation-count"]=this.registry.citationreg.citationsByItemId[W].length,"number"==typeof st){if(st<2!=nt<2){tt=0;for(var at=this.registry.citationreg.citationsByItemId[W].length;tt<at;tt++)k[this.registry.registry[W].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[W][tt].citationID]=!0}}else for(tt=0,at=this.registry.citationreg.citationsByItemId[W].length;tt<at;tt++)k[this.registry.registry[W].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[W][tt].citationID]=!0}if("undefined"==typeof V[W]&&"author-only"!==H.properties.mode)V[W]=H.properties.noteIndex,this.registry.registry[W]&&(this.registry.registry[W]["first-reference-note-number"]=H.properties.noteIndex),X[W]=H.properties.noteIndex,m[1].position=Nt.POSITION_FIRST;else{var ot=!1,lt=!1,ut=null;if(0<o)ut=L[o-1];var pt,ct,ht,ft,mt=L[o];if(0<o){var dt=1;"author-only"===ut.properties.mode&&1<o&&(dt=2),et=L[o-dt].sortedItems.slice(-1)[0][1].id,it=L[o-dt].sortedItems.slice(-1)[0][1]["locator-extra"],ut.sortedItems[0].slice(-1)[0].legislation_id&&(et=ut.sortedItems[0].slice(-1)[0].legislation_id)}if(0<o&&0===u&&ut.properties.noteIndex!==mt.properties.noteIndex){var gt=!1,bt=ut.sortedItems[0][0].id;if(ut.sortedItems[0][0].legislation_id&&(bt=ut.sortedItems[0][0].legislation_id),bt==W&&ut.properties.noteIndex>=mt.properties.noteIndex-1){var yt=ut.sortedItems[0][1]["locator-extra"],vt=mt.sortedItems[0][1]["locator-extra"];1!==b[ut.properties.noteIndex]&&0!==ut.properties.noteIndex||yt!==vt||(gt=!0)}gt?ot=!0:lt=!0}else 0<u&&Y==W&&J==K?ot=!0:0===u&&0<o&&ut.properties.noteIndex==mt.properties.noteIndex&&ut.sortedItems.length&&et==W&&it==K?ot=!0:lt=!0;if(ot&&(ct=(pt=0<u?H.sortedItems[u-1][1]:L[o-1].sortedItems[0][1]).locator?(ht=pt.label?pt.label:"",""+pt.locator+ht):pt.locator,ft=$?""+$+(Z||""):$),ot&&ct&&!ft&&(lt=!(ot=!1)),ot&&(!ct&&ft?m[1].position=Nt.POSITION_IBID_WITH_LOCATOR:ct||ft?ct&&ft===ct?m[1].position=Nt.POSITION_IBID:ct&&ft&&ft!==ct?m[1].position=Nt.POSITION_IBID_WITH_LOCATOR:lt=!(ot=!1):m[1].position=Nt.POSITION_IBID),lt&&(m[1].position=Nt.POSITION_SUBSEQUENT),(lt||ot)&&("author-only"===H.properties.mode&&(m[1].position=Nt.POSITION_FIRST),V[W]!=H.properties.noteIndex&&(m[1]["first-reference-note-number"]=V[W],this.registry.registry[W]))){var _t=this.registry.citationreg.citationsByItemId[W][0].properties.noteIndex,xt=H.properties.noteIndex;this.registry.registry[W]["first-reference-note-number"]=xt<_t?xt:_t}}if(H.properties.noteIndex){var wt=parseInt(H.properties.noteIndex,10)-parseInt(X[W],10);m[1].position!==Nt.POSITION_FIRST&&wt<=this.citation.opt["near-note-distance"]&&(m[1]["near-note"]=!0),X[W]=H.properties.noteIndex}if(H.citationID!=t.citationID)for(c=0,h=Nt.POSITION_TEST_VARS.length;c<h;c+=1){var At=Nt.POSITION_TEST_VARS[c];m[1][At]!==rt[At]&&(this.registry.registry[W]&&"first-reference-note-number"===At&&(k[this.registry.registry[W].ambig]=!0,this.tmp.taintedItemIDs[W]=!0),this.tmp.taintedCitationIDs[H.citationID]=!0)}this.sys.variableWrapper&&(m[1].index=H.properties.index,m[1].noteIndex=H.properties.noteIndex)}else"undefined"==typeof V[m[1].id]&&(V[W]=H.properties.noteIndex),X[W]=H.properties.noteIndex}}}if(this.opt.citation_number_sort&&I&&1<I.length&&0<this.citation_sort.tokens.length&&!t.properties.unsorted){for(E=0,O=I.length;E<O;E+=1)I[E][1].sortkeys=Nt.getSortKeys.call(this,I[E][0],"citation_sort");I.sort(this.citation.srt.compareCompositeKeys)}for(var N in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(N)&&(L=this.registry.citationreg.citationsByItemId[N]))for(E=0,O=L.length;E<O;E+=1)this.tmp.taintedCitationIDs[L[E].citationID]=!0;var Et=[];if(r===Nt.PREVIEW){this.debug&&Nt.debug("****** start run processor *********");try{Et=this.process_CitationCluster.call(this,t.sortedItems,t)}catch(kt){Nt.error("Error running CSL processor for preview: "+kt)}this.debug&&(Nt.debug("****** end run processor *********"),Nt.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=y,this.registry.citationreg.citationById={};for(E=0,O=y.length;E<O;E+=1)this.registry.citationreg.citationById[y[E].citationID]=y[E];this.debug&&Nt.debug("****** start final update *********");var Ot=[];for(E=0,O=v.length;E<O;E+=1)Ot.push(""+v[E].id);for(var N in this.updateItems(Ot,null,null,!0),this.debug&&Nt.debug("****** end final update *********"),_)_.hasOwnProperty(N)&&(this.registry.registry[N].disambig=_[N]);this.debug&&Nt.debug("****** end state restore *********")}else{for(var Tt in k)this.disambiguate.run(Tt,t);var St;for(var N in this.tmp.taintedCitationIDs)if(N!=t.citationID){var It=this.registry.citationreg.citationById[N];if(!It.properties.unsorted){for(E=0,O=It.sortedItems.length;E<O;E+=1)It.sortedItems[E][1].sortkeys=Nt.getSortKeys.call(this,It.sortedItems[E][0],"citation_sort");It.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=It.properties.index,this.tmp.citation_note_index=It.properties.noteIndex,this.tmp.citation_id=""+It.citationID,(St=[]).push(It.properties.index),St.push(this.process_CitationCluster.call(this,It.sortedItems,It)),St.push(It.citationID),Et.push(St)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=t.properties.index,this.tmp.citation_note_index=t.properties.noteIndex,this.tmp.citation_id=""+t.citationID,(St=[]).push(e.length),St.push(this.process_CitationCluster.call(this,I,t)),St.push(t.citationID),Et.push(St),Et.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0})}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,Et]},Nt.Engine.prototype.process_CitationCluster=function(t,e){var i="";if(e&&e.properties&&"composite"===e.properties.mode){e.properties.mode="author-only";var r=Nt.getCitationCluster.call(this,t,e);e.properties.mode="suppress-author";var s="";e.properties.infix&&(this.output.append(e.properties.infix),"object"===K(s=this.output.string(this,this.output.queue))&&(s=s.join("")));var n=Nt.getCitationCluster.call(this,t,e);e.properties.mode="composite",r&&s&&-1<Nt.SWAPPING_PUNCTUATION.concat(["\u2019","'"]).indexOf(s[0])&&(r+=s,s=!1),i=[r,s,n].filter(function(t){return t}).join(" ")}else i=Nt.getCitationCluster.call(this,t,e);return i},Nt.Engine.prototype.makeCitationCluster=function(t){var e,i,r,s,n,a;for(e=[],s=t.length,r=0;r<s;r+=1){for(var o in n={},t[r])n[o]=t[r][o];if(a=this.retrieveItem(""+n.id),this.opt.development_extensions.locator_label_parse&&n.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(a.type)&&(!n.label||"page"===n.label)){var l=Nt.LOCATOR_LABELS_REGEXP.exec(n.locator);if(l){var u=Nt.LOCATOR_LABELS_MAP[l[2]];this.getTerm(u)&&(n.label=u,n.locator=l[3])}}n.locator&&(n.locator=(""+n.locator).replace(/\s+$/,"")),i=[a,n],e.push(i)}if(this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable(e),e&&1<e.length&&0<this.citation_sort.tokens.length){for(s=e.length,r=0;r<s;r+=1)e[r][1].sortkeys=Nt.getSortKeys.call(this,e[r][0],"citation_sort");e.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],this.opt.parallel.enable&&this.parallel.StartCitation(e),Nt.getCitationCluster.call(this,e)},Nt.getAmbiguousCite=function(t,e,i,r){var s=this.tmp.group_context.tip,n={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,parallel_condition:s.parallel_condition,parallel_result:s.parallel_result,changes_in_condition:s.changes_in_condition,no_repeat_condition:s.no_repeat_condition,parallel_delimiter_override:s.parallel_delimiter_override,parallel_repeats:s.parallel_repeats,no_repeat_repeats:s.no_repeat_repeats,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};this.tmp.disambig_request=e||!1;var a={position:1,"near-note":!0};r&&(a.locator=r.locator,a.label=r.label),this.registry.registry[t.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[t.id]&&this.registry.citationreg.citationsByItemId[t.id].length&&i&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(a["first-reference-note-number"]=this.registry.registry[t.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var o=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,Nt.getCite.call(this,t,a,null,!1);for(var l=0,u=this.output.queue.length;l<u;l+=1)Nt.Output.Queue.purgeEmptyBlobs(this.output.queue[l]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var p=0,c=this.output.queue.length;p<c;p+=1)this.output.adjust.upward(this.output.queue[p]),this.output.adjust.leftward(this.output.queue[p]),this.output.adjust.downward(this.output.queue[p]),this.output.adjust.fix(this.output.queue[p]);var h=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=o,this.tmp.group_context.replace(n),h},Nt.getSpliceDelimiter=function(t,e,i){if(undefined!==this.citation.opt["after-collapse-delimiter"])t?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==Nt.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[i-1]){var r=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[i-1]];r&&r.delimiter&&(this.tmp.splice_delimiter=r.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},Nt.getCitationCluster=function(t,e){var i,r,s,n,a,o,l,u,p,c,h,f,m,d,g,b,y,v,_,x,w,A="";this.output.checkNestedBrace=new Nt.checkNestedBrace(this),e&&(_=e.citationID,x="author-only"===e.properties.mode&&!!e.properties.mode,"note"!==this.opt.xclass&&(w="suppress-author"===e.properties.mode&&!!e.properties.mode),e.properties.prefix&&(A=Nt.checkPrefixSpaceAppend(this,e.properties.prefix))),t=t||[],this.tmp.last_primary_names_string=!1,y=Nt.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",i="",r=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[];var E=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+A),O=!1;if("note"===this.opt.xclass&&this.citation.opt.suppressTrailingPunctuation&&(O=!0),_&&this.registry.citationreg.citationById[_].properties["suppress-trailing-punctuation"]&&(O=!0),"note"===this.opt.xclass){for(var T=[],S=!1,I=!1,k=[],N=0,Q=t.length;N<Q;N+=1){var j=t[N][0].type,C=t[N][0].title,P=t[N][1].position,R=t[N][0].id;C&&"legal_case"===j&&R!==I&&P&&(C===S&&0!==T.length||(k=[],T.push(k)),k.push(t[N][1])),S=C,P,I=R}for(N=0,Q=T.length;N<Q;N+=1)if(!((k=T[N]).length<2)){var D=k.slice(-1)[0].locator;if(D)for(var L=0,M=k.length-1;L<M;L+=1)k[L].locator&&(D=!1);D&&(k[0].locator=D,delete k.slice(-1)[0].locator,k[0].label=k.slice(-1)[0].label,k.slice(-1)[0].label&&delete k.slice(-1)[0].label)}}for(s=[],n=t.length,t[0]&&t[0][1]&&(x?(delete t[0][1]["suppress-author"],t[0][1]["author-only"]=!0):w&&(delete t[0][1]["author-only"],t[0][1]["suppress-author"]=!0)),a=0;a<n;a+=1){f=t[a][0],o=t[a][1],o=Nt.parseLocator.call(this,o),l=this.tmp.have_collapsed;var B=!1;if(0<a&&t[a-1][1]&&(B=!!t[a-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var U=this.output;this.output=new Nt.Output.Queue(this),this.output.adjust=new Nt.Output.Queue.adjust,Nt.getAmbiguousCite.call(this,f,null,!1,o),this.output=U}if(this.tmp.in_cite_predecessor=!1,0<a?Nt.getCite.call(this,f,o,""+t[a-1][0].id,!0):(this.tmp.term_predecessor=!1,Nt.getCite.call(this,f,o,null,!0)),this.tmp.cite_renders_content||(v={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+f.id,citationItems_pos:a,error_code:Nt.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(v)),u.splice_delimiter=Nt.getSpliceDelimiter.call(this,B,l,a),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),0<a){var F=(b=t[a-1][1]).suffix&&-1<[";",".",","].indexOf(b.suffix.slice(-1)),G=!b.suffix&&o.prefix&&-1<[";",".",","].indexOf(o.prefix.slice(0,1));if(F||G){var q=u.splice_delimiter.indexOf(" ");u.splice_delimiter=-1<q&&!G?u.splice_delimiter.slice(q):""}}if(u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,s.push(u),o["author-only"])break}this.opt.parallel.enable&&this.parallel.purgeGroupsIfParallel(),h=this.output.queue.slice();var z="";e&&(z=Nt.checkSuffixSpacePrepend(this,e.properties.suffix));var V=this.citation.opt.layout_suffix,X=this.tmp.cite_locales[this.tmp.cite_locales.length-1];X&&this.tmp.cite_affixes[this.tmp.area][X]&&this.tmp.cite_affixes[this.tmp.area][X].suffix&&(V=this.tmp.cite_affixes[this.tmp.area][X].suffix),-1<Nt.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(V.slice(0,1))&&(V=V.slice(0,1)),V=this.output.checkNestedBrace.update(z+V);for(N=0,Q=this.output.queue.length;N<Q;N+=1)Nt.Output.Queue.purgeEmptyBlobs(this.output.queue[N]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(O||(this.output.queue[this.output.queue.length-1].strings.suffix=V),this.output.queue[0].strings.prefix=E)),this.opt.development_extensions.clean_up_csl_flaws)for(L=0,M=this.output.queue.length;L<M;L+=1)this.output.adjust.upward(this.output.queue[L]),this.output.adjust.leftward(this.output.queue[L]),this.output.adjust.downward(this.output.queue[L]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[L]);for(a=0,n=h.length;a<n;a+=1){var H=[];if(this.output.queue=[h[a]],this.tmp.suppress_decorations=s[a].suppress_decorations,this.tmp.splice_delimiter=s[a].splice_delimiter,h[a].parallel_delimiter&&(this.tmp.splice_delimiter=h[a].parallel_delimiter),this.tmp.have_collapsed=s[a].have_collapsed,p=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof p)return this.tmp.suppress_decorations=!1,p||(this.opt.development_extensions.throw_on_empty?Nt.error("Citation would render no content"):p="[NO_PRINTED_FORM]"),p;if("object"===K(p)&&0===p.length&&!o["suppress-author"]){var Y=0===a?y(this.citation.opt.layout_prefix):"",J=a===h.length-1?y(this.citation.opt.layout_suffix):"";p.push(Y+"[CSL STYLE ERROR: reference with no printed form.]"+J)}if(H.length&&"string"==typeof p[0]){p.reverse();var W=p.pop();W&&","===W.slice(0,1)?H.push(W):"string"==typeof H.slice(-1)[0]&&","===H.slice(-1)[0].slice(-1)?H.push(" "+W):W&&H.push(y(this.tmp.splice_delimiter)+W)}else p.reverse(),void 0!==(c=p.pop())&&(H.length&&"string"==typeof H[H.length-1]&&(H[H.length-1]+=c.successor_prefix),H.push(c));for(m=p.length,d=0;d<m;d+=1)"string"!=typeof(g=p[d])?void 0!==(c=p.pop())&&H.push(c):H.push(y(this.tmp.splice_delimiter)+g);0!==H.length||t[a][1]["suppress-author"]||1,1<H.length&&"string"!=typeof H[0]&&(H=[this.output.renderBlobs(H)]),H.length&&("string"==typeof H[0]?0<a&&(H[0]=y(this.tmp.splice_delimiter)+H[0]):H[0].splice_prefix=0<a?this.tmp.splice_delimiter:""),r=r.concat(H)}if((i+=this.output.renderBlobs(r))&&!this.tmp.suppress_decorations)for(n=this.citation.opt.layout_decorations.length,a=0;a<n;a+=1)"normal"!==(u=this.citation.opt.layout_decorations[a])[1]&&(o&&o["author-only"]||(i=this.fun.decorate[u[0]][u[1]](this,i)));return this.tmp.suppress_decorations=!1,i||(this.opt.development_extensions.throw_on_empty?Nt.error("Citation would render no content"):i="[NO_PRINTED_FORM]"),i},Nt.getCite=function(t,e,i,r){var s,n,a=this.tmp.area;for(e&&e["author-only"]&&this.intext&&0<this.intext.tokens.length&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,Nt.citeStart.call(this,t,e,r),s=0,this.tmp.name_node={},this.nameOutput=new Nt.NameOutput(this,t,e);s<this[this.tmp.area].tokens.length;)s=Nt.tokenExec.call(this,this[this.tmp.area].tokens[s],t,e);return Nt.citeEnd.call(this,t,e),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(n={index:this.tmp.bibliography_pos,itemID:""+t.id,error_code:Nt.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(n)),this.tmp.area=a,""+t.id},Nt.citeStart=function(t,e,i){if(i||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[t.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[t.id].disambig,this.tmp.disambig_settings=this.registry.registry[t.id].disambig):this.tmp.disambig_settings=new Nt.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[t.id]){if(this.tmp.disambig_restore=Nt.cloneAmbigConfig(this.registry.registry[t.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[t.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[t.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[t.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[t.id].disambig.givens.slice();for(var r=0,s=this.tmp.disambig_settings.givens.length;r<s;r+=1)this.tmp.disambig_settings.givens[r]=this.registry.registry[t.id].disambig.givens[r].slice();for(r=0,s=this.tmp.disambig_request.givens.length;r<s;r+=1)this.tmp.disambig_request.givens[r]=this.registry.registry[t.id].disambig.givens[r].slice()}}else this.tmp.disambig_restore=new Nt.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&e&&!e.position&&this.registry.registry[t.id]&&(this.tmp.disambig_restore=Nt.cloneAmbigConfig(this.registry.registry[t.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},Nt.citeEnd=function(t,e){if(this.tmp.disambig_restore&&this.registry.registry[t.id]){this.registry.registry[t.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[t.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var i=0,r=this.registry.registry[t.id].disambig.givens.length;i<r;i+=1)this.registry.registry[t.id].disambig.givens[i]=this.tmp.disambig_restore.givens[i].slice()}if(this.tmp.disambig_restore=!1,e&&e.suffix?this.tmp.last_suffix_used=e.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var s=[];for(i=this.tmp.issued_date.list.length-1;i>this.tmp.issued_date.pos;i+=-1)s.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),i=s.length-1;-1<i;i+=-1)this.tmp.issued_date.list.push(s.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},Nt.Engine.prototype.makeBibliography=function(t){var e,i,r,s,n,a,o;if(!1,!t&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(t={exclude:[]},this.bibliography.opt.exclude_types)for(var l in this.bibliography.opt.exclude_types){var u=this.bibliography.opt.exclude_types[l];t.exclude.push({field:"type",value:u})}if(this.bibliography.opt.exclude_with_fields)for(var l in this.bibliography.opt.exclude_with_fields){var p=this.bibliography.opt.exclude_with_fields[l];t.exclude.push({field:p,value:!0})}}if(!this.bibliography.tokens.length)return!1;"string"==typeof t&&(this.opt.citation_number_slug=t,t=!1),a=(e=Nt.getBibliographyEntries.call(this,t))[0],o=e[1];var c=e[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:a,bibliography_errors:this.tmp.bibliography_errors.slice(),done:c},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),0,s=this.registry.reflist.length,n=0;n<s;n+=1)(r=this.registry.reflist[n]).offset>i.maxoffset&&(i.maxoffset=r.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,o]},Nt.getBibliographyEntries=function(t){var e,i,r,s,n,a,o,l,u,p,c,h,f,m,d,g,b,y,v,_,x;function w(t,e){return t===e}function A(t,e){return"boolean"!=typeof t&&t?"string"==typeof e?w(t,e):!!e&&function i(t,e){for(p=e.length,c=0;c<p;c+=1)if(w(t,e[c]))return!0;return!1}(t,e):t?!!e:!e}if(e=[],_=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,i=t&&t.page_start&&t.page_length?this.registry.getSortedIds():this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,b={},t&&t.page_start&&t.page_length&&!(x=0)!==t.page_start)for(d=0,g=i.length;d<g&&(b[i[d]]=!0,t.page_start!=i[d]);d+=1);var E=[];for(d=0,g=i.length;d<g;d+=1){if(t&&t.page_start&&t.page_length){if(b[i[d]])continue;if(l=this.refetchItem(i[d]),x===t.page_length)break}else if(b[(l=i[d]).id])continue;if(t){if(r=!0,t.include){for(r=!1,T=0,S=t.include.length;T<S;T+=1)if(A((u=t.include[T]).value,l[u.field])){r=!0;break}}else if(t.exclude){for(s=!1,T=0,S=t.exclude.length;T<S;T+=1)if(A((u=t.exclude[T]).value,l[u.field])){s=!0;break}s&&(r=!1)}else if(t.select){for(n=!(r=!1),T=0,S=t.select.length;T<S;T+=1)A((u=t.select[T]).value,l[u.field])||(n=!1);n&&(r=!0)}if(t.quash){for(n=!0,T=0,S=t.quash.length;T<S;T+=1)A((u=t.quash[T]).value,l[u.field])||(n=!1);n&&(r=!1)}if(!r)continue}if((a=new Nt.Token("group",Nt.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",a),l.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=l.system_id:this.output.current.value().system_id=l.id,f=[],!this.registry.registry[l.id].master||t&&t.page_start&&t.page_length)this.registry.registry[l.id].siblings||(this.tmp.term_predecessor=!1,f.push(""+Nt.getCite.call(this,l)),t&&t.page_start&&t.page_length&&(x+=1));else{y=[[l,{id:l.id}]];for(var O,T=0,S=(O=this.registry.registry[l.id].siblings).length;T<S;T++)y.push([{id:O[T]},{id:O[T]}]);for(m=!0,this.parallel.StartCitation(y),this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,f.push(""+Nt.getCite.call(this,l,y[0][1])),b[l.id]=!0,T=0,S=(O=this.registry.registry[l.id].siblings).length;T<S;T+=1){var I=this.registry.registry[l.id].siblings[T];v=this.refetchItem(I),f.push(""+Nt.getCite.call(this,v,y[T+1][1])),b[v.id]=!0}this.parallel.purgeGroupsIfParallel()}for(_.push(""),this.tmp.bibliography_pos+=1,E.push(f),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(m||!this.output.queue[0].blobs[0].blobs[0].strings?(h=this.output.queue[0].blobs,m=!1):h=this.output.queue[0].blobs[0].blobs,h[0].strings.prefix=this.bibliography.opt.layout_prefix+h[0].strings.prefix),T=0,S=this.output.queue.length;T<S;T+=1)Nt.Output.Queue.purgeEmptyBlobs(this.output.queue[T]);for(T=0,S=this.output.queue.length;T<S;T+=1)this.output.adjust.upward(this.output.queue[T]),this.output.adjust.leftward(this.output.queue[T]),this.output.adjust.downward(this.output.queue[T],!0),this.output.adjust.fix(this.output.queue[T]);if(!(o=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===Nt.NUMERIC){var k=e.length+1+". [CSL STYLE ERROR: reference with no printed form.]";o=Nt.Output.Formats[this.opt.mode]["@bibliography/entry"](this,k)}o&&e.push(o)}var N=!1;if(t&&t.page_start&&t.page_length){var Q=i.slice(-1)[0],j=E.slice(-1)[0];Q&&j&&Q!=j||(N=!0)}return this.tmp.disambig_override=!1,[E,e,N]},Nt.Engine.prototype.setCitationId=function(t,e){var i,r,s;if(i=!1,!t.citationID||e){for(r=Math.floor(1e14*Math.random());;){if(s=0,!this.registry.citationreg.citationById[r]){t.citationID="a"+r.toString(32);break}r+=1===(s=!s&&r<5e13?1:-1)?1:-1}i=""+r}return this.registry.citationreg.citationById[t.citationID]=t,i},Nt.Engine.prototype.rebuildProcessorState=function(t,e,i){e=e||"html";for(var r={},s=[],n=0,a=(t=t||[]).length;n<a;n+=1)for(var o=0,l=t[n].citationItems.length;o<l;o+=1){var u=""+t[n].citationItems[o].id;r[u]||s.push(u),r[u]=!0}this.updateItems(s);var p=[],c=[],h=[],f=this.opt.mode;this.setOutputFormat(e);for(n=0,a=t.length;n<a;n+=1){var m=this.processCitationCluster(t[n],p,c,Nt.ASSUME_ALL_ITEMS_REGISTERED);p.push([t[n].citationID,t[n].properties.noteIndex]);for(o=0,l=m[1].length;o<l;o+=1){var d=m[1][o][0];h[d]=[p[d][0],p[d][1],m[1][o][1]]}}return this.updateUncitedItems(i),this.setOutputFormat(f),h},Nt.Engine.prototype.restoreProcessorState=function(t){var e,i,r,s,n,a,o,l,u,p;l=[],u=[];var c=[],h={};for(e=0,i=(t=t||[]).length;e<i;e+=1)h[t[e].citationID]&&this.setCitationId(t[e],!0),h[t[e].citationID]=!0,c.push(t[e].properties.index);var f=t.slice();for(f.sort(function(t,e){return t.properties.index<e.properties.index?-1:t.properties.index>e.properties.index?1:0}),e=0,i=f.length;e<i;e+=1)f[e].properties.index=e;for(e=0,i=f.length;e<i;e+=1){for(p=[],r=0,s=f[e].citationItems.length;r<s;r+=1)"undefined"==typeof(n=f[e].citationItems[r]).sortkeys&&(n.sortkeys=[]),o=[a=this.retrieveItem(""+n.id),n],p.push(o),f[e].citationItems[r].item=a,u.push(""+n.id);f[e].properties.unsorted||p.sort(this.citation.srt.compareCompositeKeys),f[e].sortedItems=p,this.registry.citationreg.citationById[f[e].citationID]=f[e]}for(this.updateItems(u),e=0,i=t.length;e<i;e+=1)l.push([""+t[e].citationID,t[e].properties.noteIndex]);var m=[];return t&&t.length?m=this.processCitationCluster(t[0],[],l.slice(1)):(this.registry=new Nt.Registry(this),this.tmp=new Nt.Engine.Tmp,this.disambiguate=new Nt.Disambiguation(this)),m},Nt.Engine.prototype.updateItems=function(t,e,i,r){var s=this.tmp.area,n=this.tmp.root,a=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",r||(this.tmp.loadedItemIDs={}),this.registry.init(t),i)for(var o in this.registry.ambigcites)this.registry.ambigsTouched[o]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=s,this.tmp.root=n,this.registry.getSortedIds()},Nt.Engine.prototype.updateUncitedItems=function(t,e){var i,r=this.tmp.area,s=this.tmp.root,n=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},"object"==K(t=t||[]))if("undefined"==typeof t.length)for(var a in i=t,t=[],i)t.push(a);else if("number"==typeof t.length){i={};for(var o=0,l=t.length;o<l;o+=1)i[t[o]]=!0}return this.registry.init(t,!0),this.registry.dopurge(i),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=n,this.tmp.area=r,this.tmp.root=s,this.registry.getSortedIds()},Nt.localeResolve=function(t,e){var i,r;return e=e||"en-US",i={},r=(t=t||e).split(/[\-_]/),i.base=Nt.LANG_BASES[r[0]],"undefined"==typeof i.base?{base:e,best:t,bare:r[0]}:(1===r.length&&(i.generic=!0),1===r.length||"x"===r[1]?i.best=i.base.replace("_","-"):i.best=r.slice(0,2).join("-"),i.base=i.base.replace("_","-"),i.bare=r[0],i)},Nt.Engine.prototype.localeConfigure=function(t,e){var i;if((!e||!this.locale[t.best])&&("en-US"===t.best?(i=Nt.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(i,"en-US",t.best)):"en-US"!==t.best&&(t.base!==t.best&&(i=Nt.setupXml(this.sys.retrieveLocale(t.base)),this.localeSet(i,t.base,t.best)),i=Nt.setupXml(this.sys.retrieveLocale(t.best)),this.localeSet(i,t.best,t.best)),this.localeSet(this.cslXml,"",t.best),this.localeSet(this.cslXml,t.bare,t.best),t.base!==t.best&&this.localeSet(this.cslXml,t.base,t.best),this.localeSet(this.cslXml,t.best,t.best),"undefined"==typeof this.locale[t.best].terms["page-range-delimiter"]&&(-1<["fr","pt"].indexOf(t.best.slice(0,2).toLowerCase())?this.locale[t.best].terms["page-range-delimiter"]="-":this.locale[t.best].terms["page-range-delimiter"]="\u2013"),"undefined"==typeof this.locale[t.best].terms["year-range-delimiter"]&&(this.locale[t.best].terms["year-range-delimiter"]="\u2013"),"undefined"==typeof this.locale[t.best].terms["citation-range-delimiter"]&&(this.locale[t.best].terms["citation-range-delimiter"]="\u2013"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var r=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,n=r.length;s<n;s+=1)for(var a=0,o=this.opt[r[s]].length;a<o;a+=1)this.opt[r[s]][a]=this.opt[r[s]][a].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},Nt.Engine.prototype.localeSet=function(t,e,i){var r,s,n,a,o,l,u,p,c,h,f,m;if(e=e.replace("_","-"),i=i.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(e=e.toLowerCase(),i=i.toLowerCase()),this.locale[i]||(this.locale[i]={},this.locale[i].terms={},this.locale[i].opts={},this.locale[i].opts["skip-words"]=Nt.SKIP_WORDS,this.locale[i].opts["leading-noise-words"]||(this.locale[i].opts["leading-noise-words"]=[]),this.locale[i].dates={},this.locale[i].ord={"1.0.1":!1,keys:{}},this.locale[i]["noun-genders"]={}),s=t.makeXml(),t.nodeNameIs(t.dataObj,"locale"))s=t.dataObj;else for(n=t.getNodesByName(t.dataObj,"locale"),o=0,f=t.numberofnodes(n);o<f;o+=1)if(r=n[o],t.getAttributeValue(r,"lang","xml")===e){s=r;break}for(n=t.getNodesByName(s,"type"),j=0,C=t.numberofnodes(n);j<C;j+=1){var d=n[j],g=t.getAttributeValue(d,"name"),b=t.getAttributeValue(d,"gender");this.opt.gender[g]=b}if(t.getNodesByName(s,"term","ordinal").length){for(var y in this.locale[i].ord.keys)delete this.locale[i].terms[y];this.locale[i].ord={"1.0.1":!1,keys:{}}}n=t.getNodesByName(s,"term");var v={"last-digit":{},"last-two-digits":{},"whole-number":{}},_=!1,x={};for(o=0,f=t.numberofnodes(n);o<f;o+=1){if(l=n[o],"sub verbo"===(p=t.getAttributeValue(l,"name"))&&(p="sub-verbo"),"ordinal"===p.slice(0,7)){if("ordinal"===p)_=!0;else{var w,A=t.getAttributeValue(l,"match"),E=p.slice(8);w=(w=t.getAttributeValue(l,"gender-form"))||"neuter",A||(A="last-two-digits","0"===E.slice(0,1)&&(A="last-digit")),"0"===E.slice(0,1)&&(E=E.slice(1)),v[A][E]||(v[A][E]={}),v[A][E][w]=p}this.locale[i].ord.keys[p]=!0}"undefined"==typeof this.locale[i].terms[p]&&(this.locale[i].terms[p]={}),w=!(u="long"),t.getAttributeValue(l,"form")&&(u=t.getAttributeValue(l,"form")),t.getAttributeValue(l,"gender-form")&&(w=t.getAttributeValue(l,"gender-form")),t.getAttributeValue(l,"gender")&&(this.locale[i]["noun-genders"][p]=t.getAttributeValue(l,"gender")),w?(this.locale[i].terms[p][w]={},this.locale[i].terms[p][w][u]=[],m=this.locale[i].terms[p][w],x[p]=!0):(this.locale[i].terms[p][u]=[],m=this.locale[i].terms[p]),t.numberofnodes(t.getNodesByName(l,"multiple"))?(m[u][0]=t.getNodeValue(l,"single"),-1<m[u][0].indexOf("%s")&&(this.opt.hasPlaceholderTerm=!0),m[u][1]=t.getNodeValue(l,"multiple"),-1<m[u][1].indexOf("%s")&&(this.opt.hasPlaceholderTerm=!0)):(m[u]=t.getNodeValue(l),-1<m[u].indexOf("%s")&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[i].terms.supplement||(this.locale[i].terms.supplement={}),this.locale[i].terms.supplement["long"]||(this.locale[i].terms.supplement["long"]=["supplement","supplements"]),_){for(var O in x){var T={},S=0;for(var I in this.locale[i].terms[O])-1<["masculine","feminine"].indexOf(I)?T[I]=this.locale[i].terms[O][I]:S+=1;if(!S)if(T.feminine)for(var I in T.feminine)this.locale[i].terms[O][I]=T.feminine[I];else if(T.masculine)for(var I in T.masculine)this.locale[i].terms[O][I]=T.masculine[I]}this.locale[i].ord["1.0.1"]=v}for(p in this.locale[i].terms)for(j=0,C=2;j<C;j+=1)if(w=Nt.GENDERS[j],this.locale[i].terms[p][w])for(u in this.locale[i].terms[p])this.locale[i].terms[p][w][u]||(this.locale[i].terms[p][w][u]=this.locale[i].terms[p][u]);for(n=t.getNodesByName(s,"style-options"),o=0,f=t.numberofnodes(n);o<f;o+=1)for(h in c=n[o],a=t.attributes(c))if(a.hasOwnProperty(h))if("@punctuation-in-quote"===h||"@limit-day-ordinals-to-day-1"===h)"true"===a[h]?this.locale[i].opts[h.slice(1)]=!0:this.locale[i].opts[h.slice(1)]=!1;else if("@jurisdiction-preference"===h){var k=a[h].split(/\s+/);this.locale[i].opts[h.slice(1)]=k}else if("@skip-words"===h){var N=a[h].split(/\s*,\s*/);this.locale[i].opts[h.slice(1)]=N}else if("@leading-noise-words"===h){var Q=a[h].split(/\s*,\s*/);this.locale[i].opts["leading-noise-words"]=Q}else if("@name-as-sort-order"===h){this.locale[i].opts["name-as-sort-order"]={};for(var j=0,C=(P=a[h].split(/\s+/)).length;j<C;j+=1)this.locale[i].opts["name-as-sort-order"][P[j]]=!0}else if("@name-as-reverse-order"===h){this.locale[i].opts["name-as-reverse-order"]={};for(j=0,C=(P=a[h].split(/\s+/)).length;j<C;j+=1)this.locale[i].opts["name-as-reverse-order"][P[j]]=!0}else if("@name-never-short"===h){this.locale[i].opts["name-never-short"]={};var P;for(j=0,C=(P=a[h].split(/\s+/)).length;j<C;j+=1)this.locale[i].opts["name-never-short"][P[j]]=!0}for(n=t.getNodesByName(s,"date"),o=0,f=t.numberofnodes(n);o<f;o+=1){var R=n[o];this.locale[i].dates[t.getAttributeValue(R,"form")]=R}Nt.SET_COURT_CLASSES(this,i,t,s)},Nt.getLocaleNames=function(t,e){var o=Nt.setupXml(t);function i(t,e){var i=["base","best"];if(e)for(var r=Nt.localeResolve(e),s=0,n=i.length;s<n;s++)r[i[s]]&&-1===t.indexOf(r[i[s]])&&t.push(r[i[s]])}var l=["en-US"];function r(t){for(var e=o.getNodesByName(o.dataObj,t),i=0,r=e.length;i<r;i++){var s=o.getAttributeValue(e[i],"locale");if(s)for(var n=0,a=(s=s.split(/ +/)).length;n<a;n++)this.extendLocaleList(l,s[n])}}i(l,e);var s=o.getNodesByName(o.dataObj,"style")[0],n=o.getAttributeValue(s,"default-locale");i(l,n);for(var a=0,u=["layout","if","else-if","condition"].length;a<u;a++)r(o);return l},Nt.Node={},Nt.Node.bibliography={build:function(t,e){if(this.tokentype===Nt.START){t.build.area="bibliography",t.build.root="bibliography",t.build.extension="";var i=function i(t){t.tmp.area="bibliography",t.tmp.root="bibliography",t.tmp.extension=""};this.execs.push(i)}e.push(this)}},Nt.Node.choose={build:function(t,e){var i;this.tokentype===Nt.START&&(i=function i(t){t.tmp.jump.push(undefined,Nt.LITERAL)}),this.tokentype===Nt.END&&(i=function i(t){t.tmp.jump.pop()}),this.execs.push(i),e.push(this)},configure:function(t,e){this.tokentype===Nt.END?(t.configure.fail.push(e),t.configure.succeed.push(e)):(t.configure.fail.pop(),t.configure.succeed.pop())}},Nt.Node.citation={build:function(t,e){if(this.tokentype===Nt.START){t.build.area="citation",t.build.root="citation",t.build.extension="";var i=function i(t){t.tmp.area="citation",t.tmp.root="citation",t.tmp.extension=""};this.execs.push(i)}if(this.tokentype===Nt.END){if(t.opt.grouped_sort="in-text"===t.opt.xclass&&t.citation.opt.collapse&&t.citation.opt.collapse.length||t.citation.opt.cite_group_delimiter&&t.citation.opt.cite_group_delimiter.length&&t.opt.update_mode!==Nt.POSITION&&t.opt.update_mode!==Nt.NUMERIC,t.opt.grouped_sort&&t.citation_sort.opt.sort_directions.length){var r=t.citation_sort.opt.sort_directions[0].slice();t.citation_sort.opt.sort_directions=[r].concat(t.citation_sort.opt.sort_directions)}t.citation.srt=new Nt.Registry.Comparifier(t,"citation_sort")}e.push(this)}},Nt.Node["#comment"]={build:function(){}},Nt.Node.date={build:function(t,e){var s,n,a,o,l,u,p,c,h,f;this.tokentype!==Nt.START&&this.tokentype!==Nt.SINGLETON||(t.dateput.string(t,t.dateput.queue),t.tmp.date_token=Nt.Util.cloneToken(this),t.tmp.date_token.strings.prefix="",t.tmp.date_token.strings.suffix="",t.dateput.openLevel(this),t.build.date_parts=[],t.build.date_variables=this.variables,t.build.extension||Nt.Util.substituteStart.call(this,t,e),s=t.build.extension?Nt.dateMacroAsSortKey:function s(t,e,i){var r;if(t.tmp.element_rendered_ok=!1,t.tmp.donesies=[],t.tmp.dateparts=[],r=[],!this.variables.length||t.tmp.just_looking&&"accessed"===this.variables[0])t.tmp.date_object=!1;else{for(void 0===(n=e[this.variables[0]])&&(n={"date-parts":[[0]]},t.opt.development_extensions.locator_date_and_revision&&i&&"locator-date"===this.variables[0]&&i["locator-date"]&&(n=i["locator-date"])),t.tmp.date_object=n,a=this.dateparts.length,o=0;o<a;o+=1)l=this.dateparts[o],"undefined"!=typeof t.tmp.date_object[l+"_end"]?r.push(l):"month"===l&&"undefined"!=typeof t.tmp.date_object.season_end&&r.push(l);for(u=[],a=(p=["year","month","day"]).length,o=0;o<a;o+=1)-1<r.indexOf(p[o])&&u.push(p[o]);for(r=u.slice(),c=2,a=r.length,o=0;o<a;o+=1)if(l=r[o],h=t.tmp.date_object[l],f=t.tmp.date_object[l+"_end"],h!==f){c=o;break}t.tmp.date_collapse_at=r.slice(c)}},this.execs.push(s),s=function s(t,e){if(e[this.variables[0]]&&(t.output.startTag("date",this),"issued"===this.variables[0]&&"legal_case"===e.type&&!t.tmp.extension&&""+e["collection-number"]==""+t.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var i in t.tmp.date_object)if(t.tmp.date_object.hasOwnProperty(i)&&"year"===i.slice(0,4)){t.tmp.issued_date={};var r=t.output.current.mystack.slice(-2)[0].blobs;t.tmp.issued_date.list=r,t.tmp.issued_date.pos=r.length-1}},this.execs.push(s)),t.build.extension||this.tokentype!==Nt.END&&this.tokentype!==Nt.SINGLETON||(s=function s(t,e){e[this.variables[0]]&&t.output.endTag()},this.execs.push(s)),e.push(this),this.tokentype!==Nt.END&&this.tokentype!==Nt.SINGLETON||t.build.extension||Nt.Util.substituteEnd.call(this,t,e)}},Nt.Node["date-part"]={build:function(n,t){var a,o,l,u,p,c,h,f,m,d,g,b,y,v,_,x,w,A,E;this.strings.form||(this.strings.form="long"),n.build.date_parts.push(this.strings.name);var O=n.build.date_variables[0];function T(t,e,i){if(!i)return i;if(i=""+Nt.Util.Dates[this.strings.name][t](n,i,e,this.default_locale),"month"===this.strings.name)if(n.tmp.strip_periods)i=i.replace(/\./g,"");else for(var r=0,s=this.decorations.length;r<s;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){i=i.replace(/\./g,"");break}return i}a=function a(t,e){if(t.tmp.date_object){if(t.tmp.probably_rendered_something=!0,u=!0,c=p="",t.tmp.donesies.push(this.strings.name),t.tmp.date_object.literal&&"year"===this.strings.name&&t.output.append(t.tmp.date_object.literal,this),t.tmp.date_object&&(p=t.tmp.date_object[this.strings.name],c=t.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==p||t.tmp.suppress_decorations||(p=!1),h=!t.tmp.suppress_decorations,f=t.tmp.have_collapsed,m="year-suffix"===t[t.tmp.area].opt.collapse||"year-suffix-ranged"===t[t.tmp.area].opt.collapse,d=t.opt["disambiguate-add-year-suffix"],h&&d&&m&&(t.tmp.years_used.push(p),t.tmp.last_years_used.length>=t.tmp.years_used.length&&f&&t.tmp.last_years_used[t.tmp.years_used.length-1]===p&&(p=!1)),void 0!==p){b=g=!1,"year"===this.strings.name&&(parseInt(p,10)<500&&0<parseInt(p,10)&&(b=t.getTerm("ad")),parseInt(p,10)<0&&(g=t.getTerm("bc"),p=-1*parseInt(p,10)),c&&(parseInt(c,10)<500&&0<parseInt(c,10)&&t.getTerm("ad"),parseInt(c,10)<0&&(t.getTerm("bc"),c=-1*parseInt(c,10))));for(var i=""+t.tmp.date_object.month;i.length<2;)i="0"+i;i="month-"+i;var r=t.locale[t.opt.lang]["noun-genders"][i];if(this.strings.form){var s=this.strings.form;"day"===this.strings.name&&"ordinal"===s&&t.locale[t.opt.lang].opts["limit-day-ordinals-to-day-1"]&&""+p!="1"&&(s="numeric"),p=T.call(this,s,r,p),c=T.call(this,s,r,c)}if(t.output.openLevel("empty"),t.tmp.date_collapse_at.length){for(y=!0,l=t.tmp.date_collapse_at.length,o=0;o<l;o+=1)if(E=t.tmp.date_collapse_at[o],-1===t.tmp.donesies.indexOf(E)){y=!1;break}if(y){if(""+c!="0"){if(0===t.dateput.queue.length&&(u=!0),t.opt["year-range-format"]&&"expanded"!==t.opt["year-range-format"]&&!t.tmp.date_object.day&&!t.tmp.date_object.month&&!t.tmp.date_object.season&&"year"===this.strings.name&&p&&c){c=t.fun.year_mangler(p+"-"+c,!0);var n=t.getTerm("year-range-delimiter");c=c.slice(c.indexOf(n)+1)}t.dateput.append(c,this),u&&(t.dateput.current.value().blobs[0].strings.prefix="")}t.output.append(p,this),(v=t.output.current.value()).blobs[v.blobs.length-1].strings.suffix="",this.strings["range-delimiter"]?t.output.append(this.strings["range-delimiter"]):t.output.append(t.getTerm("year-range-delimiter"),"empty"),t.dateput.closeLevel(),_=t.dateput.current.value(),v.blobs=v.blobs.concat(_),t.dateput.string(t,t.dateput.queue),t.dateput.openLevel(t.tmp.date_token),t.tmp.date_collapse_at=[]}else t.output.append(p,this),-1<t.tmp.date_collapse_at.indexOf(this.strings.name)&&""+c!="0"&&(0===t.dateput.queue.length&&(u=!0),t.dateput.openLevel("empty"),t.dateput.append(c,this),u&&(t.dateput.current.value().blobs[0].strings.prefix=""),g&&t.dateput.append(g),b&&t.dateput.append(b),t.dateput.closeLevel())}else t.output.append(p,this);g&&t.output.append(g),b&&t.output.append(b),t.output.closeLevel()}else"month"===this.strings.name&&t.tmp.date_object.season&&((p=""+t.tmp.date_object.season)&&p.match(/^[1-4]$/)?(t.tmp.group_context.tip.variable_success=!0,t.output.append(t.getTerm("season-0"+p),this)):p&&t.output.append(p,this));t.tmp.value=[],!e[O]||!p&&!t.tmp.have_collapsed||t.opt.has_year_suffix||"year"!==this.strings.name||t.tmp.just_looking||t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.has_done_year_suffix&&(t.tmp.has_done_year_suffix=!0,w=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),x=new Nt.NumericBlob(!1,w,this,e.id),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,A=new Nt.Util.Suffixator(Nt.SUFFIX_CHARS),x.setFormatter(A),"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(x.range_prefix=t.getTerm("citation-range-delimiter")),t[t.tmp.area].opt.cite_group_delimiter?x.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter:t[t.tmp.area].opt["year-suffix-delimiter"]?x.successor_prefix=t[t.tmp.area].opt["year-suffix-delimiter"]:x.successor_prefix=t[t.tmp.area].opt.layout_delimiter,x.UGLY_DELIMITER_SUPPRESS_HACK=!0,t.output.append(x,"literal"))}},this.execs.push(a),t.push(this)}},Nt.Node["else-if"]={build:function(t,e){Nt.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){Nt.Conditions.Configure.call(this,t,e)}},Nt.Node["else"]={build:function(t,e){e.push(this)},configure:function(t,e){this.tokentype===Nt.START&&(t.configure.fail[t.configure.fail.length-1]=e)}},Nt.Node["et-al"]={build:function(t,e){if("citation"===t.build.area||"bibliography"===t.build.area){var i=function i(t){"string"==typeof(t.tmp.etal_node=this).strings.term&&(t.tmp.etal_term=this.strings.term)};this.execs.push(i)}e.push(this)}},Nt.Node.group={build:function(e,t,i){var f,r,s;if(this.realGroup=i,this.tokentype===Nt.START&&(Nt.Util.substituteStart.call(this,e,t),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()+1),this.juris||t.push(this),(r=[]).push(f=function f(t){if(t.output.startTag("group",this),this.strings.label_form_override&&(t.tmp.group_context.tip.label_form||(t.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(t.tmp.group_context.tip.label_capitalize_if_first||(t.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){var e=!1,i=!1;t.tmp.group_context.mystack.length&&(t.output.current.value().parent=t.tmp.group_context.tip.output_tip);var r=t.tmp.group_context.tip.label_form;r=r||this.strings.label_form_override;var s=t.tmp.group_context.tip.label_capitalize_if_first;s=s||this.strings.label_capitalize_if_first,t.tmp.group_context.tip.condition?(e=t.tmp.group_context.tip.condition,i=t.tmp.group_context.tip.force_suppress):this.strings.reject?(e={test:this.strings.reject,not:!0},[]):this.strings.require&&(e={test:this.strings.require,not:!1},[]),t.tmp.group_context.push({old_term_predecessor:t.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:t.tmp.group_context.tip.variable_success,output_tip:t.output.current.tip,label_form:r,label_capitalize_if_first:s,parallel_condition:this.strings.set_parallel_condition,changes_in_condition:this.strings.set_changes_in_condition,no_repeat_condition:this.strings.set_no_repeat_condition,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_result:undefined,parallel_repeats:undefined,condition:e,force_suppress:i,done_vars:t.tmp.group_context.tip.done_vars.slice()})}}),this.execs=r.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(e.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(f=function f(t,e){if(e.publisher&&e["publisher-place"]){var i=e.publisher.split(/;\s*/),r=e["publisher-place"].split(/;\s*/);1<i.length&&i.length===r.length&&(t.publisherOutput=new Nt.PublisherOutput(t,this),t.publisherOutput["publisher-list"]=i,t.publisherOutput["publisher-place-list"]=r)}},this.execs.push(f))),this.juris)){var n=new Nt.Token("choose",Nt.START);Nt.Node.choose.build.call(n,e,t);var a=new Nt.Token("if",Nt.START);s=this.juris,f=function(t){return Nt.INIT_JURISDICTION_MACROS(e,t,s)},a.tests||(a.tests=[]),a.tests.push(f),a.test=e.fun.match.any(a,e,a.tests),t.push(a);var o=new Nt.Token("text",Nt.SINGLETON);f=function f(t,e,i){var r=0;if(t.juris[e["best-jurisdiction"]][this.juris])for(;r<t.juris[e["best-jurisdiction"]][this.juris].length;)r=Nt.tokenExec.call(t,t.juris[e["best-jurisdiction"]][this.juris][r],e,i)},o.juris=this.juris,o.execs.push(f),t.push(o);var l=new Nt.Token("if",Nt.END);Nt.Node["if"].build.call(l,e,t);var u=new Nt.Token("else",Nt.START);Nt.Node["else"].build.call(u,e,t)}if(this.tokentype===Nt.END&&(e.build["publisher-special"]&&(e.build["publisher-special"]=!1,f=function f(t){t.publisherOutput&&(t.publisherOutput.render(),t.publisherOutput=!1)},this.execs.push(f)),f=function f(t,e,i){if(t.output.endTag(),this.realGroup){var r=t.tmp.group_context.pop();if("bibliography_sort"===t.tmp.area){var s=r.done_vars.indexOf("citation-number");this.strings.sort_direction&&-1<s&&1==t.tmp.group_context.length()&&(this.strings.sort_direction===Nt.DESCENDING?t.bibliography_sort.opt.citation_number_sort_direction=Nt.DESCENDING:t.bibliography_sort.opt.citation_number_sort_direction=Nt.ASCENDING,r.done_vars=r.done_vars.slice(0,s).concat(r.done_vars.slice(s+1)))}if(r.condition&&(r.force_suppress=Nt.EVALUATE_GROUP_CONDITION(t,r)),t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.force_suppress=r.force_suppress),!r.force_suppress&&(r.variable_success||r.term_intended&&!r.variable_attempt)){this.isJurisLocatorLabel||(t.tmp.group_context.tip.variable_success=!0);var n=t.output.current.value().blobs,a=t.output.current.value().blobs.length-1;if(!t.tmp.just_looking&&(r.parallel_condition||r.no_repeat_condition||r.parallel_delimiter_override)){var o={blobs:n,condition:r.condition,parallel_condition:r.parallel_condition,parallel_result:r.parallel_result,changes_in_condition:r.changes_in_condition,parallel_repeats:r.parallel_repeats,no_repeat_condition:r.no_repeat_condition,no_repeat_repeats:r.no_repeat_repeats,parallel_delimiter_override:r.parallel_delimiter_override,id:e.id,pos:a};t.parallel.checkRepeats(o)&&(n&&n.pop(),o.parallel_delimiter_override&&(t.output.queue.slice(-1)[0].parallel_delimiter=o.parallel_delimiter_override)),t.parallel.checkParallels(o,e)&&n&&n.pop(),"citation"===t.tmp.area&&!i.prefix&&-1<["mid","last"].indexOf(o.parallel_result)&&o.parallel_delimiter_override&&(t.output.queue.slice(-1)[0].parallel_delimiter=o.parallel_delimiter_override)}}else{if(t.tmp.term_predecessor=r.old_term_predecessor,t.tmp.group_context.tip.variable_attempt=r.variable_attempt,r.force_suppress&&!t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.variable_attempt=!0,t.tmp.group_context.tip.variable_success=r.variable_success_parent),r.force_suppress)for(var l=0,u=r.done_vars.length;l<u;l++)for(var p=r.done_vars[l],c=0,h=t.tmp.done_vars.length;c<h;c++)t.tmp.done_vars[c]===p&&(t.tmp.done_vars=t.tmp.done_vars.slice(0,c).concat(t.tmp.done_vars.slice(c+1)));t.output.current.value().blobs&&t.output.current.value().blobs.pop()}}},this.execs.push(f),this.juris)){var p=new Nt.Token("else",Nt.END);Nt.Node["else"].build.call(p,e,t);var c=new Nt.Token("choose",Nt.END);Nt.Node.choose.build.call(c,e,t)}this.tokentype===Nt.END&&(this.juris||t.push(this),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()-1),Nt.Util.substituteEnd.call(this,e,t))}},Nt.Node["if"]={build:function(t,e){Nt.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){Nt.Conditions.Configure.call(this,t,e)}},Nt.Node.conditions={build:function(t){this.tokentype===Nt.START&&t.tmp.conditions.addMatch(this.match),this.tokentype===Nt.END&&t.tmp.conditions.matchCombine()}},Nt.Node.condition={build:function(t){if(this.tokentype===Nt.SINGLETON){var e=t.fun.match[this.match](this,t,this.tests);t.tmp.conditions.addTest(e)}}},Nt.Conditions={},Nt.Conditions.TopNode=function(t){var e;this.tokentype!==Nt.START&&this.tokentype!==Nt.SINGLETON||(this.locale&&(t.opt.lang=this.locale),this.tests&&this.tests.length?this.test=t.fun.match[this.match](this,t,this.tests):t.tmp.conditions=new Nt.Conditions.Engine(t,this),0===t.build.substitute_level.value()&&(e=function e(t){t.tmp.condition_counter++},this.execs.push(e))),this.tokentype!==Nt.END&&this.tokentype!==Nt.SINGLETON||(0===t.build.substitute_level.value()&&(e=function e(t){t.tmp.condition_counter--,0<t.tmp.condition_lang_counter_arr.length&&(t.tmp.condition_lang_counter_arr.slice(-1)[0]===t.tmp.condition_counter&&(t.opt.lang=t.tmp.condition_lang_val_arr.pop(),t.tmp.condition_lang_counter_arr.pop()));this.locale_default&&(t.output.current.value().old_locale=this.locale_default,t.output.closeLevel("empty"),t.opt.lang=this.locale_default)},this.execs.push(e)),e=function e(t){return this[t.tmp.jump.value()]},this.execs.push(e),this.locale_default&&(t.opt.lang=this.locale_default))},Nt.Conditions.Configure=function(t,e){this.tokentype===Nt.START?(this.fail=t.configure.fail.slice(-1)[0],this.succeed=this.next,t.configure.fail[t.configure.fail.length-1]=e):this.tokentype===Nt.SINGLETON?(this.fail=this.next,this.succeed=t.configure.succeed.slice(-1)[0],t.configure.fail[t.configure.fail.length-1]=e):(this.succeed=t.configure.succeed.slice(-1)[0],this.fail=this.next)},Nt.Conditions.Engine=function(t,e){this.token=e,this.state=t},Nt.Conditions.Engine.prototype.addTest=function(t){this.token.tests||(this.token.tests=[]),this.token.tests.push(t)},Nt.Conditions.Engine.prototype.addMatch=function(t){this.token.match=t},Nt.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},Nt.Node.info={build:function(t){this.tokentype===Nt.START?t.build.skip="info":t.build.skip=!1}},Nt.Node.institution={build:function(t,e){if(-1<[Nt.SINGLETON,Nt.START].indexOf(this.tokentype)){var i=function i(t){"string"==typeof this.strings.delimiter?t.tmp.institution_delimiter=this.strings.delimiter:t.tmp.institution_delimiter=t.tmp.name_delimiter,"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")?t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&":"none"===t.inheritOpt(this,"and")&&(this.and_term=t.tmp.institution_delimiter),"undefined"==typeof this.and_term&&t.tmp.and_term&&(this.and_term=t.getTerm("and","long",0)),Nt.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.institution_delimiter&&(this.and_prefix_multiple=t.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.institution_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},"undefined"!=typeof this.and_term?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new Nt.Blob(t.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new Nt.Blob(t.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),t.nameOutput.institution=this};this.execs.push(i)}e.push(this)},configure:function(t){-1<[Nt.SINGLETON,Nt.START].indexOf(this.tokentype)&&(t.build.has_institution=!0)}},Nt.Node["institution-part"]={build:function(t,e){var i;"long"===this.strings.name?i=this.strings["if-short"]?function i(t){t.nameOutput.institutionpart["long-with-short"]=this}:function i(t){t.nameOutput.institutionpart["long"]=this}:"short"===this.strings.name&&(i=function i(t){t.nameOutput.institutionpart["short"]=this}),this.execs.push(i),e.push(this)}},Nt.Node.key={build:function(t,e){var s;e=t[t.build.root+"_sort"].tokens;var i=new Nt.Token("key",Nt.START);t.tmp.root=t.build.root,i.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),s=function s(t){t.tmp.done_vars=[]},i.execs.push(s),s=function s(t){t.output.openLevel("empty")},i.execs.push(s);var r=[];if(this.strings.sort_direction===Nt.DESCENDING?(r.push(1),r.push(-1)):(r.push(-1),r.push(1)),t[t.build.area].opt.sort_directions.push(r),-1<Nt.DATE_VARIABLES.indexOf(this.variables[0])&&(t.build.date_key=!0),s=function s(t){t.tmp.sort_key_flag=!0,t.inheritOpt(this,"et-al-min")&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),t.inheritOpt(this,"et-al-use-first")&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"boolean"==typeof t.inheritOpt(this,"et-al-use-last")&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"))},i.execs.push(s),e.push(i),this.variables.length){var n=this.variables[0];if(-1<Nt.NAME_VARIABLES.indexOf(n)){var a=new Nt.Token("names",Nt.START);a.tokentype=Nt.START,a.variables=this.variables,Nt.Node.names.build.call(a,t,e);var o=new Nt.Token("name",Nt.SINGLETON);o.tokentype=Nt.SINGLETON,o.strings["name-as-sort-order"]="all",o.strings["sort-separator"]=" ",o.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),o.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),o.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),Nt.Node.name.build.call(o,t,e);var l=new Nt.Token("institution",Nt.SINGLETON);l.tokentype=Nt.SINGLETON,Nt.Node.institution.build.call(l,t,e);var u=new Nt.Token("names",Nt.END);u.tokentype=Nt.END,Nt.Node.names.build.call(u,t,e)}else{var p=new Nt.Token("text",Nt.SINGLETON);if(p.strings.sort_direction=this.strings.sort_direction,p.dateparts=this.dateparts,-1<Nt.NUMERIC_VARIABLES.indexOf(n))s="citation-number"===n?function s(t,e){if("bibliography_sort"===t.tmp.area&&(this.strings.sort_direction===Nt.DESCENDING?t.bibliography_sort.opt.citation_number_sort_direction=Nt.DESCENDING:t.bibliography_sort.opt.citation_number_sort_direction=Nt.ASCENDING),"citation_sort"===t.tmp.area&&t.bibliography_sort.tmp.citation_number_map)var i=t.bibliography_sort.tmp.citation_number_map[t.registry.registry[e.id].seq];else i=t.registry.registry[e.id].seq;i=i&&Nt.Util.padding(""+i),t.output.append(i,this)}:function s(t,e){var i=!1;i=(i=e[n])&&Nt.Util.padding(i),t.output.append(i,this)};else if("citation-label"===n)s=function s(t,e){var i=t.getCitationLabel(e);t.output.append(i,this)};else if(-1<Nt.DATE_VARIABLES.indexOf(n))s=Nt.dateAsSortKey,p.variables=this.variables;else if("title"===n){s=t.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else s="court-class"===n?function s(t,e){Nt.INIT_JURISDICTION_MACROS(t,e,"juris-main");var i=Nt.GET_COURT_CLASS(t,e,!0);t.output.append(i,"empty")}:function s(t,e){var i=e[n];t.output.append(i,"empty")};p.execs.push(s),e.push(p)}}else{var c=new Nt.Token("text",Nt.SINGLETON);c.strings.sort_direction=this.strings.sort_direction,c.postponed_macro=this.postponed_macro,Nt.expandMacro.call(t,c,e)}var h=new Nt.Token("key",Nt.END);s=function s(t){var e=t.output.string(t,t.output.queue);t.sys.normalizeUnicode&&(e=t.sys.normalizeUnicode(e)),""===(e=e?e.split(" ").join(t.opt.sort_sep)+t.opt.sort_sep:"")&&(e=undefined),"string"==typeof e&&!t.tmp.empty_date||(e=undefined,t.tmp.empty_date=!1),t[t[t.tmp.area].root+"_sort"].keys.push(e),t.tmp.value=[]},h.execs.push(s),t.build.date_key&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t[t.build.area].opt.sort_directions.push([-1,1]),s=function s(t,e){var i=t.registry.registry[e.id].disambig.year_suffix;i=i||0;var r=Nt.Util.padding(""+i);t[t.tmp.area].keys.push(r)},h.execs.push(s)),t.build.date_key=!1),s=function s(t){t.tmp["et-al-min"]=undefined,t.tmp["et-al-use-first"]=undefined,t.tmp["et-al-use-last"]=undefined,t.tmp.sort_key_flag=!1},h.execs.push(s),e.push(h)}},Nt.Node.label={build:function(t,e){if(this.strings.term){var s=function s(t,e,i){var r=Nt.evaluateLabel(this,t,e,i);i&&"locator"===this.strings.term&&(i.section_form_override=this.strings.form),r&&(t.tmp.group_context.tip.term_intended=!0),Nt.UPDATE_GROUP_CONTEXT_CONDITION(t,r),-1===r.indexOf("%s")&&(this.strings.capitalize_if_first&&(t.tmp.term_predecessor||"in-text"===t.opt["class"]&&"citation"===t.tmp.area||(r=Nt.Output.Formatters["capitalize-first"](t,r))),t.output.append(r,this))};this.execs.push(s)}else{this.strings.form||(this.strings.form="long");for(var i=t.build.names_variables[t.build.names_variables.length-1],r=t.build.name_label[t.build.name_label.length-1],n=0,a=i.length;n<a;n+=1)r[i[n]]||(r[i[n]]={});if(t.build.name_flag)for(n=0,a=i.length;n<a;n+=1)r[i[n]].after=this;else for(var n=0,a=i.length;n<a;n+=1)r[i[n]].before=this}e.push(this)}},Nt.Node.layout={build:function(t,e){var n,i,r,s,a;function o(){"bibliography"===t.build.area&&(r=new Nt.Token("text",Nt.SINGLETON),n=function(t){var e;e=t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale]?t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale].suffix:t.bibliography.opt.layout_suffix;var i=t.output.current.value();t.opt.using_display?i.blobs[i.blobs.length-1].strings.suffix=e:i.strings.suffix=e,t.bibliography.opt["second-field-align"]&&t.output.endTag("bib_other")},r.execs.push(n),e.push(r))}if(this.tokentype===Nt.START&&(this.locale_raw?t.build.current_default_locale=this.locale_raw:t.build.current_default_locale=t.opt["default-locale"],n=function n(t,e,i){if(t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area){var r=new Nt.Token("group",Nt.START);r.decorations=[["@cite","entry"]],t.output.startTag("cite_entry",r),t.output.current.value().item_id=e.system_id,i&&(t.output.current.value().locator_txt=i.locator_txt,t.output.current.value().suffix_txt=i.suffix_txt)}},this.execs.push(n)),this.tokentype!==Nt.START||t.tmp.cite_affixes[t.build.area]||(n=function n(t,e){t.tmp.done_vars=[],t.opt.suppressedJurisdictions[e.country]&&e.country&&-1===["treaty","patent"].indexOf(e.type)&&t.tmp.done_vars.push("country"),!t.tmp.just_looking&&t.registry.registry[e.id]&&t.registry.registry[e.id].parallel&&t.tmp.done_vars.push("first-reference-note-number"),t.tmp.rendered_name=!1},this.execs.push(n),n=function n(t){t.tmp.sort_key_flag=!1},this.execs.push(n),n=function n(t){t.tmp.nameset_counter=0},this.execs.push(n),n=function n(t,e){var i=new Nt.Token;t.output.openLevel(i)},this.execs.push(n),e.push(this),"citation"===t.build.area&&(i=new Nt.Token("text",Nt.SINGLETON),n=function n(t,e,i){if(i&&i.prefix){var r=Nt.checkPrefixSpaceAppend(t,i.prefix);t.tmp.just_looking||(r=t.output.checkNestedBrace.update(r));var s=Nt.checkIgnorePredecessor(t,r);t.output.append(r,this,!1,s)}},i.execs.push(n),e.push(i))),this.locale_raw&&((a=new Nt.Token("dummy",Nt.START)).locale=this.locale_raw,a.strings.delimiter=this.strings.delimiter,a.strings.suffix=this.strings.suffix,t.tmp.cite_affixes[t.build.area]||(t.tmp.cite_affixes[t.build.area]={})),this.tokentype===Nt.START&&(t.build.layout_flag=!0,this.locale_raw||(t[t.tmp.area].opt.topdecor=[this.decorations],t[t.tmp.area+"_sort"].opt.topdecor=[this.decorations],t[t.build.area].opt.layout_prefix=this.strings.prefix,t[t.build.area].opt.layout_suffix=this.strings.suffix,t[t.build.area].opt.layout_delimiter=this.strings.delimiter,t[t.build.area].opt.layout_decorations=this.decorations,t.tmp.cite_affixes[t.build.area]&&(s=new Nt.Token("else",Nt.START),Nt.Node["else"].build.call(s,t,e))),this.locale_raw)){if(t.build.layout_locale_flag)a.name="else-if",Nt.Attributes["@locale-internal"].call(a,t,this.locale_raw),Nt.Node["else-if"].build.call(a,t,e);else{var l=new Nt.Token("choose",Nt.START);Nt.Node.choose.build.call(l,t,e),a.name="if",Nt.Attributes["@locale-internal"].call(a,t,this.locale_raw),Nt.Node["if"].build.call(a,t,e)}t.tmp.cite_affixes[t.build.area][a.locale]={},t.tmp.cite_affixes[t.build.area][a.locale].delimiter=this.strings.delimiter,t.tmp.cite_affixes[t.build.area][a.locale].suffix=this.strings.suffix}this.tokentype===Nt.END&&(this.locale_raw&&(o(),t.build.layout_locale_flag?(a.name="else-if",a.tokentype=Nt.END,Nt.Attributes["@locale-internal"].call(a,t,this.locale_raw),Nt.Node["else-if"].build.call(a,t,e)):(a.name="if",a.tokentype=Nt.END,Nt.Attributes["@locale-internal"].call(a,t,this.locale_raw),Nt.Node["if"].build.call(a,t,e),t.build.layout_locale_flag=!0)),this.locale_raw||(o(),t.tmp.cite_affixes[t.build.area]&&t.build.layout_locale_flag&&(s=new Nt.Token("else",Nt.END),Nt.Node["else"].build.call(s,t,e),s=new Nt.Token("choose",Nt.END),Nt.Node.choose.build.call(s,t,e)),t.build_layout_locale_flag=!0,"citation"===t.build.area&&(r=new Nt.Token("text",Nt.SINGLETON),n=function n(t,e,i){if(i&&i.suffix){var r=Nt.checkSuffixSpacePrepend(t,i.suffix);t.tmp.just_looking||(r=t.output.checkNestedBrace.update(r)),t.output.append(r,this)}},r.execs.push(n),e.push(r)),n=function n(t){t.output.closeLevel()},this.execs.push(n),n=function n(t,e){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&t.output.endTag()},this.execs.push(n),e.push(this),t.build.layout_flag=!1,t.build.layout_locale_flag=!1))}},Nt.Node.macro={build:function(){}},Nt.Node.alternative={build:function(t,e){if(this.tokentype===Nt.START){var i=new Nt.Token("choose",Nt.START);Nt.Node.choose.build.call(i,t,e);var r=new Nt.Token("if",Nt.START);Nt.Attributes["@alternative-node-internal"].call(r,t),Nt.Node["if"].build.call(r,t,e);var h=function h(t,e){if(t.tmp.oldItem=e,t.tmp.oldLang=t.opt.lang,t.tmp.abort_alternative=!0,e["language-name"]&&e["language-name-original"]){var i=JSON.parse(JSON.stringify(e));i.language=i["language-name"];var r=Nt.localeResolve(i.language,t.opt["default-locale"][0]);if(t.opt.multi_layout)for(var s in t.opt.multi_layout){var n=t.opt.multi_layout[s],a=!1;for(var o in n){var l=n[o];if(r.best===l.best||r.base===l.base||r.bare===l.bare){a=n[0].best;break}}a=a||t.opt["default-locale"][0],t.opt.lang=a}for(var u in i)if(-1===["id","type","language","multi"].indexOf(u)&&"alt-"!==u.slice(0,4))if(i.multi&&i.multi._keys[u]){var p=!0;for(var c in i.multi._keys[u])if(r.bare===c.replace(/^([a-zA-Z]+).*/,"$1")){p=!1;break}p&&delete i[u]}else delete i[u];for(var u in i)"alt-"===u.slice(0,4)?(i[u.slice(4)]=i[u],t.tmp.abort_alternative=!1):i.multi&&i.multi._keys&&!i["alt-"+u]&&i.multi._keys[u]&&(i.multi._keys[u][r.best]?(i[u]=i.multi._keys[u][r.best],t.tmp.abort_alternative=!1):i.multi._keys[u][r.base]?(i[u]=i.multi._keys[u][r.base],t.tmp.abort_alternative=!1):i.multi._keys[u][r.bare]&&(i[u]=i.multi._keys[u][r.bare],t.tmp.abort_alternative=!1))}t.output.openLevel(this),t.registry.refhash[e.id]=i,t.nameOutput=new Nt.NameOutput(t,i)};this.execs.push(h),e.push(this);i=new Nt.Token("choose",Nt.START);Nt.Node.choose.build.call(i,t,e);r=new Nt.Token("if",Nt.START);Nt.Attributes["@alternative-node-internal"].call(r,t);h=function h(t){t.tmp.abort_alternative=!0};r.execs.push(h),Nt.Node["if"].build.call(r,t,e)}else if(this.tokentype===Nt.END){r=new Nt.Token("if",Nt.END);Nt.Node["if"].build.call(r,t,e);i=new Nt.Token("choose",Nt.END);Nt.Node.choose.build.call(i,t,e);h=function h(t,e){t.output.closeLevel(),t.registry.refhash[e.id]=t.tmp.oldItem,t.opt.lang=t.tmp.oldLang,t.nameOutput=new Nt.NameOutput(t,t.tmp.oldItem),t.tmp.abort_alternative=!1};this.execs.push(h),e.push(this);r=new Nt.Token("if",Nt.END);Nt.Node["if"].build.call(r,t,e);i=new Nt.Token("choose",Nt.END);Nt.Node.choose.build.call(i,t,e)}}},Nt.Node["alternative-text"]={build:function(t,e){if(this.tokentype===Nt.SINGLETON){var i=function i(t,e){e=t.refetchItem(e.id);Nt.getCite.call(t,e)};this.execs.push(i)}e.push(this)}},Nt.NameOutput=function(t,e,i){this.debug=!1,this.debug&&print("(1)"),this.state=t,this.Item=e,this.item=i,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},Nt.NameOutput.prototype.init=function(t){this.requireMatch=t.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=t,this.variables=t.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var e=0,i=this.variables.length;e<i;e+=1)this.Item[this.variables[e]]&&this.Item[this.variables[e]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[e]]));if((this["et-al"]=undefined,this["with"]=undefined,this.name=undefined,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length)&&this.checkCommonAuthor(this.requireMatch)){for(var e in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var r=this.state.tmp.done_vars.indexOf(this.variables[e]);-1<r&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,r).concat(this.state.tmp.done_vars.slice(e+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}},Nt.NameOutput.prototype.reinit=function(t,e){if(this.requireMatch=t.requireMatch,this.labelVariable=e,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=t.variables;var i=this.state.tmp.value.slice();this.state.tmp.value=[];for(var r=0,s=this.variables.length;r<s;r+=1)this.Item[this.variables[r]]&&this.Item[this.variables[r]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[r]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,Nt.LITERAL),this.state.tmp.value=i}if(this.checkCommonAuthor(this.requireMatch)){for(var r in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var n=this.state.tmp.done_vars.indexOf(this.variables[r]);-1<n&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,n).concat(this.state.tmp.done_vars.slice(r+1)))}this.variables=[]}},Nt.NameOutput.prototype.outputNames=function(){var t=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=Nt.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",f=0,m=this.family.execs.length;f<m;f+=1)this.family.execs[f].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=Nt.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",f=0,m=this.given.execs.length;f<m;f+=1)this.given.execs[f].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&print("(2)"),this.getEtAlConfig(),this.debug&&print("(3)"),this.divideAndTransliterateNames(),this.debug&&print("(4)"),this.truncatePersonalNameLists(),this.debug&&print("(5)"),this.debug&&print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&print("(7)"),"count"!==this.name.strings.form){this.debug&&print("(8)"),this.setEtAlParameters(),this.debug&&print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&print("(10)"),this.state.tmp.name_node={},this.state.tmp.name_node.children=[],this.renderAllNames(),this.debug&&print("(11)");var e=[];for(f=0,m=t.length;f<m;f+=1){var i=t[f],r=[],s=!1,n=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){this.debug&&print("(11a)");for(var a=0,o=this.institutions[i].length;a<o;a+=1)r.push(this.joinPersonsAndInstitutions([this.persons[i][a],this.institutions[i][a]]));if(this.debug&&print("(11b)"),this.institutions[i].length){var l=this.nameset_base+this.variable_offset[i];this.freeters[i].length&&(l+=1),s=this.joinInstitutionSets(r,l)}this.debug&&print("(11c)");n=this.joinFreetersAndInstitutionSets([this.freeters[i],s]);this.debug&&print("(11d)")}else n=this._join([this.freeters[i]],"");if(n&&(this.state.tmp.extension||(n=this._applyLabels(n,i)),e.push(n)),this.debug&&print("(11e)"),this.common_term)break}for(this.debug&&print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&print("(13)"),f=0,m=e.length;f<m;f+=1)this.state.output.append(e[f],"literal",!0);!this.state.tmp.just_looking&&0<e.length&&(this.state.tmp.probably_rendered_something=!0),this.debug&&print("(14)"),this.state.output.closeLevel("empty"),this.debug&&print("(15)");var u=this.state.output.pop();this.state.tmp.name_node.top=u,this.debug&&print("(16)");var p=Nt.Util.cloneToken(this.names);if(this.state.output.append(u,p),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&print("(17)"),this.debug&&print("(18)"),"authority"!==t[0]){var c=[],h=this.Item[t[0]];if(h)for(var f=0,m=h.length;f<m;f+=1){var d=Nt.Util.Names.getRawName(h[f]);d&&c.push(d)}(c=c.join(", "))&&(this.state.tmp.name_node.string=c)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type&&this.state.tmp.first_name_string){var g=[];g.push(this.state.tmp.first_name_string),this.Item.title&&g.push(this.Item.title),(g=g.join(", "))&&this.state.sys.getAbbreviation&&(this.state.transform.loadAbbreviation("default","classic",g),this.state.transform.abbrevs["default"].classic[g]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs["default"].classic[g],"empty",!0),u=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(u)))}this._collapseAuthor(),this.variables=[],this.debug&&print("(19)")}else!this.state.tmp.extension&&0==this.names_count||(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},Nt.NameOutput.prototype._applyLabels=function(t,e){var i;if(!this.label||!this.label[this.labelVariable])return t;var r=0,s=this.freeters_count[e]+this.institutions_count[e];if(1<s)r=1;else{for(var n=0,a=this.persons[e].length;n<a;n+=1)s+=this.persons_count[e][n];1<s&&(r=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(r=this.label[this.labelVariable].before.strings.plural),i=this._buildLabel(e,r,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(i,this.label[this.labelVariable].before,!0),this.state.output.append(t,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(r=this.label[this.labelVariable].after.strings.plural),i=this._buildLabel(e,r,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(t,"literal",!0),this.state.output.append(i,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()),t},Nt.NameOutput.prototype._buildLabel=function(t,e,i,r){this.common_term&&(t=this.common_term);var s=!1,n=this.label[r][i];return n&&(s=Nt.castLabel(this.state,n,t,e,Nt.TOLERANT)),s},Nt.NameOutput.prototype._collapseAuthor=function(){var t,e,i;0!==this.state.tmp.name_node.top.blobs.length&&(0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),this.state.tmp.offset_characters=i,this.state.registry.authorstrings[this.Item.id]=e):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),e===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=e,-1<this.variables.indexOf(this._first_creator_variable)&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},Nt.NameOutput.prototype.isPerson=function(t){return!(t.literal||!t.given&&t.family&&t.isInstitution)},Nt.NameOutput.prototype.truncatePersonalNameLists=function(){var t,e,i,r;for(t in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(t)&&(this.freeters_count[t]=this.freeters[t].length,this.freeters[t]=this._truncateNameList(this.freeters,t));for(t in this.persons)if(this.persons.hasOwnProperty(t))for(this.institutions_count[t]=this.institutions[t].length,this._truncateNameList(this.institutions,t),this.persons[t]=this.persons[t].slice(0,this.institutions[t].length),this.persons_count[t]=[],s=0,n=this.persons[t].length;s<n;s+=1)this.persons_count[t][s]=this.persons[t][s].length,this.persons[t][s]=this._truncateNameList(this.persons,t,s);if((r=1===this.etal_min&&1===this.etal_use_first&&!this.state.tmp.extension&&!this.state.tmp.just_looking&&t)||this._please_chop)for(e=0,i=this.variables.length;e<i;e+=1){t=this.variables[e],this.freeters[t].length&&(this._please_chop===t?(this.freeters[t]=this.freeters[t].slice(1),this.freeters_count[t]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.freeters[t]=this.freeters[t].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=r));for(var s=0,n=this.persons[t].length;s<n;s++)if(this.persons[t][s].length){if(this._please_chop===t){this.persons[t][s]=this.persons[t][s].slice(1),this.persons_count[t][s]+=-1,this._please_chop=!1;break}if(r&&!this._please_chop){this.freeters[t]=this.persons[t][s].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],[],this._please_chop=r;break}}this.institutions[t].length&&(this._please_chop===t?(this.institutions[t]=this.institutions[t].slice(1),this.institutions_count[t]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.institutions[t]=this.institutions[t].slice(0,1),this.institutions_count[t]=1,[],this._please_chop=r))}for(e=0,i=this.variables.length;e<i;e+=1){this.institutions[t].length&&(this.nameset_offset+=1);for(s=0,n=this.persons[t].length;s<n;s++)this.persons[t][s].length&&(this.nameset_offset+=1)}},Nt.NameOutput.prototype._truncateNameList=function(t,e,i){var r;if(r=void 0===i?t[e]:t[e][i],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&50<r.length&&r.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var s=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;r=r.slice(0,s+1).concat(r.slice(-1))}return r},Nt.NameOutput.prototype.divideAndTransliterateNames=function(){var t,e,i,r,s=this.Item,n=this.variables;for(this.varnames=n.slice(),this.freeters={},this.persons={},this.institutions={},t=0,e=n.length;t<e;t+=1){var a=n[t];this.variable_offset[a]=this.nameset_offset;var o=this._normalizeVariableValue(s,a);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(a,o),this._getPersonsAndInstitutions(a,o),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[a]=[],i=0,r=this.persons[a].length;i<r;i+=1)this.persons[a][i]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[a]=[],this.freeters[a]=this.freeters[a].concat(this.persons[a]),i=0,r=this.persons[a].length;i<r;i+=1)for(var l=0,u=this.persons[a][i].length;l<u;l+=1)this.freeters[a].push(this.persons[a][i][l]);this.persons[a]=[]}}},Nt.NameOutput.prototype._normalizeVariableValue=function(t,e){return"string"==typeof t[e]||"number"==typeof t[e]?(Nt.debug('name variable "'+e+'" is string or number, not array. Attempting to fix.'),[{literal:t[e]+""}]):t[e]?("number"!=typeof t[e].length&&(Nt.debug('name variable "'+e+'" is object, not array. Attempting to fix.'),t[e]=[t[e]]),t[e].slice()):[]},Nt.NameOutput.prototype._getFreeters=function(t,e){if(this.freeters[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var i=e.length-1;-1<i&&this.isPerson(e[i]);i--){(r=this._checkNickname(e.pop()))&&this.freeters[t].push(r)}else for(i=e.length-1;-1<i;i--){var r=e.pop();if(this.isPerson(r))r=this._checkNickname(r);this.freeters[t].push(r)}this.freeters[t].reverse(),this.freeters[t].length&&(this.nameset_offset+=1)},Nt.NameOutput.prototype._getPersonsAndInstitutions=function(t,e){if(this.persons[t]=[],this.institutions[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var i=[],r=!1,s=!0,n=e.length-1;-1<n;n+=-1)if(this.isPerson(e[n])){var a=this._checkNickname(e[n]);a&&i.push(a)}else r=!0,this.institutions[t].push(e[n]),s||(i.reverse(),this.persons[t].push(i),i=[]),s=!1;r&&(i.reverse(),this.persons[t].push(i),this.persons[t].reverse(),this.institutions[t].reverse())}},Nt.NameOutput.prototype._clearValues=function(t){for(var e=t.length-1;-1<e;e+=-1)t.pop()},Nt.NameOutput.prototype._checkNickname=function(t){if(-1<["interview","personal_communication"].indexOf(this.Item.type)){var e;if((e=Nt.Util.Names.getRawName(t))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var i=e;this.state.sys.normalizeAbbrevsKey&&(i=this.state.sys.normalizeAbbrevsKey("author",e)),this.state.transform.loadAbbreviation("default","nickname",i);var r=this.state.transform.abbrevs["default"].nickname[i];r&&(t="!here>>>"!==r&&{family:r,given:""})}}return t},Nt.NameOutput.prototype.joinPersons=function(t,e,i,r){return r=r||"name",void 0===i?1===this.etal_spec[e].freeters?this._joinEtAl(t,r):2===this.etal_spec[e].freeters?this._joinEllipsis(t,r):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,r):1===this.etal_spec[e].persons[i]?this._joinEtAl(t,r):2===this.etal_spec[e].persons[i]?this._joinEllipsis(t,r):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,r)},Nt.NameOutput.prototype.joinInstitutionSets=function(t,e){return 1===this.etal_spec[e].institutions?this._joinEtAl(t,"institution"):2===this.etal_spec[e].institutions?this._joinEllipsis(t,"institution"):this._joinAnd(t,"institution")},Nt.NameOutput.prototype.joinPersonsAndInstitutions=function(t){return this._join(t,this.state.tmp.name_delimiter)},Nt.NameOutput.prototype.joinFreetersAndInstitutionSets=function(t){return this._join(t,"[never here]",this["with"].single,this["with"].multiple)},Nt.NameOutput.prototype._joinEtAl=function(t,e){var i=this._join(t,this.state.tmp.name_delimiter);return this.state.output.openLevel(this._getToken(e)),this.state.output.current.value().strings.delimiter="",this.state.output.append(i,"literal",!0),1<t.length?this.state.output.append(this["et-al"].multiple,"literal",!0):1===t.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},Nt.NameOutput.prototype._joinEllipsis=function(t,e){return this._join(t,this.state.tmp.name_delimiter,this.name.ellipsis.single,this.name.ellipsis.multiple,e)},Nt.NameOutput.prototype._joinAnd=function(t,e){return this._join(t,this.state.inheritOpt(this[e],"delimiter",e+"-delimiter",", "),this[e].and.single,this[e].and.multiple,e)},Nt.NameOutput.prototype._join=function(t,e,i,r){var s,n;if(!t)return!1;for(s=t.length-1;-1<s;s+=-1)t[s]&&0!==t[s].length&&t[s].blobs.length||(t=t.slice(0,s).concat(t.slice(s+1)));if(!t.length)return!1;if(i&&2===t.length)i=i&&new Nt.Blob(i.blobs,i),t=[t[0],i,t[1]];else{var a;for(a=r?2:1,s=0,n=t.length-a;s<n;s+=1)t[s].strings.suffix+=e;if(1<t.length){var o=t.pop();r?(r=new Nt.Blob(r.blobs,r),t.push(r)):(i=i&&new Nt.Blob(i.blobs,i),t.push(i)),t.push(o)}}for(this.state.output.openLevel(),i&&r&&(this.state.output.current.value().strings.delimiter=""),s=0,n=t.length;s<n;s+=1)this.state.output.append(t[s],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},Nt.NameOutput.prototype._getToken=function(t){var e=this[t];return"institution"!==t?e:new Nt.Token},Nt.NameOutput.prototype.checkCommonAuthor=function(t){if(!t)return!1;var e=!1;if(2===this.variables.length){var i=this.variables.slice();i.sort(),e=i.join("")}if(!e)return!1;var r=!1;if(this.state.locale[this.state.opt.lang].terms[e]&&(r=!0),!r)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var s=this.Item[this.variables[0]],n=this.Item[this.variables[1]],a=this._compareNamesets(s,n);return!0===a&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!a},Nt.NameOutput.prototype.setCommonTerm=function(){var t=this.variables.slice();if(t.sort(),this.common_term=t.join(""),this.common_term){var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2)this.common_term=!1;else for(var i=0,r=this.variables.length-1;i<r;i+=1){var s=this.variables[i],n=this.variables[i+1];if(this.freeters[s].length||this.freeters[n].length){if(this.etal_spec[s].freeters!==this.etal_spec[n].freeters||!this._compareNamesets(this.freeters[s],this.freeters[n]))return void(this.common_term=!1);1}if(this.persons[s].length!==this.persons[n].length)return void(this.common_term=!1);for(var a=0,o=this.persons[s].length;a<o;a+=1)if(this.etal_spec[s].persons[a]!==this.etal_spec[n].persons[a]||!this._compareNamesets(this.persons[s][a],this.persons[n][a]))return void(this.common_term=!1)}}},Nt.NameOutput.prototype._compareNamesets=function(t,e){if(!t||!e||t.length!==e.length)return!1;for(var i=0,r=e.length;i<r;i+=1)for(var s=0,n=Nt.NAME_PARTS.length;s<n;s+=1){var a=Nt.NAME_PARTS[s];if(!t[i]||t[i][a]!=e[i][a])return!1}return!0},Nt.NameOutput.prototype.constrainNames=function(){for(var t,e=this.names_count=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];t=this.nameset_base+e,this.freeters[r].length&&(this.state.tmp.names_max.push(this.freeters[r].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,r,t),this.names_count+=this.freeters[r].length),this.institutions[r].length&&(this.state.tmp.names_max.push(this.institutions[r].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,r,t),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.names_count+=this.institutions[r].length);for(var s=0,n=this.persons[r].length;s<n;s+=1)this.persons[r][s].length&&(this.state.tmp.names_max.push(this.persons[r][s].length,"literal"),this._imposeNameConstraints(this.persons[r],this.persons_count[r],s,t),this.names_count+=this.persons[r][s].length)}},Nt.NameOutput.prototype._imposeNameConstraints=function(t,e,i,r){var s=t[i],n=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]?n=this.state.tmp.disambig_request.names[r]:e[i]>=this.etal_min&&(n=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]>this.etal_use_first?n=e[i]<this.etal_min?e[i]:this.state.tmp.disambig_request.names[r]:e[i]>=this.etal_min&&(n=this.etal_use_first),this.etal_use_last&&n>this.etal_min-2&&(n=this.etal_min-2));var a=this.etal_min>=this.etal_use_first,o=e[i]>n;n>e[i]&&(n=s.length),a&&o&&(this.etal_use_last?t[i]=s.slice(0,n).concat(s.slice(-1)):t[i]=s.slice(0,n)),this.state.tmp.disambig_settings.names[r]=t[i].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},Nt.NameOutput.prototype.disambigNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];if(t=this.nameset_base+e,this.freeters[r].length&&this._runDisambigNames(this.freeters[r],t),this.institutions[r].length){"undefined"==typeof this.state.tmp.disambig_settings.givens[t]&&(this.state.tmp.disambig_settings.givens[t]=[]);for(var s=0,n=this.institutions[r].length;s<n;s+=1)"undefined"==typeof this.state.tmp.disambig_settings.givens[t][s]&&this.state.tmp.disambig_settings.givens[t].push(2)}for(s=0,n=this.persons[r].length;s<n;s+=1)this.persons[r][s].length&&this._runDisambigNames(this.persons[r][s],t)}},Nt.NameOutput.prototype._runDisambigNames=function(t,e){var i,r,s,n,a,o;for(n=0,a=t.length;n<a;n+=1)if(t[n].given||t[n].family){if(r=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,t[n],n),void 0===this.state.tmp.disambig_settings.givens[e])for(var l=0,u=e+1;l<u;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(void 0===this.state.tmp.disambig_settings.givens[e][n]&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),s=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,0,i,r),this.state.tmp.disambig_settings.givens[e].push(s)),i=this.state.inheritOpt(this.name,"form","name-form","long"),o=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,0,i,r),this.state.tmp.disambig_request){var p=this.state.tmp.disambig_settings.givens[e][n];1!==p||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&"undefined"!=typeof t[n].given||(p=2),s=p,this.state.opt["disambiguate-add-givenname"]&&t[n].given&&(s=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,s,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else s=o;!this.state.tmp.just_looking&&this.item&&this.item.position===Nt.POSITION_FIRST&&s<o&&(s=o),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[e][n]=s,"string"!=typeof r||"undefined"!=typeof this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},Nt.NameOutput.prototype.getEtAlConfig=function(){var t=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===t&&(t={}),t.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},Nt.NameOutput.prototype.setEtAlParameters=function(){var t,e,i,r;for(t=0,e=this.variables.length;t<e;t+=1){var s=this.variables[t];for("undefined"==typeof this.etal_spec[s]&&(this.etal_spec[s]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+t]=this.etal_spec[s],this.freeters[s].length&&this._setEtAlParameter("freeters",s),i=0,r=this.persons[s].length;i<r;i+=1)"undefined"==typeof this.etal_spec[s][i]&&(this.etal_spec[s].persons[i]=0),this._setEtAlParameter("persons",s,i);this.institutions[s].length&&this._setEtAlParameter("institutions",s)}},Nt.NameOutput.prototype._setEtAlParameter=function(t,e,i){var r,s;s="persons"===t?(r=this.persons[e][i],this.persons_count[e][i]):(r=this[t][e],this[t+"_count"][e]),r.length<s&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===t?this.etal_spec[e].persons[i]=2:this.etal_spec[e][t]=2:"persons"===t?this.etal_spec[e].persons[i]=1:this.etal_spec[e][t]=1:"persons"===t?this.etal_spec[e].persons[i]=0:this.etal_spec[e][t]=0},Nt.NameOutput.prototype.renderAllNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];(this.freeters[r].length||this.institutions[r].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),t=this.nameset_base+e,this.freeters[r].length&&(this.freeters[r]=this._renderNames(r,this.freeters[r],t));for(var s=0,n=this.institutions[r].length;s<n;s+=1)this.persons[r][s]=this._renderNames(r,this.persons[r][s],t,s)}this.renderInstitutionNames()},Nt.NameOutput.prototype.renderInstitutionNames=function(){for(var t=0,e=this.variables.length;t<e;t+=1)for(var i=this.variables[t],r=0,s=this.institutions[i].length;r<s;r+=1){var n,a=this.institutions[i][r],o={primary:"locale-orig",secondary:!1,tertiary:!1};if(n=this.state.tmp.extension?["sort"]:a.isInstitution||a.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],u=0,p=l.length;u<p&&!(n.length-1<u);u+=1)n[u]&&(o[l[u]]="locale-"+n[u]);else o.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(o.secondary=!1,o.tertiary=!1),this.setRenderedName(a);var c=this._renderInstitutionName(i,a,o,r);this.institutions[i][r]=c}},Nt.NameOutput.prototype._renderInstitutionName=function(t,e,i,r){var s,n,a,o,l,u=this.getName(e,i.primary,!0),p=u.name,c=u.usedOrig;if(p=p&&this.fixupInstitution(p,t,r),h=!1,i.secondary){var h=(u=this.getName(e,i.secondary,!1,c)).name;c=u.usedOrig,h=h&&this.fixupInstitution(h,t,r)}s=!1,i.tertiary&&(s=(s=(u=this.getName(e,i.tertiary,!1,c)).name)&&this.fixupInstitution(s,t,r));var f={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(p&&(f.l.pri=p["long"],f.s.pri=p["short"].length?p["short"]:p["long"]),h&&(f.l.sec=h["long"],f.s.sec=h["short"].length?h["short"]:h["long"]),s&&(f.l.ter=s["long"],f.s.ter=s["short"].length?s["short"]:s["long"]),this.institution.strings["institution-parts"]){case"short":o=p["short"].length?(a=this._getShortStyle(),[this._composeOneInstitutionPart([f.s.pri,f.s.sec,f.s.ter],i,a,t)]):(n=this._getLongStyle(p,t,r),[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,n,t)]);break;case"short-long":n=this._getLongStyle(p,t,r),a=this._getShortStyle(),o=[l=this._renderOneInstitutionPart(p["short"],a),this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,n,t)];break;case"long-short":n=this._getLongStyle(p,t,r),a=this._getShortStyle(),l=this._renderOneInstitutionPart(p["short"],a),o=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,n,t),l];break;default:n=this._getLongStyle(p,t,r),o=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,n,t)]}var m=this._join(o," ");return this.state.tmp.name_node.children.push(m),m},Nt.NameOutput.prototype._composeOneInstitutionPart=function(t,e,i){var r,s,n,a,o=!1,l=!1,u=!1;if(t[0]){if(r=Nt.Util.cloneToken(i),this.state.opt.citeAffixes[e.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[e.primary].prefix){for(var p=!1,c=0,h=r.decorations.length;c<h;c+=1)"@font-style"===i.decorations[c][0]&&"italic"===r.decorations[c][1]&&(p=!0);p||r.decorations.push(["@font-style","italic"])}o=this._renderOneInstitutionPart(t[0],r)}if(t[1]&&(l=this._renderOneInstitutionPart(t[1],i)),t[2]&&(u=this._renderOneInstitutionPart(t[2],i)),l||u){this.state.output.openLevel("empty"),this.state.output.append(o),s=Nt.Util.cloneToken(i),e.secondary&&(s.strings.prefix=this.state.opt.citeAffixes.institutions[e.secondary].prefix,s.strings.suffix=this.state.opt.citeAffixes.institutions[e.secondary].suffix,s.strings.prefix||(s.strings.prefix=" "));var f=new Nt.Token;f.decorations.push(["@font-style","normal"]),f.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(f),this.state.output.append(l,s),this.state.output.closeLevel(),n=Nt.Util.cloneToken(i),e.tertiary&&(n.strings.prefix=this.state.opt.citeAffixes.institutions[e.tertiary].prefix,n.strings.suffix=this.state.opt.citeAffixes.institutions[e.tertiary].suffix,n.strings.prefix||(n.strings.prefix=" "));var m=new Nt.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(u,n),this.state.output.closeLevel(),this.state.output.closeLevel(),a=this.state.output.pop()}else a=o;return a},Nt.NameOutput.prototype._renderOneInstitutionPart=function(t,e){for(var i=0,r=t.length;i<r;i+=1)if(t[i]){var s=t[i];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var n=0,a=e.decorations.length;n<a;n+=1)if("@strip-periods"===e.decorations[n][0]&&"true"===e.decorations[n][1]){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,Nt.LITERAL),"!here>>>"===s?t[i]=!1:(this.state.output.append(s,e,!0),t[i]=this.state.output.pop())}return"undefined"==typeof this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(t,this.institution.strings["part-separator"])},Nt.NameOutput.prototype._renderNames=function(t,e,i,r){var s=!1;if(e.length){for(var n=[],a=0,o=e.length;a<o;a+=1){var l,u=e[a],p={primary:"locale-orig",secondary:!1,tertiary:!1};if(l=this.state.tmp.extension?["sort"]:u.isInstitution||u.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var c=["primary","secondary","tertiary"],h=0,f=c.length;h<f&&!(l.length-1<h);h+=1)p[c[h]]="locale-"+l[h];else p.primary="locale-translat";if(!this.state.tmp.sort_key_flag&&("bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position)||(p.secondary=!1,p.tertiary=!1),this.setRenderedName(u),u.literal||u.isInstitution)n.push(this._renderInstitutionName(t,u,p,r));else{var m=this._renderPersonalName(t,u,p,i,a,r),d=Nt.Util.cloneToken(this.name);this.state.output.append(m,d,!0),n.push(this.state.output.pop())}}s=this.joinPersons(n,i,r)}return s},Nt.NameOutput.prototype._renderPersonalName=function(t,e,i,r,s,n){var a=this.getName(e,i.primary,!0),o=this._renderOnePersonalName(a.name,r,s,n),l=!1;i.secondary&&(a=this.getName(e,i.secondary,!1,a.usedOrig)).name&&(l=this._renderOnePersonalName(a.name,r,s,n));var u,p=!1;if(i.tertiary&&(a=this.getName(e,i.tertiary,!1,a.usedOrig)).name&&(p=this._renderOnePersonalName(a.name,r,s,n)),l||p){this.state.output.openLevel("empty"),this.state.output.append(o);var c=new Nt.Token;i.secondary&&(c.strings.prefix=this.state.opt.citeAffixes.persons[i.secondary].prefix,c.strings.suffix=this.state.opt.citeAffixes.persons[i.secondary].suffix,c.strings.prefix||(c.strings.prefix=" ")),this.state.output.append(l,c);var h=new Nt.Token;i.tertiary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[i.tertiary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[i.tertiary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(p,h),this.state.output.closeLevel(),u=this.state.output.pop()}else u=o;return u},Nt.NameOutput.prototype._isRomanesque=function(t){var e,i=2;return t.family.replace(/\"/g,"").match(Nt.ROMANESQUE_REGEXP)||(i=0),!i&&t.given&&t.given.match(Nt.STARTSWITH_ROMANESQUE_REGEXP)&&(i=1),2==i&&(t.multi&&t.multi.main?e=t.multi.main.slice(0,2):this.Item.language&&(e=this.Item.language.slice(0,2)),-1<["ja","zh"].indexOf(e)&&(i=1)),i},Nt.NameOutput.prototype._renderOnePersonalName=function(t,e,i,r){var s=t,n=this._droppingParticle(s,e,r),a=this._familyName(s),o=this._nonDroppingParticle(s),l=this._givenName(s,e,i),u=this._nameSuffix(s);!1===l&&(u=n=!1);var p,c=this.state.inheritOpt(this.name,"sort-separator");c=c||"",p=s["comma-suffix"]?", ":" ";var h=this._isRomanesque(s);var f,m,d,g,b=function _(t){return!!t&&("string"==typeof t.blobs?-1<["\u2019","'","-"," "].indexOf(t.blobs.slice(-1)):_(t.blobs[t.blobs.length-1]))}(o);if(0===h)f=this._join([o,a,l],"");else if(1===h||s["static-ordering"])f=this._join([o,a,l]," ");else if(s["reverse-ordering"])f=this._join([l,o,a]," ");else if(this.state.tmp.sort_key_flag)f=(m="never"===this.state.opt["demote-non-dropping-particle"]?(d=this._join([o,a,n]," "),this._join([d,l],this.state.opt.sort_sep)):(g=this._join([l,n,o]," "),this._join([a,g],this.state.opt.sort_sep)),this._join([m,u]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===i&&(0===r||void 0===r))-1<["Lord","Lady"].indexOf(s.given)&&(c=", "),f=(m=-1<["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])?(g=this._join([l,n],s["comma-dropping-particle"]+" "),(g=this._join([g,o]," "))&&this.given&&(g.strings.prefix=this.given.strings.prefix,g.strings.suffix=this.given.strings.suffix),a&&this.family&&(a.strings.prefix=this.family.strings.prefix,a.strings.suffix=this.family.strings.suffix),this._join([a,g],c)):((d=b?this._join([o,a],""):this._join([o,a]," "))&&this.family&&(d.strings.prefix=this.family.strings.prefix,d.strings.suffix=this.family.strings.suffix),(g=this._join([l,n],s["comma-dropping-particle"]+" "))&&this.given&&(g.strings.prefix=this.given.strings.prefix,g.strings.suffix=this.given.strings.suffix),this._join([d,g],c)),this._join([m,u],c));else{if(s["dropping-particle"]&&s.family&&!s["non-dropping-particle"]){var y=s["dropping-particle"];-1<["'","\u02bc","\u2019","-"].indexOf(y.slice(-1))&&"de"!==y.slice(0,-1)&&(a=this._join([n,a],""),n=!1)}var v=" ";this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&-1<["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))&&(v="\xa0"),g=b?(g=this._join([o,a],""),this._join([n,g],v)):this._join([n,o,a],v),(g=this._join([g,u],p))&&this.family&&(g.strings.prefix=this.family.strings.prefix,g.strings.suffix=this.family.strings.suffix),l&&this.given&&(l.strings.prefix=this.given.strings.prefix,l.strings.suffix=this.given.strings.suffix),g.strings.prefix&&(s["comma-dropping-particle"]=""),f=this._join([l,g],s["comma-dropping-particle"]+v)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,Nt.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(f),f},Nt.NameOutput.prototype._normalizeNameInput=function(t){var e={literal:t.literal,family:t.family,isInstitution:t.isInstitution,given:t.given,suffix:t.suffix,"comma-suffix":t["comma-suffix"],"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],"static-ordering":t["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":t["reverse-ordering"],"full-form-always":t["full-form-always"],"parse-names":t["parse-names"],"comma-dropping-particle":"",block_initialize:t.block_initialize,multi:t.multi};return this._parseName(e),e},Nt.NameOutput.prototype._stripPeriods=function(t,e){var i=this[t+"_decor"];if(e)if(this.state.tmp.strip_periods)e=e.replace(/\./g,"");else if(i)for(var r=0,s=i.decorations.length;r<s;r+=1)if("@strip-periods"===i.decorations[r][0]&&"true"===i.decorations[r][1]){e=e.replace(/\./g,"");break}return e},Nt.NameOutput.prototype._nonDroppingParticle=function(t){var e=t["non-dropping-particle"];e&&this.state.tmp.sort_key_flag&&(e=e.replace(/[\'\u2019]/,""));var i=this._stripPeriods("family",e);return!!this.state.output.append(i,this.family_decor,!0)&&this.state.output.pop()},Nt.NameOutput.prototype._droppingParticle=function(t,e,i){var r=t["dropping-particle"];r&&this.state.tmp.sort_key_flag&&(r=r.replace(/[\'\u2019]/,""));var s=this._stripPeriods("given",r);if(t["dropping-particle"]&&t["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===i?this.etal_spec[e].freeters=2:this.etal_spec[e].persons=2:void 0===i?this.etal_spec[e].freeters=1:this.etal_spec[e].persons=1,t["comma-dropping-particle"]="";else if(this.state.output.append(s,this.given_decor,!0))return this.state.output.pop();return!1},Nt.NameOutput.prototype._familyName=function(t){var e=this._stripPeriods("family",t.family);return!!this.state.output.append(e,this.family_decor,!0)&&this.state.output.pop()},Nt.NameOutput.prototype._givenName=function(t,e,i){var r,s,n="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),a=!1!==this.state.inheritOpt(this.name,"initialize"),o="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!t.block_initialize;if(t["full-form-always"])s=2;else{r=n?0:o?1:2;var l=this.state.tmp.disambig_settings.givens[e][i];s=r<l?l:r}var u=this.state.citation.opt["givenname-disambiguation-rule"];if(u&&"-with-initials"===u.slice(-14)&&(o=!0),t.family&&1===s)if(o){var p=this.state.inheritOpt(this.name,"initialize-with",!1,"");t.given=Nt.Util.Names.initializeWith(this.state,t.given,p,!a)}else t.given=Nt.Util.Names.unInitialize(this.state,t.given);else{if(0===s)return!1;2===s&&(t.given=Nt.Util.Names.unInitialize(this.state,t.given))}var c=this._stripPeriods("given",t.given);return!!this.state.output.append(c,this.given_decor,!0)&&this.state.output.pop()},Nt.NameOutput.prototype._nameSuffix=function(t){var e,i=t.suffix;"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(i=Nt.Util.Names.initializeWith(this.state,t.suffix,this.state.inheritOpt(this.name,"initialize-with"),!0));var r="";return(i=this._stripPeriods("family",i))&&"."===i.slice(-1)&&(i=i.slice(0,-1),r="."),!!this.state.output.append(i,"empty",!0)&&((e=this.state.output.pop()).strings.suffix=r+e.strings.suffix,e)},Nt.NameOutput.prototype._getLongStyle=function(t){return(t["short"].length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart["long"])||new Nt.Token},Nt.NameOutput.prototype._getShortStyle=function(){return this.institutionpart["short"]?this.institutionpart["short"]:new Nt.Token},Nt.NameOutput.prototype._parseName=function(t){if(!t["parse-names"]&&"undefined"!=typeof t["parse-names"])return t;var e;t.family&&!t.given&&t.isInstitution&&(t.literal=t.family,t.family=undefined,t.isInstitution=undefined),t.family&&'"'===t.family.slice(0,1)&&'"'===t.family.slice(-1)||!t["parse-names"]&&"undefined"!=typeof t["parse-names"]?(t.family=t.family.slice(1,-1),e=!0,t["parse-names"]=0):e=!1,this.state.opt.development_extensions.parse_names&&!t["non-dropping-particle"]&&t.family&&!e&&t.given&&(t["static-particles"]||Nt.parseParticles(t,!0))},Nt.NameOutput.prototype.getName=function(t,e,i,r){if(r&&"locale-orig"===e)return{name:!1,usedOrig:r};t.family||(t.family=""),t.given||(t.given="");var s={};s["static-ordering"]=this.getStaticOrder(t);var n,a=!0;if("locale-orig"!==e&&(a=!1,t.multi))for(var o=this.state.opt[e],l=0,u=o.length;l<u;l+=1)if(n=o[l],t.multi._key[n]){a=!0;var p=t.isInstitution;(t=t.multi._key[n]).isInstitution=p,(s=this.getNameParams(n)).transliterated=!0;break}return a||(n=!1,t.multi&&t.multi.main?n=t.multi.main:this.Item.language&&(n=this.Item.language),n&&(s=this.getNameParams(n))),i||a?(t.family||(t.family=""),t.given||(t.given=""),t.literal&&(delete t.family,delete t.given),!(t={family:t.family,given:t.given,"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],suffix:t.suffix,"static-ordering":s["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":t["parse-names"],"comma-suffix":t["comma-suffix"],"comma-dropping-particle":t["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:t.literal,isInstitution:t.isInstitution,multi:t.multi}).literal&&!t.given&&t.family&&t.isInstitution&&(t.literal=t.family),t.literal&&(delete t.family,delete t.given),{name:t=this._normalizeNameInput(t),usedOrig:r||!a}):{name:!1,usedOrig:r}},Nt.NameOutput.prototype.getNameParams=function(t){var e={},i=Nt.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),r=this.state.locale[i.best]?i.best:this.state.opt["default-locale"][0],s=this.state.locale[r].opts["name-as-sort-order"],n=this.state.locale[r].opts["name-as-reverse-order"],a=this.state.locale[r].opts["name-never-short"],o=t.split("-")[0];return s&&s[o]&&(e["static-ordering"]=!0,e["reverse-ordering"]=!1),n&&n[o]&&(e["reverse-ordering"]=!0,e["static-ordering"]=!1),a&&a[o]&&(e["full-form-always"]=!0),e["static-ordering"]&&(e["block-initialize"]=!0),e},Nt.NameOutput.prototype.setRenderedName=function(t){if("bibliography"===this.state.tmp.area){for(var e="",i=0,r=Nt.NAME_PARTS.length;i<r;i+=1)t[Nt.NAME_PARTS[i]]&&(e+=t[Nt.NAME_PARTS[i]]);this.state.tmp.rendered_name.push(e)}},Nt.NameOutput.prototype.fixupInstitution=function(t,e,i){t=this._splitInstitution(t,e,i),this.institution.strings["reverse-order"]&&t["long"].reverse();var r=t["long"],s=t["long"].slice(),n=!1;if(this.state.sys.getAbbreviation)for(var a=this.Item.jurisdiction,o=0,l=r.length;o<l;o+=1){var u=r[o];a=this.state.transform.loadAbbreviation(a,"institution-part",u),this.state.transform.abbrevs[a]["institution-part"][u]&&(s[o]=this.state.transform.abbrevs[a]["institution-part"][u],n=!0)}return t["short"]=n?s:[],t},Nt.NameOutput.prototype.getStaticOrder=function(t,e){var i=!1;return!e&&t["static-ordering"]?i=!0:0===this._isRomanesque(t)?i=!0:(!t.multi||!t.multi.main)&&this.Item.language&&-1<["vi","hu"].indexOf(this.Item.language)?i=!0:t.multi&&t.multi.main&&-1<["vi","hu"].indexOf(t.multi.main.slice(0,2))?i=!0:this.state.opt["auto-vietnamese-names"]&&Nt.VIETNAMESE_NAMES.exec(t.family+" "+t.given)&&Nt.VIETNAMESE_SPECIALS.exec(t.family+t.given)&&(i=!0),i},Nt.NameOutput.prototype._splitInstitution=function(t,e,i){var r={};!t.literal&&t.family&&(t.literal=t.family,delete t.family);var s=t.literal.replace(/\s*\|\s*/g,"|");if(s=s.split("|"),"short"===this.institution.strings.form&&this.state.sys.getAbbreviation)for(var n=this.Item.jurisdiction,a=s.length;0<a;a+=-1){var o=s.slice(0,a).join("|");if(n=this.state.transform.loadAbbreviation(n,"institution-entire",o),this.state.transform.abbrevs[n]["institution-entire"][o]){var l=this.state.transform.abbrevs[n]["institution-entire"][o],u=(l=this.state.transform.quashCheck(l)).split(/>>[0-9]{4}>>/),p=l.match(/>>([0-9]{4})>>/);if(l=u.pop(),0<u.length&&this.Item["original-date"]&&this.Item["original-date"].year)for(var c=p.length-1;0<c&&!(parseInt(this.Item["original-date"].year,10)>=parseInt(p[c],10));c+=-1)l=u.pop();s=[l=l.replace(/\s*\|\s*/g,"|")];break}}return s.reverse(),r["long"]=this._trimInstitution(s,e,i),r},Nt.NameOutput.prototype._trimInstitution=function(t,e){var i=!1,r=!1,s=t.slice(),n=!1;return this.institution&&("undefined"!=typeof this.institution.strings["use-first"]&&(i=this.institution.strings["use-first"]),"undefined"!=typeof this.institution.strings["stop-last"]?n=this.institution.strings["stop-last"]:"authority"===e&&this.state.tmp.authority_stop_last&&(n=this.state.tmp.authority_stop_last),n&&(s=s.slice(0,n),t=t.slice(0,n)),"undefined"!=typeof this.institution.strings["use-last"]&&(r=this.institution.strings["use-last"]),"authority"===e&&(n&&(this.state.tmp.authority_stop_last=n),r&&(this.state.tmp.authority_stop_last+=-1*r))),!1===i&&(0===this.persons[e].length&&(i=this.institution.strings["substitute-use-first"]),i=i||0),!1===r&&(r=i?0:t.length),i>t.length-r&&(i=t.length-r),t=t.slice(0,i),s=s.slice(i),r&&(r>s.length&&(r=s.length),r&&(t=t.concat(s.slice(s.length-r)))),t},Nt.PublisherOutput=function(t,e){this.state=t,this.group_tok=e,this.varlist=[]},Nt.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},Nt.PublisherOutput.prototype.composeAndBlob=function(){var t=!(this.and_blob={});"text"===this.group_tok.strings.and?t=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(t="&");var e=new Nt.Token;e.strings.suffix=" ",e.strings.prefix=" ",this.state.output.append(t,e,!0);var i=this.state.output.pop();e.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(t,e,!0);var r=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,t&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=r:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=i,this.and_blob.multiple=i):(this.and_blob.single=i,this.and_blob.multiple=r))},Nt.PublisherOutput.prototype.composeElements=function(){for(var t=0;t<2;t+=1)for(var e=["publisher","publisher-place"][t],i=0,r=this["publisher-list"].length;i<r;i+=1){var s=this[e+"-list"][i],n=this[e+"-token"];this.state.output.append(s,n,!0),this[e+"-list"][i]=this.state.output.pop()}},Nt.PublisherOutput.prototype.composePublishers=function(){for(var t,e=0,i=this["publisher-list"].length;e<i;e+=1)t=[this[this.varlist[0]+"-list"][e],this[this.varlist[1]+"-list"][e]],this["publisher-list"][e]=this._join(t,this.group_tok.strings.delimiter)},Nt.PublisherOutput.prototype.joinPublishers=function(){var t=this["publisher-list"],e=this._join(t,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(e,"literal")},Nt.PublisherOutput.prototype._join=Nt.NameOutput.prototype._join,Nt.PublisherOutput.prototype._getToken=Nt.NameOutput.prototype._getToken,Nt.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},Nt.evaluateLabel=function(t,e,i,r){var s;s="locator"===t.strings.term?(r&&r.label&&(s="sub verbo"===r.label?"sub-verbo":r.label),s||"page"):t.strings.term;var n=t.strings.plural;if("number"!=typeof n){var a=r&&"locator"===t.strings.term?r:i;a[t.strings.term]&&(e.processNumber(!1,a,t.strings.term,i.type),n=e.tmp.shadow_numbers[t.strings.term].plural,e.tmp.shadow_numbers[t.strings.term].labelForm||e.tmp.shadow_numbers[t.strings.term].labelDecorations||(e.tmp.shadow_numbers[t.strings.term].labelForm=t.strings.form,e.tmp.shadow_numbers[t.strings.term].labelCapitalizeIfFirst=t.strings.capitalize_if_first,e.tmp.shadow_numbers[t.strings.term].labelDecorations=t.decorations.slice()),-1<["locator","number","page"].indexOf(t.strings.term)&&e.tmp.shadow_numbers[t.strings.term].label&&(s=e.tmp.shadow_numbers[t.strings.term].label),t.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(t.decorations.reverse(),t.decorations.push(["@showid","true",t.cslid]),t.decorations.reverse()))}return Nt.castLabel(e,t,s,n,Nt.TOLERANT)},Nt.castLabel=function(t,e,i,r,s){var n=e.strings.form,a=e.strings.capitalize_if_first;t.tmp.group_context.tip.label_form&&"static"!==n&&(n=t.tmp.group_context.tip.label_form),t.tmp.group_context.tip.label_capitalize_if_first&&(a=t.tmp.group_context.tip.label_capitalize_if_first);var o=t.getTerm(i,n,r,!1,s,e.default_locale);if(a&&(o=Nt.Output.Formatters["capitalize-first"](t,o)),t.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,u=e.decorations.length;l<u;l+=1)if("@strip-periods"===e.decorations[l][0]&&"true"===e.decorations[l][1]){o=o.replace(/\./g,"");break}return o},Nt.Node.name={build:function(t,e){var i,r;-1<[Nt.SINGLETON,Nt.START].indexOf(this.tokentype)&&("undefined"==typeof t.tmp.root?(r=undefined,t.tmp.root="citation"):r=t.tmp.root,t.inheritOpt(this,"et-al-subsequent-min")&&t.inheritOpt(this,"et-al-subsequent-min")!==t.inheritOpt(this,"et-al-min")&&(t.opt.update_mode=Nt.POSITION),t.inheritOpt(this,"et-al-subsequent-use-first")&&t.inheritOpt(this,"et-al-subsequent-use-first")!==t.inheritOpt(this,"et-al-use-first")&&(t.opt.update_mode=Nt.POSITION),t.tmp.root=r,i=function i(t){t.tmp.etal_term="et-al",t.tmp.name_delimiter=t.inheritOpt(this,"delimiter","name-delimiter",", "),t.tmp["delimiter-precedes-et-al"]=t.inheritOpt(this,"delimiter-precedes-et-al"),"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")&&(t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&"),t.tmp.and_term=this.and_term,Nt.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.name_delimiter&&(this.and_prefix_multiple=t.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.name_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===t.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=t.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},t.inheritOpt(this,"and")?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):t.tmp.name_delimiter&&(this.and.single=new Nt.Blob(t.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new Nt.Blob(t.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},t.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="\u2026",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=t.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new Nt.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new Nt.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),"undefined"==typeof t.tmp["et-al-min"]&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),"undefined"==typeof t.tmp["et-al-use-first"]&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"undefined"==typeof t.tmp["et-al-use-last"]&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last")),t.nameOutput.name=this},t.build.name_flag=!0,this.execs.push(i));e.push(this)}},Nt.Node["name-part"]={build:function(t){t.build[this.strings.name]=this}},Nt.Node.names={build:function(t,e){var a;if(this.tokentype!==Nt.START&&this.tokentype!==Nt.SINGLETON||(Nt.Util.substituteStart.call(this,t,e),t.build.substitute_level.push(1)),this.tokentype===Nt.SINGLETON){for(var i in t.build.names_variables[t.build.names_variables.length-1].concat(this.variables),this.variables){var r=this.variables[i],s=t.build.name_label[t.build.name_label.length-1];Object.keys(s).length&&(s[r]=s[Object.keys(s)[0]])}a=function a(t){t.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(a)}if(this.tokentype===Nt.START&&(t.build.names_flag=!0,t.build.name_flag=!1,t.build.names_level+=1,t.build.names_variables.push(this.variables),t.build.name_label.push({}),a=function a(t){t.tmp.can_substitute.push(!0),t.nameOutput.init(this)},this.execs.push(a)),this.tokentype===Nt.END){for(i=0;i<3;i+=1){var n=["family","given","et-al"][i];this[n]=t.build[n],1===t.build.names_level&&(t.build[n]=undefined)}this.label=t.build.name_label[t.build.name_label.length-1],t.build.names_level+=-1,t.build.names_variables.pop(),t.build.name_label.pop(),a=function a(t){t.tmp.etal_node?this.etal_style=t.tmp.etal_node:this.etal_style="empty",this.etal_term=t.getTerm(t.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=t.tmp.name_delimiter,"always"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=t.tmp.name_delimiter:"never"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===t.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=t.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",Nt.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(" "===this.etal_prefix_single&&(this.etal_prefix_single="")," "===this.etal_prefix_multiple&&(this.etal_prefix_multiple="")," "===this.etal_suffix&&(this.etal_suffix=""));for(var e=0;e<3;e+=1){var i=["family","given"][e];t.nameOutput[i]=this[i]}t.nameOutput["with"]=this["with"];var r="",s="";Nt.STARTSWITH_ROMANESQUE_REGEXP.test("with")&&(s=r=" ");var n={};n.single=new Nt.Blob("with"),n.single.strings.suffix=s,n.multiple=new Nt.Blob("with"),n.multiple.strings.suffix=s,"always"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(n.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),n.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(n.single.strings.prefix=r,n.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):("after-inverted-name"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?n.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"):n.single.strings.prefix=r,n.multiple.strings.prefix=r),t.nameOutput["with"]=n,t.nameOutput.label=this.label,t.nameOutput.etal_style=this.etal_style,t.nameOutput.etal_term=this.etal_term,t.nameOutput.etal_prefix_single=this.etal_prefix_single,t.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,t.nameOutput.etal_suffix=this.etal_suffix,t.nameOutput.outputNames(),t.tmp["et-al-use-first"]=undefined,t.tmp["et-al-min"]=undefined,t.tmp["et-al-use-last"]=undefined},this.execs.push(a),a=function a(t){t.tmp.can_substitute.pop()||t.tmp.can_substitute.replace(!1,Nt.LITERAL),1===t.tmp.can_substitute.mystack.length&&(t.tmp.can_block_substitute=!1)},this.execs.push(a),t.build.name_flag=!1}e.push(this),this.tokentype!==Nt.END&&this.tokentype!==Nt.SINGLETON||(t.build.substitute_level.pop(),Nt.Util.substituteEnd.call(this,t,e))}},Nt.Node.number={build:function(t,e){var s;Nt.Util.substituteStart.call(this,t,e),"roman"===this.strings.form?this.formatter=t.fun.romanizer:"ordinal"===this.strings.form?this.formatter=t.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=t.fun.long_ordinalizer),"undefined"==typeof this.successor_prefix&&(this.successor_prefix=t[t.build.area].opt.layout_delimiter),"undefined"==typeof this.splice_prefix&&(this.splice_prefix=t[t.build.area].opt.layout_delimiter),s=function s(t,e,i){if(0!==this.variables.length){var r;if(r=this.variables[0],void 0===i)i={};if(-1<["locator","locator-extra"].indexOf(r)){if(t.tmp.just_looking)return;if(!i[r])return}else if(!e[r])return;"collection-number"===r&&"legal_case"===e.type&&(t.tmp.renders_collection_number=!0);if(t.tmp.group_context.tip.force_suppress)return!1;-1<["locator","locator-extra"].indexOf(r)?t.processNumber.call(t,this,i,r,e.type):(t.tmp.group_context.tip.condition||(t.tmp.just_did_number=!0),t.processNumber.call(t,this,e,r,e.type)),Nt.Util.outputNumericField(t,r,e.id),-1<["locator","locator-extra"].indexOf(this.variables_real[0])&&!t.tmp.just_looking&&(t.tmp.done_vars.push(this.variables_real[0]),t.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(s),e.push(this),Nt.Util.substituteEnd.call(this,t,e)}},Nt.Node.sort={build:function(t,e){if(e=t[t.build.root+"_sort"].tokens,this.tokentype===Nt.START){"citation"===t.build.area&&(t.opt.sort_citations=!0),t.build.area=t.build.root+"_sort",t.build.extension="_sort";var o=function o(t,e){if(t.opt.has_layout_locale){for(var i,r=Nt.localeResolve(e.language,t.opt["default-locale"][0]),s=t[t.tmp.area.slice(0,-5)].opt.sort_locales,n=0,a=s.length;n<a&&!(i=(i=s[n][r.bare])||s[n][r.best]);n+=1);i=i||t.opt["default-locale"][0],t.tmp.lang_sort_hold=t.opt.lang,t.opt.lang=i}};this.execs.push(o)}if(this.tokentype===Nt.END){t.build.area=t.build.root,t.build.extension="";o=function o(t){t.opt.has_layout_locale&&(t.opt.lang=t.tmp.lang_sort_hold,delete t.tmp.lang_sort_hold)};this.execs.push(o)}e.push(this)}},Nt.Node.substitute={build:function(t,e){var i;if(this.tokentype===Nt.START){var r=new Nt.Token("choose",Nt.START);Nt.Node.choose.build.call(r,t,e);var s=new Nt.Token("if",Nt.SINGLETON);i=function i(){return!(!t.tmp.value.length||t.tmp.common_term_match_fail)},s.tests=[i],s.test=t.fun.match.any(s,t,s.tests),e.push(s),i=function i(t){t.tmp.can_block_substitute=!0,t.tmp.value.length&&!t.tmp.common_term_match_fail&&t.tmp.can_substitute.replace(!1,Nt.LITERAL),t.tmp.common_term_match_fail=!1},this.execs.push(i),e.push(this)}if(this.tokentype===Nt.END){e.push(this);var n=new Nt.Token("choose",Nt.END);Nt.Node.choose.build.call(n,t,e)}}},Nt.Node.text={build:function(t,e){var u,p,o,s,n,a,l,c,h,i,r;if(this.postponed_macro){var f=Nt.Util.cloneToken(this);f.name="group",f.tokentype=Nt.START,Nt.Node.group.build.call(f,t,e),Nt.expandMacro.call(t,this,e);var m=Nt.Util.cloneToken(this);m.name="group",m.tokentype=Nt.END,"juris-locator-label"===this.postponed_macro&&(m.isJurisLocatorLabel=!0),Nt.Node.group.build.call(m,t,e)}else{if(Nt.Util.substituteStart.call(this,t,e),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),p="long",o=0,this.strings.form&&(p=this.strings.form),this.strings.plural&&(o=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===t.build.root&&(t.opt.update_mode=Nt.NUMERIC),"bibliography"===t.build.root&&(t.opt.bib_mode=Nt.NUMERIC),"citation-number"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,u=function u(t,e,i){if(s=""+e.id,!t.tmp.just_looking){if("_sort"===t.tmp.area.slice(-5)&&"citation-number"===this.variables[0]){if("bibliography_sort"===t.tmp.area&&t.tmp.group_context.tip.done_vars.push("citation-number"),"citation_sort"===t.tmp.area&&t.bibliography_sort.tmp.citation_number_map)var r=t.bibliography_sort.tmp.citation_number_map[t.registry.registry[e.id].seq];else r=t.registry.registry[e.id].seq;return r=r&&Nt.Util.padding(""+r),void t.output.append(r,this)}i&&i["author-only"]&&t.tmp.element_trace.replace("suppress-me"),r="bibliography_sort"!==t.tmp.area&&t.bibliography_sort.tmp.citation_number_map&&t.bibliography_sort.opt.citation_number_sort_direction===Nt.DESCENDING?t.bibliography_sort.tmp.citation_number_map[t.registry.registry[s].seq]:t.registry.registry[s].seq,t.opt.citation_number_slug?t.output.append(t.opt.citation_number_slug,this):(a=new Nt.NumericBlob(!1,r,this,e.id),t.tmp.in_cite_predecessor&&(a.suppress_splice_prefix=!0),t.output.append(a,"literal"))}},this.execs.push(u)):"year-suffix"===this.variables_real[0]?(t.opt.has_year_suffix=!0,"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,t[t.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=t[t.build.area].opt["year-suffix-delimiter"]),u=function u(t,e){if(t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.just_looking){n=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),t[t.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter),a=new Nt.NumericBlob(!1,n,this,e.id),l=new Nt.Util.Suffixator(Nt.SUFFIX_CHARS),a.setFormatter(l),t.output.append(a,"literal"),c=!1;for(var i=0,r=t.tmp.group_context.mystack.length;i<r;i++){var s=t.tmp.group_context.mystack[i];if(!s.variable_success&&(s.variable_attempt||!s.variable_attempt&&!s.term_intended)){c=!0;break}}h=t[t.tmp.area].opt["year-suffix-delimiter"],c&&h&&!t.tmp.sort_key_flag&&(t.tmp.splice_delimiter=t[t.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(u)):"citation-label"===this.variables_real[0]&&("bibliography"===t.build.root&&(t.opt.bib_mode=Nt.TRIGRAPH),t.opt.has_year_suffix=!0,u=function u(t,e){i=(i=e["citation-label"])||t.getCitationLabel(e),t.tmp.just_looking||(r="",t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&(n=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),r=t.fun.suffixator.format(n)),i+=r),t.output.append(i,this)},this.execs.push(u));else if(this.strings.term)u=function u(t,e){var i,r=t.opt.gender[e.type],s=this.strings.term;if(""!==(s=t.getTerm(s,p,o,r,Nt.TOLERANT,this.default_locale))&&(t.tmp.group_context.tip.term_intended=!0),Nt.UPDATE_GROUP_CONTEXT_CONDITION(t,s),i=t.tmp.term_predecessor||"in-text"===t.opt["class"]&&"citation"===t.tmp.area?s:Nt.Output.Formatters["capitalize-first"](t,s),t.tmp.strip_periods)i=i.replace(/\./g,"");else for(var n=0,a=this.decorations.length;n<a;n+=1)if("@strip-periods"===this.decorations[n][0]&&"true"===this.decorations[n][1]){i=i.replace(/\./g,"");break}t.output.append(i,this)},this.execs.push(u),t.build.term=!1,t.build.form=!1,t.build.plural=!1;else if(this.variables_real.length){if(u=function u(t,e){"locator"!==this.variables_real[0]&&(t.tmp.have_collapsed=!1),!t.tmp.group_context.tip.condition&&e[this.variables[0]]&&(t.tmp.just_did_number=!1);var i=e[this.variables[0]];i&&!t.tmp.group_context.tip.condition&&((""+i).slice(-1).match(/[0-9]/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1)},this.execs.push(u),-1<Nt.MULTI_FIELDS.indexOf(this.variables_real[0])||-1<["language-name","language-name-original"].indexOf(this.variables_real[0])){var d=this.variables[0],g=!1,b=!1,y=!1;"short"===p?"-short"!==this.variables_real[0].slice(-6)&&(b=this.variables_real[0]+"-short"):d=!1,t.build.extension?y=!0:g=y=!0,u=t.transform.getOutputFunction(this.variables,d,g,b,y)}else u=-1<Nt.CITE_FIELDS.indexOf(this.variables_real[0])?function u(t,e,i){i&&i[this.variables[0]]&&(t.processNumber(this,i,this.variables[0],e.type),Nt.Util.outputNumericField(t,this.variables[0],e.id),-1<["locator","locator-extra"].indexOf(this.variables_real[0])&&!t.tmp.just_looking&&t.tmp.done_vars.push(this.variables_real[0]))}:-1<["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])?function u(t,e){t.processNumber(this,e,this.variables[0],e.type),Nt.Util.outputNumericField(t,this.variables[0],e.id)}:-1<["URL","DOI"].indexOf(this.variables_real[0])?function u(t,e){var i;if(this.variables[0]&&(i=t.getVariable(e,this.variables[0],p)))if("URL"===this.variables[0]&&"short"===p&&(i=i.replace(/(.*\.[^\/]+)\/.*/,"$1")).match(/\/\/www\./)&&(i=i.replace(/https?:\/\//,"")),t.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])t.output.append(i,this,!1,!1,!0);else{var r=Nt.Util.cloneToken(this),s=new Nt.Blob(null,null,"url-wrapper");if(s.decorations.push(["@DOI","true"]),"DOI"===this.variables_real[0]){var n;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(n=(i=i.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/",r.strings.prefix=this.strings.prefix.slice(0,r.strings.prefix.length-16));var a=new Nt.Blob(n),o=new Nt.Blob(i);s.push(a),s.push(o),t.output.append(s,r,!1,!1,!0)}else{o=new Nt.Blob(i);s.push(o),t.output.append(s,r,!1,!1,!0)}}else{if(this.decorations.length)for(var l=this.decorations.length-1;-1<l;l--)this.decorations[l][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,l).concat(this.decorations.slice(l+1)));t.output.append(i,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function u(t,e){var i;(i=t.getVariable(e,this.variables[0],p))&&t.output.append(i,this)}:"hereinafter"===this.variables_real[0]?function u(t,e){var i=t.transform.abbrevs["default"].hereinafter[e.id];i&&(t.output.append(i,this),t.tmp.group_context.tip.variable_success=!0)}:function u(t,e){var i;this.variables[0]&&(i=t.getVariable(e,this.variables[0],p))&&(i=(i=""+i).split("\\").join(""),t.output.append(i,this))};this.execs.push(u)}else this.strings.value&&(u=function u(t){t.tmp.group_context.tip.term_intended=!0,Nt.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.value,!0),t.output.append(this.strings.value,this)},this.execs.push(u));e.push(this),Nt.Util.substituteEnd.call(this,t,e)}}},Nt.Node.intext={build:function(t,e){if(this.tokentype===Nt.START){t.build.area="intext",t.build.root="intext",t.build.extension="";var i=function i(t,e){t.tmp.area="intext",t.tmp.root="intext",t.tmp.extension=""};this.execs.push(i)}this.tokentype===Nt.END&&(t.intext_sort={opt:{sort_directions:t.citation_sort.opt.sort_directions}},t.intext.srt=t.citation.srt),e.push(this)}},Nt.Attributes={},Nt.Attributes["@disambiguate"]=function(e,t){if(this.tests||(this.tests=[]),"true"===t){e.opt.has_disambiguate=!0;var i=function i(t){if("bibliography"===e.tmp.area){if(e.tmp.disambiguate_count<e.registry.registry[t.id].disambig.disambiguate)return e.tmp.disambiguate_count+=1,!0}else if(e.tmp.disambiguate_maxMax+=1,e.tmp.disambig_settings.disambiguate&&e.tmp.disambiguate_count<e.tmp.disambig_settings.disambiguate)return e.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(i)}else if("check-ambiguity-and-backreference"===t){i=function i(t){return!!(e.registry.registry[t.id].disambig.disambiguate&&1<e.registry.registry[t.id]["citation-count"])};this.tests.push(i)}},Nt.Attributes["@is-numeric"]=function(s,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function i(r){return function(t,e){var i=t;if(e&&-1<["locator","locator-extra"].indexOf(r)&&(i=e),!i[r])return!1;if(-1<Nt.NUMERIC_VARIABLES.indexOf(r)){if(s.tmp.shadow_numbers[r]||s.processNumber(!1,i,r,t.type),s.tmp.shadow_numbers[r].numeric)return!0}else if(-1<["title","locator-extra","version"].indexOf(r)&&i[r].slice(-1)===""+parseInt(i[r].slice(-1),10))return!0;return!1}},r=0;r<e.length;r+=1)this.tests.push(i(e[r]))},Nt.Attributes["@is-uncertain-date"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(e){return function(t){return!(!t[e]||!t[e].circa)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},Nt.Attributes["@locator"]=function(s,t){this.tests||(this.tests=[]);for(var e=t.replace("sub verbo","sub-verbo"),i=function i(r){return function(t,e){var i;return s.processNumber(!1,e,"locator"),i=s.tmp.shadow_numbers.locator.label,r===i}},r=0,n=(e=e.split(/\s+/)).length;r<n;r+=1)this.tests.push(i(e[r]))},Nt.Attributes["@position"]=function(r,t){this.tests||(this.tests=[]),r.opt.update_mode=Nt.POSITION;for(var e=t.split(/\s+/),i=function i(t,e){return!!(e&&e.position>=Nt.POSITION_SUBSEQUENT&&e["near-note"])},s=function s(t,e){return!(!e||e.position!=Nt.POSITION_SUBSEQUENT||e["near-note"])},n=function n(i){return function(t,e){if("bibliography"===r.tmp.area)return!1;if(e&&"undefined"==typeof e.position&&(e.position=0),e&&"number"==typeof e.position){if(0===e.position&&0===i)return!0;if(0<i&&e.position>=i)return!0}else if(0===i)return!0;return!1}},a=0,o=e.length;a<o;a+=1){var l;"first"===(l=e[a])?l=Nt.POSITION_FIRST:"subsequent"===l?l=Nt.POSITION_SUBSEQUENT:"ibid"===l?l=Nt.POSITION_IBID:"ibid-with-locator"===l&&(l=Nt.POSITION_IBID_WITH_LOCATOR),"near-note"===l?this.tests.push(i):"far-note"===l?this.tests.push(s):this.tests.push(n(l))}},Nt.Attributes["@type"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(e){return function(t){return t.type===e}},s=[],n=0,a=i.length;n<a;n+=1)s.push(r(i[n]));this.tests.push(t.fun.match.any(this,t,s))},Nt.Attributes["@variable"]=function(n,t){var g;if(this.tests||(this.tests=[]),this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(-1<["names","date","text","number"].indexOf(this.name))g=function g(t,e,i){for(var r=this.variables.length-1;-1<r;r+=-1)this.variables.pop();r=0;for(var s=this.variables_real.length;r<s;r++)-1===t.tmp.done_vars.indexOf(this.variables_real[r])&&this.variables.push(this.variables_real[r]),t.tmp.can_block_substitute&&t.tmp.done_vars.push(this.variables_real[r])},this.execs.push(g),g=function g(t,e,i){for(var r=!1,s=0,n=this.variables.length;s<n;s++){var a=this.variables[s];if(-1<["authority","committee"].indexOf(a)&&"string"==typeof e[a]&&"names"===this.name){var o=!0,l=e[a].split(/\s*;\s*/),u={};if(e.multi&&e.multi._keys[a])for(var p in e.multi._keys[a])if(u[p]=e.multi._keys[a][p].split(/\s*;\s*/),u[p].length!==l.length){o=!1;break}o||(l=[e[a]],u=e.multi._keys[a]);for(var c=0,h=l.length;c<h;c++){var f={literal:l[c],multi:{_key:{}}};for(var p in u){var m={literal:u[p][c]};f.multi._key[p]=m}l[c]=f}e[a]=l}if("short"!==this.strings.form||e[a]||("title"===a?a="title-short":"container-title"===a&&(a="container-title-short")),"year-suffix"===a){r=!0;break}if(-1<Nt.DATE_VARIABLES.indexOf(a)){if(t.opt.development_extensions.locator_date_and_revision&&"locator-date"===a){r=!0;break}if(e[a]){for(var d in e[a])if((-1!==this.dateparts.indexOf(d)||"literal"===d)&&e[a][d]){r=!0;break}if(r)break}}else{if("locator"===a){i&&i.locator&&(r=!0);break}if("locator-extra"===a){i&&i["locator-extra"]&&(r=!0);break}if(-1<["citation-number","citation-label"].indexOf(a)){r=!0;break}if("first-reference-note-number"===a){i&&i["first-reference-note-number"]&&(r=!0);break}if("hereinafter"===a){t.transform.abbrevs["default"].hereinafter[e.id]&&t.sys.getAbbreviation&&e.id&&(r=!0);break}if("object"===K(e[a]))break;if("string"==typeof e[a]&&e[a]){r=!0;break}if("number"==typeof e[a]){r=!0;break}}if(r)break}if(r){for(s=0,n=this.variables_real.length;s<n;s++){"citation-number"===(a=this.variables_real[s])&&"bibliography"===t.tmp.area||(t.tmp.cite_renders_content=!0),t.tmp.group_context.tip.variable_success=!0,t.tmp.can_substitute.value()&&"bibliography"===t.tmp.area&&"string"==typeof e[a]&&(t.tmp.name_node.top=t.output.current.value(),t.tmp.rendered_name.push(e[a]))}t.tmp.can_substitute.replace(!1,Nt.LITERAL)}else t.tmp.group_context.tip.variable_attempt=!0},this.execs.push(g);else if(-1<["if","else-if","condition"].indexOf(this.name))for(var e=function e(s){return function(t,e){var i=t;if(e&&-1<["locator","locator-extra","first-reference-note-number","locator-date"].indexOf(s)&&(i=e),"hereinafter"===s&&n.sys.getAbbreviation&&i.id){if(n.transform.abbrevs["default"].hereinafter[i.id])return!0}else if(i[s]){if("number"==typeof i[s]||"string"==typeof i[s])return!0;if("object"===K(i[s]))for(var r in i[s])if(i[s][r])return!0}return!1}},i=0,r=this.variables.length;i<r;i+=1)this.tests.push(e(this.variables[i]))},Nt.Attributes["@page"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.replace("sub verbo","sub-verbo"),s=function s(i){return function(t){var e;return r.processNumber(!1,t,"page",t.type),e=r.tmp.shadow_numbers.page.label?"sub verbo"===r.tmp.shadow_numbers.page.label?"sub-verbo":r.tmp.shadow_numbers.page.label:"page",i===e}},i=0,n=(e=e.split(/\s+/)).length;i<n;i+=1)this.tests.push(s(e[i]))},Nt.Attributes["@number"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),s=function s(i){return function(t){var e;return r.processNumber(!1,t,"number",t.type),e=r.tmp.shadow_numbers.number.label?r.tmp.shadow_numbers.number.label:"number",i===e}},i=0,n=e.length;i<n;i+=1)this.tests.push(s(e[i]))},Nt.Attributes["@jurisdiction"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=0,s=i.length;r<s;r+=1)i[r]=i[r].split(":");var n=function n(s){return function(t){if(!t.jurisdiction)return!1;for(var e=t.jurisdiction.split(":"),i=0,r=e.length;i<r;i+=1)e[i]=e[i].split(":");for(i=s.length;0<i;i+=-1){if(s.slice(0,i).join(":")!==e.slice(0,i).join(":"))return!1}return!0}};for(r=0,s=i.length;r<s;r+=1){var a=i[r].slice();this.tests.push(n(a))}},Nt.Attributes["@context"]=function(t,e){this.tests||(this.tests=[]);var i=function i(){return-1<["bibliography","citation"].indexOf(e)?t.tmp.area.slice(0,e.length)===e:"alternative"===e?!!t.tmp.abort_alternative:void 0};this.tests.push(i)},Nt.Attributes["@has-year-only"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(i){return function(t){var e=t[i];return!(!e||e.month||e.season)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},Nt.Attributes["@has-to-month-or-season"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(i){return function(t){var e=t[i];return!(!e||!e.month&&!e.season||e.day)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},Nt.Attributes["@has-day"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(i){return function(t){var e=t[i];return!(!e||!e.day)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},Nt.Attributes["@is-plural"]=function(o,l){this.tests||(this.tests=[]);var u=function u(t){var e=t[l];if(e&&e.length){for(var i=0,r=0,s=!1,n=0,a=e.length;n<a;n+=1)s=o.opt.development_extensions.spoof_institutional_affiliations&&(e[n].literal||e[n].isInstitution&&e[n].family&&!e[n].given)?(r+=1,!1):(i+=1,!0);if(1<i)return!0;if(1<r)return!0;if(r&&s)return!0}return!1};this.tests.push(u)},Nt.Attributes["@locale"]=function(o,t){var e,i,r;this.tests||(this.tests=[]);var s=o.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=t,this.tokentype===Nt.START){o.opt.multi_layout||(o.opt.multi_layout=[]);var n=[],a=t.split(/\s+/),l={},u=Nt.localeResolve(a[0],s);n.push(u),u.generic?l[u.generic]=u.best:l[u.best]=u.best;for(var p=1,c=a.length;p<c;p+=1){var h=Nt.localeResolve(a[p],s);n.push(h),h.generic?l[h.generic]=u.best:l[h.best]=u.best}o[o.build.area].opt.sort_locales.push(l),o.opt.multi_layout.push(n)}o.opt.has_layout_locale=!0}else{r=t.split(/\s+/);var f=[];for(p=0,c=r.length;p<c;p+=1)i=r[p],e=Nt.localeResolve(i,s),2===r[p].length&&f.push(e.bare),o.localeConfigure(e,!0),r[p]=e;var m=r.slice(),d=function d(s,n,a){return function(t){var e,i,r=e=![];for(i=t.language?t.language:n,r=Nt.localeResolve(i,n),p=0,c=s.length;p<c;p+=1)if(r.best===s[p].best){o.tmp.condition_lang_counter_arr.push(o.tmp.condition_counter),o.tmp.condition_lang_val_arr.push(o.opt.lang),o.opt.lang=s[0].best,e=!0;break}return!e&&-1<a.indexOf(r.bare)&&(o.tmp.condition_lang_counter_arr.push(o.tmp.condition_counter),o.tmp.condition_lang_val_arr.push(o.opt.lang),o.opt.lang=s[0].best,e=!0),e}};this.tests.push(d(m,s,f))}},Nt.Attributes["@alternative-node-internal"]=function(t){this.tests||(this.tests=[]);var e=function e(){return function(){return!t.tmp.abort_alternative}};this.tests.push(e(this))},Nt.Attributes["@locale-internal"]=function(s,t){var e,n,i,a,o;for(this.tests||(this.tests=[]),i=t.split(/\s+/),this.locale_bares=[],a=0,o=i.length;a<o;a+=1)n=i[a],e=Nt.localeResolve(n,s.opt["default-locale"][0]),2===i[a].length&&this.locale_bares.push(e.bare),s.localeConfigure(e),i[a]=e;this.locale_default=s.opt["default-locale"][0],this.locale=i[0].best,this.locale_list=i.slice();var l=function l(r){return function(t){var e,i=e=![];if(t.language&&(n=t.language,(i=Nt.localeResolve(n,s.opt["default-locale"][0])).best===s.opt["default-locale"][0]&&(i=!1)),i){for(a=0,o=r.locale_list.length;a<o;a+=1)if(i.best===r.locale_list[a].best){s.opt.lang=r.locale,s.tmp.last_cite_locale=r.locale,s.output.openLevel("empty"),s.output.current.value().new_locale=r.locale,e=!0;break}!e&&-1<r.locale_bares.indexOf(i.bare)&&(s.opt.lang=r.locale,s.tmp.last_cite_locale=r.locale,s.output.openLevel("empty"),s.output.current.value().new_locale=r.locale,e=!0)}return e}};this.tests.push(l(this))},Nt.Attributes["@court-class"]=function(i,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),r=function r(e){return function(t){return Nt.GET_COURT_CLASS(i,t)===e}},s=0,n=e.length;s<n;s++)this.tests.push(r(e[s]))},Nt.Attributes["@is-parallel"]=function(t,e){t.opt.parallel.enable=!0,this.strings.set_parallel_condition=e},Nt.Attributes["@changes-in"]=function(t,e){for(var i=e.split(/\s+/),r=0,s=i.length;r<s;r++)t.opt.parallel.changes_in[i[r]]=!0;this.strings.set_changes_in_condition=i},Nt.Attributes["@no-repeat"]=function(t,e){t.opt.parallel.no_repeat||(t.opt.parallel.no_repeat={});var i=e.split(/\s+/);t.opt.parallel.enable=!0;for(var r=0,s=i.length;r<s;r++)t.opt.parallel.no_repeat[i[r]]=!0;this.strings.set_no_repeat_condition=i},Nt.Attributes["@parallel-delimiter-override"]=function(t,e){this.strings.set_parallel_delimiter_override=e},Nt.Attributes["@require"]=function(t,e){this.strings.require=e},Nt.Attributes["@reject"]=function(t,e){this.strings.reject=e},Nt.Attributes["@gender"]=function(t,e){this.gender=e},Nt.Attributes["@cslid"]=function(t,e){this.cslid=parseInt(e,10)},Nt.Attributes["@capitalize-if-first"]=function(t,e){this.strings.capitalize_if_first_override=e},Nt.Attributes["@label-capitalize-if-first"]=function(t,e){this.strings.label_capitalize_if_first_override=e},Nt.Attributes["@label-form"]=function(t,e){this.strings.label_form_override=e},Nt.Attributes["@part-separator"]=function(t,e){this.strings["part-separator"]=e},Nt.Attributes["@leading-noise-words"]=function(t,e){this["leading-noise-words"]=e},Nt.Attributes["@name-never-short"]=function(t,e){this["name-never-short"]=e},Nt.Attributes["@class"]=function(t,e){t.opt["class"]=e},Nt.Attributes["@version"]=function(t,e){t.opt.version=e},Nt.Attributes["@value"]=function(t,e){this.strings.value=e},Nt.Attributes["@name"]=function(t,e){this.strings.name=e},Nt.Attributes["@form"]=function(t,e){this.strings.form=e},Nt.Attributes["@date-parts"]=function(t,e){this.strings["date-parts"]=e},Nt.Attributes["@range-delimiter"]=function(t,e){this.strings["range-delimiter"]=e},Nt.Attributes["@macro"]=function(t,e){this.postponed_macro=e},Nt.Attributes["@term"]=function(t,e){this.strings.term="sub verbo"===e?"sub-verbo":e},Nt.Attributes["@xmlns"]=function(){},Nt.Attributes["@lang"]=function(t,e){e&&(t.build.lang=e)},Nt.Attributes["@lingo"]=function(){},Nt.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},Nt.Attributes["@suffix"]=function(t,e){this.strings.suffix=e},Nt.Attributes["@prefix"]=function(t,e){this.strings.prefix=e},Nt.Attributes["@delimiter"]=function(t,e){this.strings.delimiter=e},Nt.Attributes["@match"]=function(t,e){this.match=e},Nt.Attributes["@names-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),this.strings["et-al-min"]=i},Nt.Attributes["@names-use-first"]=function(t,e){this.strings["et-al-use-first"]=parseInt(e,10)},Nt.Attributes["@names-use-last"]=function(t,e){this.strings["et-al-use-last"]="true"===e},Nt.Attributes["@sort"]=function(t,e){"descending"===e&&(this.strings.sort_direction=Nt.DESCENDING)},Nt.Attributes["@plural"]=function(t,e){"always"===e||"true"===e?this.strings.plural=1:"never"===e||"false"===e?this.strings.plural=0:"contextual"===e&&(this.strings.plural=!1)},Nt.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},Nt.Attributes["@publisher-delimiter-precedes-last"]=function(t,e){this.strings["publisher-delimiter-precedes-last"]=e},Nt.Attributes["@publisher-delimiter"]=function(t,e){this.strings["publisher-delimiter"]=e},Nt.Attributes["@publisher-and"]=function(t,e){this.strings["publisher-and"]=e},Nt.Attributes["@givenname-disambiguation-rule"]=function(t,e){-1<Nt.GIVENNAME_DISAMBIGUATION_RULES.indexOf(e)&&(t.citation.opt["givenname-disambiguation-rule"]=e)},Nt.Attributes["@collapse"]=function(t,e){e&&(t[this.name].opt.collapse=e)},Nt.Attributes["@cite-group-delimiter"]=function(t,e){e&&(t[t.tmp.area].opt.cite_group_delimiter=e)},Nt.Attributes["@names-delimiter"]=function(t,e){t.setOpt(this,"names-delimiter",e)},Nt.Attributes["@name-form"]=function(t,e){t.setOpt(this,"name-form",e)},Nt.Attributes["@subgroup-delimiter"]=function(t,e){this.strings["subgroup-delimiter"]=e},Nt.Attributes["@subgroup-delimiter-precedes-last"]=function(t,e){this.strings["subgroup-delimiter-precedes-last"]=e},Nt.Attributes["@name-delimiter"]=function(t,e){t.setOpt(this,"name-delimiter",e)},Nt.Attributes["@et-al-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-min",i)},Nt.Attributes["@et-al-use-first"]=function(t,e){t.setOpt(this,"et-al-use-first",parseInt(e,10))},Nt.Attributes["@et-al-use-last"]=function(t,e){"true"===e?t.setOpt(this,"et-al-use-last",!0):t.setOpt(this,"et-al-use-last",!1)},Nt.Attributes["@et-al-subsequent-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-subsequent-min",i)},Nt.Attributes["@et-al-subsequent-use-first"]=function(t,e){t.setOpt(this,"et-al-subsequent-use-first",parseInt(e,10))},Nt.Attributes["@suppress-min"]=function(t,e){this.strings["suppress-min"]=parseInt(e,10)},Nt.Attributes["@suppress-max"]=function(t,e){this.strings["suppress-max"]=parseInt(e,10)},Nt.Attributes["@and"]=function(t,e){t.setOpt(this,"and",e)},Nt.Attributes["@delimiter-precedes-last"]=function(t,e){t.setOpt(this,"delimiter-precedes-last",e)},Nt.Attributes["@delimiter-precedes-et-al"]=function(t,e){t.setOpt(this,"delimiter-precedes-et-al",e)},Nt.Attributes["@initialize-with"]=function(t,e){t.setOpt(this,"initialize-with",e)},Nt.Attributes["@initialize"]=function(t,e){"false"===e&&t.setOpt(this,"initialize",!1)},Nt.Attributes["@name-as-reverse-order"]=function(t,e){this["name-as-reverse-order"]=e},Nt.Attributes["@name-as-sort-order"]=function(t,e){"style-options"===this.name?this["name-as-sort-order"]=e:t.setOpt(this,"name-as-sort-order",e)},Nt.Attributes["@sort-separator"]=function(t,e){t.setOpt(this,"sort-separator",e)},Nt.Attributes["@require-match"]=function(t,e){"true"===e&&(this.requireMatch=!0)},Nt.Attributes["@exclude-types"]=function(t,e){t.bibliography.opt.exclude_types=e.split(/\s+/)},Nt.Attributes["@exclude-with-fields"]=function(t,e){t.bibliography.opt.exclude_with_fields=e.split(/\s+/)},Nt.Attributes["@year-suffix-delimiter"]=function(t,e){t[this.name].opt["year-suffix-delimiter"]=e},Nt.Attributes["@after-collapse-delimiter"]=function(t,e){t[this.name].opt["after-collapse-delimiter"]=e},Nt.Attributes["@subsequent-author-substitute"]=function(t,e){t[this.name].opt["subsequent-author-substitute"]=e},Nt.Attributes["@subsequent-author-substitute-rule"]=function(t,e){t[this.name].opt["subsequent-author-substitute-rule"]=e},Nt.Attributes["@disambiguate-add-names"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-names"]=!0)},Nt.Attributes["@disambiguate-add-givenname"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-givenname"]=!0)},Nt.Attributes["@disambiguate-add-year-suffix"]=function(t,e){"true"===e&&"numeric"!==t.opt.xclass&&(t.opt["disambiguate-add-year-suffix"]=!0)},Nt.Attributes["@second-field-align"]=function(t,e){"flush"!==e&&"margin"!==e||(t[this.name].opt["second-field-align"]=e)},Nt.Attributes["@hanging-indent"]=function(t,e){"true"===e&&(t.opt.development_extensions.hanging_indent_legacy_number?t[this.name].opt.hangingindent=2:t[this.name].opt.hangingindent=!0)},Nt.Attributes["@line-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["line-spacing"]=parseFloat(e,10))},Nt.Attributes["@entry-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["entry-spacing"]=parseFloat(e,10))},Nt.Attributes["@near-note-distance"]=function(t,e){t[this.name].opt["near-note-distance"]=parseInt(e,10)},Nt.Attributes["@text-case"]=function(t,i){var r=function r(t,e){"normal"===i?this.text_case_normal=!0:"title"===(this.strings["text-case"]=i)&&e.jurisdiction&&(this.strings["text-case"]="passthrough")};this.execs.push(r)},Nt.Attributes["@page-range-format"]=function(t,e){t.opt["page-range-format"]=e},Nt.Attributes["@year-range-format"]=function(t,e){t.opt["year-range-format"]=e},Nt.Attributes["@default-locale"]=function(t,e){if("style"===this.name){var i,r,s,n,a;if(a=e.match(/-x-(sort|translit|translat)-/g))for(s=0,r=a.length;s<r;s+=1)a[s]=a[s].replace(/^-x-/,"").replace(/-$/,"");for(n=[(i=e.split(/-x-(?:sort|translit|translat)-/))[0]],s=1,r=i.length;s<r;s+=1)n.push(a[s-1]),n.push(i[s]);for(r=(i=n.slice()).length,s=1;s<r;s+=2)t.opt["locale-"+i[s]].push(i[s+1].replace(/^\s*/g,"").replace(/\s*$/g,""));i.length?t.opt["default-locale"]=i.slice(0,1):t.opt["default-locale"]=["en"]}else"true"===e&&(this.default_locale=!0)},Nt.Attributes["@default-locale-sort"]=function(t,e){t.opt["default-locale-sort"]=e},Nt.Attributes["@demote-non-dropping-particle"]=function(t,e){t.opt["demote-non-dropping-particle"]=e},Nt.Attributes["@initialize-with-hyphen"]=function(t,e){"false"===e&&(t.opt["initialize-with-hyphen"]=!1)},Nt.Attributes["@institution-parts"]=function(t,e){this.strings["institution-parts"]=e},Nt.Attributes["@if-short"]=function(t,e){"true"===e&&(this.strings["if-short"]=!0)},Nt.Attributes["@substitute-use-first"]=function(t,e){this.strings["substitute-use-first"]=parseInt(e,10)},Nt.Attributes["@use-first"]=function(t,e){this.strings["use-first"]=parseInt(e,10)},Nt.Attributes["@stop-last"]=function(t,e){this.strings["stop-last"]=-1*parseInt(e,10)},Nt.Attributes["@use-last"]=function(t,e){this.strings["use-last"]=parseInt(e,10)},Nt.Attributes["@reverse-order"]=function(t,e){"true"===e&&(this.strings["reverse-order"]=!0)},Nt.Attributes["@display"]=function(t,e){2===t.bibliography.tokens.length&&(t.opt.using_display=!0),this.strings.cls=e},Nt.Stack=function(t,e){this.mystack=[],(e||t)&&this.mystack.push(t),this.tip=this.mystack[0]},Nt.Stack.prototype.push=function(t,e){e||t?this.mystack.push(t):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},Nt.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},Nt.Stack.prototype.replace=function(t,e){0===this.mystack.length&&Nt.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+t),this.mystack[this.mystack.length-1]=e||t?t:"",this.tip=this.mystack[this.mystack.length-1]},Nt.Stack.prototype.pop=function(){var t=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},t},Nt.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},Nt.Stack.prototype.length=function(){return this.mystack.length},Nt.Parallel=function(t){this.state=t},Nt.Parallel.Partnerships=function(t,e){this.state=t,this.items=e.concat([[{},{}]]),this.partnerMap=null,this.partnerStatus=null,this.repeatMap=null},Nt.Parallel.Partnerships.prototype.update=function(t){this.items[t][0];var e=this.items[t+1][0];this.partnerStatus=null,this.partnerMap?this.partnerMap[e.id]?this.partnerStatus="mid":(this.partnerMap=null,this.partnerStatus="last"):this._setPartnerMap(t)&&(this.partnerStatus="first")},Nt.Parallel.Partnerships.prototype.getPartnerStatus=function(t){return this.partnerStatus},Nt.Parallel.Partnerships.prototype.getID=function(t){return this.items[t][0].id},Nt.Parallel.Partnerships.prototype._setPartnerMap=function(t){var e=this.items[t][0],i=this.items[t+1][0],r=!1;if(e.seeAlso&&-1<e.seeAlso.indexOf(i.id)){this.partnerMap={};for(var s=0,n=e.seeAlso.length;s<n;s++)this.partnerMap[e.seeAlso[s]]=!0;r=!0}return r},Nt.Parallel.Partnerships.prototype._getPartnerRepeats=function(t,e){var i=this.items[t][0],r=this.items[t+1][0],s=/(?:type|multi|id|seeAlso|.*-sub|.*-subjoin|.*-main)/,n={};for(var a in this.state.opt.parallel[e])if(i[a]){if(a.match(s))continue;if(!i[a])continue;"string"==typeof i[a]?i[a]===r[a]&&(n[a]=!0):"object"===K(i[a])&&JSON.stringify(i[a])===JSON.stringify(r[a])&&(n[a]=!0)}return n},Nt.Parallel.prototype.StartCitation=function(t,e){if(this.parallel_conditional_blobs_list=[],1<t.length)for(var i=new Nt.Parallel.Partnerships(this.state,t),r=!1,s=0,n=t.length;s<n;s++){i.update(s);var a=i.getPartnerStatus(),o=i.getID(s);"first"===a?(t[s][1].parallel="first",s<n-1&&(t[s+1][1].parallel_repeats=i._getPartnerRepeats(s,"changes_in"),t[s][1].parallel_repeats=t[s+1][1].parallel_repeats),r=o,this.state.registry.registry[r].master=!0,this.state.registry.registry[r].siblings=[]):"mid"===a?(t[s][1].parallel="mid",s<n-1&&(t[s+1][1].parallel_repeats=i._getPartnerRepeats(s,"changes_in")),this.state.registry.registry[r].siblings.push(o),this.state.registry.masterMap[o]=r):"last"===a&&(t[s][1].parallel="last",s<n-1&&(t[s+1][1].parallel_repeats=i._getPartnerRepeats(s,"changes_in")),this.state.registry.registry[r].siblings.push(o),this.state.registry.masterMap[o]=r),this.state.opt.parallel.no_repeat&&s<n-1&&(t[s+1][1].no_repeat_repeats=i._getPartnerRepeats(s,"no_repeat"))}},Nt.Parallel.prototype.checkRepeats=function(t){var e=!1;if(t.no_repeat_repeats&&t.no_repeat_condition){for(var i=0,r=0,s=t.no_repeat_condition.length;r<s;r++)t.no_repeat_repeats[t.no_repeat_condition[r]]&&(i+=1);i===t.no_repeat_condition.length&&(e=!0)}return e},Nt.Parallel.prototype.checkParallels=function(t,e){var i=!1;if(t.parallel_result&&t.parallel_condition&&(i=!0,t.parallel_result===t.parallel_condition&&(i=!1),i&&t.changes_in_condition&&t.parallel_repeats)){i=!1;for(var r=0,s=0,n=t.changes_in_condition.length;s<n;s++)t.parallel_repeats[t.changes_in_condition[s]]&&(r+=1);r===t.changes_in_condition.length&&(i=!0)}return i},Nt.Parallel.prototype.purgeGroupsIfParallel=function(){},Nt.Util={},Nt.Util.Match=function(){this.any=function(t,e,s){return function(t,e){for(var i=0,r=s.length;i<r;i+=1){if(s[i](t,e))return!0}return!1}},this.none=function(t,e,s){return function(t,e){for(var i=0,r=s.length;i<r;i+=1){if(s[i](t,e))return!1}return!0}},this.all=function(t,e,s){return function(t,e){for(var i=0,r=s.length;i<r;i+=1){if(!s[i](t,e))return!1}return!0}},this[undefined]=this.all,this.nand=function(t,e,s){return function(t,e){for(var i=0,r=s.length;i<r;i+=1){if(!s[i](t,e))return!0}return!1}}},Nt.Transform=function(I){function d(t,e,i){var r="";return I.sys.getHumanForm&&("country"===t?r=(r=I.sys.getHumanForm(e.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===t&&(r=I.sys.getHumanForm(e.toLowerCase(),!1,!0),r=i?"":r.split("|").slice(1).join(", "))),r}function k(t,e,i,r,s,n,a){var o,l="",u=Nt.FIELD_CATEGORY_REMAP[n];if(!u)return s;var p=n,c=s;t.sys.normalizeAbbrevsKey&&(c=t.sys.normalizeAbbrevsKey(n,s));var h=!1;if("jurisdiction"===p&&c&&(h=-1===c.indexOf(":")),t.sys.getAbbreviation){o=-1<["jurisdiction","country","language-name","language-name-original"].indexOf(p)?"default":i.jurisdiction?i.jurisdiction:"default";var f=t.transform.loadAbbreviation(o,u,c,i.type);if(t.transform.abbrevs[f][u]&&c){var m=t.transform.abbrevs[f][u][c];l="short"===e.strings.form&&m?h?"":m:d(p,c,h)}}return l||t.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===i.type||!r||!i[r]||!a||(l=i[r]),l||t.sys.getAbbreviation||!t.sys.getHumanForm||(l=d(p,c,h)),l||h||t.sys.getHumanForm&&"jurisdiction"===p||(l=s),l}function O(t,e){var i,r=I.opt["default-locale"][0].slice(0,2);if(i=I.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),t.language){var s=(""+t.language).match(i);r=s?s[1]:"tlh"}return t.multi&&t.multi&&t.multi.main&&t.multi.main[e]&&(r=t.multi.main[e]),I.opt.development_extensions.strict_text_case_locales&&!I.opt.development_extensions.normalize_lang_keys_to_lowercase||(r=r.toLowerCase()),r}function N(t,e,i,r,s,n){var a,o,l,u=s,p=!1;if(!t[e])return{name:"",usedOrig:s,token:Nt.Util.cloneToken(this)};var c=!1;-1<Nt.VARIABLES_WITH_SHORT_FORM.indexOf(e)&&n&&(e+="-short",c=!0);var h=!1,f=null,m=[];"-short"===e.slice(-6)?(m.push(e),m.push(e.slice(0,-6))):m.push(e);for(var d=0,g=m.length;d<g;d++){var b=!1;v={name:"",usedOrig:s,locale:O(t,e=m[d])},l=I.opt[i];var y=!1;if("locale-orig"===i)v=s?{name:"",usedOrig:s}:{name:t[e],usedOrig:!1,locale:O(t,e)},p=y=!0;else if(r&&(void 0===l||0===l.length)){var v={name:t[e],usedOrig:!0,locale:O(t,e)};p=y=!0}if(!y){for(var _=0,x=l.length;_<x;_+=1){if(o=(a=l[_]).split(/[\-_]/)[0],a&&t.multi&&t.multi._keys[e]&&t.multi._keys[e][a]){v.name=t.multi._keys[e][a],v.locale=a,p=!(b=y=!0);break}if(o&&t.multi&&t.multi._keys[e]&&t.multi._keys[e][o]){v.name=t.multi._keys[e][o],v.locale=o,p=!(b=y=!0);break}}!v.name&&r&&(v={name:t[e],usedOrig:!0,locale:O(t,e)},p=!0)}if(v.token=Nt.Util.cloneToken(this),0===d?(b&&(v.found_variant_ok=!0),f=v,c||void 0!==l&&0!==l.length||(h=!0),b&&(h=!0)):c||b||!f?b&&(v.found_variant_ok=!0):(v=f,e=m[0]),-1<["title","container-title"].indexOf(e)&&!(u||v.token.strings["text-case"]&&"sentence"!==v.token.strings["text-case"]&&"normal"!==v.token.strings["text-case"])){var w;I.opt.lang;w=!p&&v.locale;var A=e.slice(0,-5),E="sentence"===v.token.strings["text-case"];v.name=Nt.titlecaseSentenceOrNormal(I,t,A,w,E),delete v.token.strings["text-case"]}if(h)break}return v}function Q(t){var e=t.match(/^!([-,_a-z]+)>>>/);if(e){var i=e[1].split(",");t=t.slice(e[0].length);for(var r=0,s=i.length;r<s;r+=1)-1===I.tmp.done_vars.indexOf(i[r])&&I.tmp.done_vars.push(i[r])}return t}this.abbrevs={},this.abbrevs["default"]=new I.sys.AbbreviationSegments,this.getTextSubField=N,this.loadAbbreviation=function s(t,e,i,r){return t=t||"default",i?I.sys.getAbbreviation&&(t=(t=I.sys.getAbbreviation(I.opt.styleID,I.transform.abbrevs,t,e,i,r,!0))||"default"):(I.transform.abbrevs[t]||(I.transform.abbrevs[t]=new I.sys.AbbreviationSegments),I.transform.abbrevs[t][e]||(I.transform.abbrevs[t][e]={})),t},this.quashCheck=Q,this.getOutputFunction=function e(A,E,t,O){var T,S=Nt.LangPrefsMap[A[0]];return T=!!S&&I.opt["cite-lang-prefs"][S],function(t,e,i){var r,s,n,a,o,l;if(!A[0]||!e[A[0]]&&!e[O])return null;if(!t.tmp.just_looking&&i&&i["suppress-author"]&&!t.tmp.probably_rendered_something&&1<t.tmp.can_substitute.length())return null;var u={primary:!1,secondary:!1,tertiary:!1};if("_sort"===t.tmp.area.slice(-5))u.primary="locale-sort";else if(T&&1===T.length&&"locale-orig"===T[0])u.primary="locale-orig",T=!1;else if(T&&!t.tmp.multi_layout)for(var p=["primary","secondary","tertiary"],c=0,h=p.length;c<h&&!(T.length-1<c);c+=1)T[c]&&(u[p[c]]="locale-"+T[c]);else u.primary="locale-orig";if("title-short"!==A[0]&&("bibliography"===t.tmp.area||"citation"===t.tmp.area&&"note"===t.opt.xclass&&i&&!i.position)||(u.secondary=!1,u.tertiary=!1),t.tmp.multi_layout&&(u.secondary=!1,u.tertiary=!1),t.tmp["publisher-list"])return"publisher"===A[0]?t.tmp["publisher-token"]=this:"publisher-place"===A[0]&&(t.tmp["publisher-place-token"]=this),null;var f=N.call(this,e,A[0],u.primary,!0,null,E);r=f.name,s=f.locale;var m,d,g,b=f.token,y=f.usedOrig;if(E&&!f.found_variant_ok&&(r=(r=k(t,b,e,O,r,E,!0))&&Q(r)),function w(t,e,i,r){var s=t.variables[0];if(I.publisherOutput&&i){if(-1===["publisher","publisher-place"].indexOf(s))return!1;I.publisherOutput[s+"-token"]=t,I.publisherOutput.varlist.push(s);var n=i.split(/;\s*/);n.length===I.publisherOutput[s+"-list"].length&&(I.publisherOutput[s+"-list"]=n);for(var a=0,o=n.length;a<o;a+=1)n[a]=k(I,t,e,!1,n[a],r,!0);return I.tmp[s+"-token"]=t,!0}return!1}(this,e,r,E))return null;if(o=n=!1,u.secondary&&(n=(f=N.call(this,e,A[0],u.secondary,!1,f.usedOrig,null,E)).name,a=f.locale,m=f.token,E&&!f.found_variant_ok&&(n=n&&k(t,m,e,!1,n,E,!0))),u.tertiary&&(o=(f=N.call(this,e,A[0],u.tertiary,!1,f.usedOrig,null,E)).name,l=f.locale,d=f.token,E&&!f.found_variant_ok&&(o=o&&k(t,d,e,!1,o,E,!0))),"locale-translit"===u.primary&&(g=t.opt.citeAffixes[S][u.primary].prefix),"<i>"===g&&"title"===A[0]&&!y){var v=!1;for(c=0,h=b.decorations.length;c<h;c+=1)"@font-style"===b.decorations[c][0]&&"italic"===b.decorations[c][1]&&(v=!0);v||b.decorations.push(["@font-style","italic"])}if("en"!==s&&"title"===b.strings["text-case"]&&(b.strings["text-case"]="passthrough"),"title"===A[0]&&(r=Nt.demoteNoiseWords(t,r,this["leading-noise-words"])),n||o){if(t.output.openLevel("empty"),b.strings.suffix=b.strings.suffix.replace(/[ .,]+$/,""),t.output.append(r,b),t.tmp.probably_rendered_something=!0,r===n&&(n=!1),n){m.strings.prefix=t.opt.citeAffixes[S][u.secondary].prefix,m.strings.suffix=t.opt.citeAffixes[S][u.secondary].suffix,m.strings.prefix||(m.strings.prefix=" ");for(c=m.decorations.length-1;-1<c;c+=-1)-1<["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(m.decorations[c].join("/"))&&(m.decorations=m.decorations.slice(0,c).concat(m.decorations.slice(c+1)));"en"!==a&&"title"===m.strings["text-case"]&&(m.strings["text-case"]="passthrough");var _=new Nt.Token;_.decorations.push(["@font-style","normal"]),_.decorations.push(["@font-weight","normal"]),t.output.openLevel(_),t.output.append(n,m),t.output.closeLevel();t.output.current.value(),t.output.current.value().blobs.length}if(r===o&&(o=!1),o){d.strings.prefix=t.opt.citeAffixes[S][u.tertiary].prefix,d.strings.suffix=t.opt.citeAffixes[S][u.tertiary].suffix,d.strings.prefix||(d.strings.prefix=" ");for(c=d.decorations.length-1;-1<c;c+=-1)-1<["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(d.decorations[c].join("/"))&&(d.decorations=d.decorations.slice(0,c).concat(d.decorations.slice(c+1)));"en"!==l&&"title"===d.strings["text-case"]&&(d.strings["text-case"]="passthrough");var x=new Nt.Token;x.decorations.push(["@font-style","normal"]),x.decorations.push(["@font-weight","normal"]),t.output.openLevel(x),t.output.append(o,d),t.output.closeLevel();t.output.current.value(),t.output.current.value().blobs.length}t.output.closeLevel()}else t.output.append(r,b),t.tmp.probably_rendered_something=!0;return null}}},Nt.Token=function(t,e,i){this.name=t,this.strings={},this.strings.delimiter=undefined,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=e},Nt.Util.cloneToken=function(t){var e,i,r;if("string"==typeof t)return t;for(var s in e=new Nt.Token(t.name,t.tokentype),t.strings)t.strings.hasOwnProperty(s)&&(e.strings[s]=t.strings[s]);if(t.decorations)for(e.decorations=[],i=0,r=t.decorations.length;i<r;i+=1)e.decorations.push(t.decorations[i].slice());return t.variables&&(e.variables=t.variables.slice()),t.execs&&(e.execs=t.execs.slice(),t.tests&&(e.tests=t.tests.slice())),e},Nt.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},Nt.Blob=function(t,e,i){var r,s;if(this.levelname=i,e){for(var n in this.strings={prefix:"",suffix:""},e.strings)e.strings.hasOwnProperty(n)&&(this.strings[n]=e.strings[n]);for(this.decorations=[],r=e.decorations===undefined?0:e.decorations.length,s=0;s<r;s+=1)this.decorations.push(e.decorations[s].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof t?t:t?[t]:[],this.alldecor=[this.decorations]},Nt.Blob.prototype.push=function(t){"string"==typeof this.blobs?Nt.error("Attempt to push blob onto string object"):!1!==t&&(t.alldecor=t.alldecor.concat(this.alldecor),this.blobs.push(t))},Nt.NumericBlob=function(t,e,i,r){this.id=r,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=Nt.START,this.strings={},i?(this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new Nt.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))):(this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new Nt.Output.DefaultFormatter)},Nt.NumericBlob.prototype.setFormatter=function(t){this.formatter=t,this.type=this.formatter.format(1)},Nt.Output.DefaultFormatter=function(){},Nt.Output.DefaultFormatter.prototype.format=function(t){return t.toString()},Nt.NumericBlob.prototype.checkNext=function(t,e){e?(this.status=Nt.START,"object"===K(t)&&(t.num===this.num+1?t.status=Nt.SUCCESSOR:t.status=Nt.SEEN)):t&&t.num&&this.type===t.type&&t.num===this.num+1?this.status===Nt.START||this.status===Nt.SEEN?t.status=Nt.SUCCESSOR:this.status!==Nt.SUCCESSOR&&this.status!==Nt.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(t.status=Nt.SUCCESSOR_OF_SUCCESSOR,this.status=Nt.SUPPRESS):t.status=Nt.SUCCESSOR):(this.status===Nt.SUCCESSOR_OF_SUCCESSOR&&(this.status=Nt.END),"object"===K(t)&&(t.status=Nt.SEEN))},Nt.NumericBlob.prototype.checkLast=function(t){return(this.status===Nt.SEEN||t.num!==this.num-1&&this.status===Nt.SUCCESSOR)&&(this.status=Nt.SUCCESSOR,!0)},Nt.Util.fixDateNode=function(t,e,i){var r,s,n,a,o,l,u,p,c,h,f,m,d,g=this.cslXml.getAttributeValue(i,"lingo"),b=this.cslXml.getAttributeValue(i,"default-locale");if(this.build.date_key=!0,r=this.cslXml.getAttributeValue(i,"form"),g=b?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(i,"lingo"),!this.getDate(r,b))return t;var y=this.cslXml.getAttributeValue(i,"date-parts");for(var v in s=this.cslXml.getAttributeValue(i,"variable"),p=this.cslXml.getAttributeValue(i,"prefix"),c=this.cslXml.getAttributeValue(i,"suffix"),m=this.cslXml.getAttributeValue(i,"display"),d=this.cslXml.getAttributeValue(i,"cslid"),n=this.cslXml.nodeCopy(this.getDate(r,b)),this.cslXml.setAttribute(n,"lingo",this.opt.lang),this.cslXml.setAttribute(n,"form",r),this.cslXml.setAttribute(n,"date-parts",y),this.cslXml.setAttribute(n,"cslid",d),this.cslXml.setAttribute(n,"variable",s),this.cslXml.setAttribute(n,"default-locale",b),p&&this.cslXml.setAttribute(n,"prefix",p),c&&this.cslXml.setAttribute(n,"suffix",c),m&&this.cslXml.setAttribute(n,"display",m),h=this.cslXml.children(n))a=h[v],"date-part"===this.cslXml.nodename(a)&&(o=this.cslXml.getAttributeValue(a,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",o,"@default-locale","true"));for(var v in h=this.cslXml.children(i))if(a=h[v],"date-part"===this.cslXml.nodename(a))for(l in o=this.cslXml.getAttributeValue(a,"name"),f=this.cslXml.attributes(a))"@name"!==l&&(g&&g!==this.opt.lang&&-1<["@suffix","@prefix","@form"].indexOf(l)||(u=f[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",o,l,u)));if("year"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"month"),this.cslXml.deleteNodeByNameAttribute(n,"day");else if("year-month"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"day");else if("month-day"===this.cslXml.getAttributeValue(i,"date-parts")){for(var _=this.cslXml.children(n),x=1,w=this.cslXml.numberofnodes(_);x<w;x++)if("year"===this.cslXml.getAttributeValue(_[x],"name")){this.cslXml.setAttribute(_[x-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(n,"year")}return this.cslXml.insertChildNodeAfter(t,i,e,n)},Nt.dateMacroAsSortKey=function(t,e){Nt.dateAsSortKey.call(this,t,e,!0)},Nt.dateAsSortKey=function(t,e,i){var r,s,n,a,o,l,u,p=this.variables[0],c="empty";for(i&&t.tmp.extension&&(c="macro-with-date"),void 0===(r=e[p])&&((r={"date-parts":[[0]]}).year||(t.tmp.empty_date=!0)),"undefined"==typeof this.dateparts&&(this.dateparts=["year","month","day"]),r.raw?r=t.fun.dateparser.parseDateToArray(r.raw):r["date-parts"]&&(r=t.dateParseArray(r)),void 0===r&&(r={}),l=0,u=Nt.DATE_PARTS_INTERNAL.length;l<u;l+=1)if(n=0,"_end"===(a=s=Nt.DATE_PARTS_INTERNAL[l]).slice(-4)&&(a=a.slice(0,-4)),r[s]&&-1<this.dateparts.indexOf(a)&&(n=r[s]),"year"===s.slice(0,4)){var h="Y";"-"===(o=Nt.Util.Dates[a].numeric(t,n))[0]&&(h="X",o=o.slice(1),o=9999-parseInt(o,10)),t.output.append(Nt.Util.Dates[s.slice(0,4)].numeric(t,h+o),c)}else n=(n=Nt.Util.Dates[a]["numeric-leading-zeros"](t,n))||"00",t.output.append(n,c)},Nt.Engine.prototype.dateParseArray=function(t){var e,i,r,s;for(i in e={},t)if("date-parts"===i){1<(r=t["date-parts"]).length&&r[0].length!==r[1].length&&Nt.error("CSL data error: element mismatch in date range input."),s=["","_end"];for(var n=0,a=r.length;n<a;n+=1)for(var o=0,l=Nt.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(r[n][o],10))?e[Nt.DATE_PARTS[o]+s[n]]=undefined:e[Nt.DATE_PARTS[o]+s[n]]=parseInt(r[n][o],10)}else t.hasOwnProperty(i)&&("literal"===i&&"object"===K(t.literal)&&"string"==typeof t.literal.part?(Nt.debug("Warning: fixing up weird literal date value"),e.literal=t.literal.part):e[i]=t[i]);return e},Nt.Util.Names={},Nt.Util.Names.compareNamesets=Nt.NameOutput.prototype._compareNamesets,Nt.Util.Names.unInitialize=function(t,e){var i,r,s,n,a;if(!e)return"";for(s=e.split(/(?:\-|\s+)/),n=e.match(/(\-|\s+)/g),a="",i=0,r=s.length;i<r;i+=1)a+=s[i],i<r-1&&(a+=n[i]);return a},Nt.Util.Names.initializeWith=function(t,e,i,r){var s,n,a;if(!e)return"";if(i=i||"",-1<["Lord","Lady"].indexOf(e)||!e.match(Nt.STARTSWITH_ROMANESQUE_REGEXP)&&!i.match("%s"))return e;var o=e;!1===t.opt["initialize-with-hyphen"]&&(o=o.replace(/\-/g," "));for(var l=(o=(o=o.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"\u2013$1")).length-2;-1<l;l+=-1)"."===o.slice(l,l+1)&&" "!==o.slice(l+1,l+2)&&(o=o.slice(0,l)+". "+o.slice(l+1));if(n=o.match(/[\-\s]+/g),a=o.split(/[\-\s]+/),null===n){var u=a[0].match(/[^\.]+$/);u&&1===u[0].length&&u[0]!==u[0].toLowerCase()&&(a[0]+=".")}if(0===a.length)o=n;else for(o=[a[0]],l=1,s=a.length;l<s;l+=1)o.push(n[l-1]),o.push(a[l]);return a=o,(r?Nt.Util.Names.doNormalize(t,a,i):Nt.Util.Names.doInitialize(t,a,i)).replace(/\u2013([a-z])/g,"-$1")},Nt.Util.Names.doNormalize=function(t,e,i){var r,s;i=i||"";var n=[];for(r=0,s=e.length;r<s;r+=1)1<e[r].length&&"."===e[r].slice(-1)?(e[r]=e[r].slice(0,-1),n.push(!0)):1===e[r].length&&e[r].toUpperCase()===e[r]?n.push(!0):n.push(!1);for(r=0,s=e.length;r<s;r+=2)n[r]&&(r<e.length-2&&(e[r+1]="",n[r+2]||(e[r+1]=" "),1<e[r+2].length?e[r]=e[r]+i.replace(/\ufeff$/,""):e[r]=e[r]+i),r===e.length-1&&(e[r]=e[r]+i));return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},Nt.Util.Names.doInitialize=function(t,e,i){var r,s,n,a,o,l,u;for(r=0,s=e.length;r<s;r+=2)if(u=e[r])if(!(n=u.match(Nt.NAME_INITIAL_REGEXP))&&!u.match(Nt.STARTSWITH_ROMANESQUE_REGEXP)&&1<u.length&&i.match("%s")&&(n=u.match(/(.)(.*)/)),n&&n[2]&&n[3]&&(n[1]=n[1]+n[2],n[2]=""),n&&n[1].slice(0,1)===n[1].slice(0,1).toUpperCase()){var p="";if(n[2]){var c="";for(a=0,o=(l=n[2].split("")).length;a<o;a+=1){var h=l[a];if(h!==h.toUpperCase())break;c+=h}c.length<n[2].length&&(p=c.toLocaleLowerCase())}e[r]=n[1]+p,r<s-1?i.match("%s")?e[r]=i.replace("%s",e[r]):-1<e[r+1].indexOf("-")?e[r+1]=i+e[r+1]:e[r+1]=i:i.match("%s")?e[r]=i.replace("%s",e[r]):e.push(i)}else!u.match(Nt.ROMANESQUE_REGEXP)||n&&n[3]||(e[r]=" "+u);var f=e.join("");return f=f.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},Nt.Util.Names.getRawName=function(t){var e=[];return t.literal?e.push(t.literal):(t.given&&e.push(t.given),t.family&&e.push(t.family)),e.join(" ")},Nt.Util.Dates={},Nt.Util.Dates.year={},Nt.Util.Dates.year["long"]=function(t,e){return(e=e||("boolean"==typeof e?"":0)).toString()},Nt.Util.Dates.year.imperial=function(t,e,i){var r="";e=e||("boolean"==typeof e?"":0),i=i?"_end":"";var s=t.tmp.date_object["month"+i];for(s=s?""+s:"1";s.length<2;)s="0"+s;var n=t.tmp.date_object["day"+i];for(n=n?""+n:"1";n.length<2;)n="0"+n;var a,o,l=parseInt(e+s+n,10);if(18680908<=l&&l<19120730?(a="\u660e\u6cbb",o=1867):19120730<=l&&l<19261225?(a="\u5927\u6b63",o=1911):19261225<=l&&l<19890108?(a="\u662d\u548c",o=1925):19890108<=l&&(a="\u5e73\u6210",o=1988),a&&o){var u=a;t.sys.normalizeAbbrevsKey&&(u=t.sys.normalizeAbbrevsKey("number",a)),t.transform.abbrevs["default"].number[u]||t.transform.loadAbbreviation("default","number",u),t.transform.abbrevs["default"].number[u]&&(a=t.transform.abbrevs["default"].number[u]),r=a+(e-o)}return r},Nt.Util.Dates.year["short"]=function(t,e){if((e=e.toString())&&4===e.length)return e.substr(2)},Nt.Util.Dates.year.numeric=function(t,e){var i,r;for(e=(r=(e=""+e).match(/([0-9]*)$/))?(i=e.slice(0,-1*r[1].length),r[1]):(i=e,"");e.length<4;)e="0"+e;return i+e},Nt.Util.Dates.normalizeMonth=function(t,e){var i;if((t=""+(t=t||0)).match(/^[0-9]+$/)||(t=0),t=parseInt(t,10),e){var r={stub:"month-",num:t};if(r.num<1||24<r.num)r.num=0;else{for(;16<r.num;)r.num=r.num-4;12<r.num&&(r.stub="season-",r.num=r.num-12)}i=r}else(t<1||12<t)&&(t=0),i=t;return i},Nt.Util.Dates.month={},Nt.Util.Dates.month.numeric=function(t,e){return e=(e=Nt.Util.Dates.normalizeMonth(e))||""},Nt.Util.Dates.month["numeric-leading-zeros"]=function(t,e){if(e=Nt.Util.Dates.normalizeMonth(e))for(e=""+e;e.length<2;)e="0"+e;else e="";return e},Nt.Util.Dates.month["long"]=function(t,e,i,r){var s=Nt.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"long",0,0,!1,r)}else e="";return e},Nt.Util.Dates.month["short"]=function(t,e,i,r){var s=Nt.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"short",0,0,!1,r)}else e="";return e},Nt.Util.Dates.day={},Nt.Util.Dates.day.numeric=function(t,e){return e.toString()},Nt.Util.Dates.day["long"]=Nt.Util.Dates.day.numeric,Nt.Util.Dates.day["numeric-leading-zeros"]=function(t,e){for(e=(e=e||0).toString();e.length<2;)e="0"+e;return e.toString()},Nt.Util.Dates.day.ordinal=function(t,e,i){return t.fun.ordinalizer.format(e,i)},Nt.Util.Sort={},Nt.Util.Sort.strip_prepositions=function(t){var e;return"string"==typeof t&&(e=t.toLocaleLowerCase(),e=t.match(/^((a|an|the)\s+)/)),e&&(t=t.substr(e[1].length)),t},Nt.Util.substituteStart=function(t,e){var r,i,s,p,n,a,o;p=function p(t,e,i){i&&i.parallel&&(t.tmp.group_context.tip.parallel_result=i.parallel),i&&i.parallel_repeats&&(t.tmp.group_context.tip.parallel_repeats=i.parallel_repeats),i&&i.no_repeat_repeats&&(t.tmp.group_context.tip.no_repeat_repeats=i.no_repeat_repeats);for(var r=0,s=this.decorations.length;r<s;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){t.tmp.strip_periods+=1;break}},this.execs.push(p),this.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),o=["number","date","names"],("text"===this.name&&!this.postponed_macro||-1<o.indexOf(this.name))&&(r=function r(t,e,i){"author"===t.tmp.element_trace.value()||"names"===this.name?(!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area&&t.tmp.probably_rendered_something&&t.tmp.element_trace.push("suppress-me"),!t.tmp.just_looking&&i&&i["suppress-author"]&&(t.tmp.probably_rendered_something||t.tmp.element_trace.push("suppress-me"))):"date"===this.name?!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area&&t.tmp.probably_rendered_something&&t.tmp.element_trace.push("suppress-me"):!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area?!t.tmp.probably_rendered_something&&t.tmp.can_block_substitute||t.tmp.element_trace.push("suppress-me"):i&&i["suppress-author"]&&t.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(r)),i=this.strings.cls,this.strings.cls=!1,0===t.build.render_nesting_level&&("bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]?((s=new Nt.Token("group",Nt.START)).decorations=[["@display","left-margin"]],p=function p(t,e){t.tmp.render_seen||(s.strings.first_blob=e.id,t.output.startTag("bib_first",s))},s.execs.push(p),e.push(s)):-1<Nt.DISPLAY_CLASSES.indexOf(i)&&((s=new Nt.Token("group",Nt.START)).decorations=[["@display",i]],p=function p(t,e){s.strings.first_blob=e.id,t.output.startTag("bib_first",s)},s.execs.push(p),e.push(s)),t.build.cls=i),t.build.render_nesting_level+=1,1===t.build.substitute_level.value()&&(n=new Nt.Token("choose",Nt.START),Nt.Node.choose.build.call(n,t,e),p=function p(){return!!t.tmp.can_substitute.value()},(a=new Nt.Token("if",Nt.START)).tests||(a.tests=[]),a.tests.push(p),a.test=t.fun.match.any(this,t,a.tests),e.push(a)),t.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(p=function p(t,e,i){if(!t.tmp.just_looking&&!t.tmp.suppress_decorations){var r=new Nt.Token("text",Nt.START);r.decorations=[["@showid","true"]],t.output.startTag("variable_entry",r);var s=null;i&&(s=i.position),s=s||0;var n=0;i&&i.noteIndex&&(n=i.noteIndex);var a=0;i&&i["first-reference-note-number"]&&(a=i["first-reference-note-number"]);var o=0;i&&i["citation-number"]&&(o=i["citation-number"]);var l=0;i&&i.index&&(l=i.index);var u={itemData:e,variableNames:this.variables,context:t.tmp.area,xclass:t.opt.xclass,position:["first","subsequent","ibid","ibid-with-locator"][s],"note-number":n,"first-reference-note-number":a,"citation-number":o,index:l,mode:t.opt.mode};t.output.current.value().params=u}},this.execs.push(p))},Nt.Util.substituteEnd=function(t,e){var l,i,r,s,n,u;t.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(l=function l(t){t.tmp.just_looking||t.tmp.suppress_decorations||t.output.endTag("variable_entry")},this.execs.push(l)),l=function l(t){for(var e=0,i=this.decorations.length;e<i;e+=1)if("@strip-periods"===this.decorations[e][0]&&"true"===this.decorations[e][1]){t.tmp.strip_periods+=-1;break}},this.execs.push(l),t.build.render_nesting_level+=-1,0===t.build.render_nesting_level&&(t.build.cls?(l=function l(t){t.output.endTag("bib_first")},this.execs.push(l),t.build.cls=!1):"bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]&&(l=function l(t){t.tmp.render_seen||t.output.endTag("bib_first")},(i=new Nt.Token("group",Nt.END)).execs.push(l),e.push(i),(r=new Nt.Token("group",Nt.START)).decorations=[["@display","right-inline"]],l=function l(t){t.tmp.render_seen||(t.tmp.render_seen=!0,t.output.startTag("bib_other",r))},r.execs.push(l),e.push(r))),1===t.build.substitute_level.value()&&(s=new Nt.Token("if",Nt.END),e.push(s),n=new Nt.Token("choose",Nt.END),Nt.Node.choose.build.call(n,t,e)),("names"===this.name||"text"===this.name&&"title"!==this.variables_real)&&(new Nt.Token("text",Nt.SINGLETON),l=function l(t,e){if("bibliography"===t.tmp.area&&"string"==typeof t.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||e[this.variables_real])&&t.tmp.substituted_variable===this.variables_real){var i,r,s=t.bibliography.opt["subsequent-author-substitute-rule"];if(!t.tmp.suppress_decorations&&t.tmp.subsequent_author_substitute_ok&&t.tmp.rendered_name){if("partial-each"===s||"partial-first"===s){var n=!0,a=[];for(i=0,r=t.tmp.name_node.children.length;i<r;i+=1){var o=t.tmp.rendered_name[i];n&&t.tmp.last_rendered_name&&t.tmp.last_rendered_name.length>i-1&&o&&!o.localeCompare(t.tmp.last_rendered_name[i])?(u=new Nt.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[u],"partial-first"===s&&(n=!1)):n=!1,a.push(o)}t.tmp.last_rendered_name=a}else if("complete-each"===s){if(a=t.tmp.rendered_name.join(",")){if(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name))for(i=0,r=t.tmp.name_node.children.length;i<r;i+=1)u=new Nt.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[u];t.tmp.last_rendered_name=a}}else{(a=t.tmp.rendered_name.join(","))&&(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name)&&(u=new Nt.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.label_blob?t.tmp.name_node.top.blobs=[u,t.tmp.label_blob]:t.tmp.name_node.top.blobs.length?t.tmp.name_node.top.blobs[0].blobs=[u]:t.tmp.name_node.top.blobs=[u],t.tmp.substituted_variable=this.variables_real),t.tmp.last_rendered_name=a)}t.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(l)),("text"===this.name&&!this.postponed_macro||-1<["number","date","names"].indexOf(this.name))&&(l=function l(t,e){1<t.tmp.element_trace.mystack.length&&t.tmp.element_trace.pop()},this.execs.push(l))},Nt.Util.padding=function(t){var e=t.match(/\s*(-{0,1}[0-9]+)/);if(e)for((t=parseInt(e[1],10))<0&&(t=1e20+t),t=""+t;t.length<20;)t="0"+t;return t},Nt.Util.LongOrdinalizer=function(){},Nt.Util.LongOrdinalizer.prototype.init=function(t){this.state=t},Nt.Util.LongOrdinalizer.prototype.format=function(t,e){t<10&&(t="0"+t);var i=Nt.Engine.getField(Nt.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+t,"long",0,e);return i=i||this.state.fun.ordinalizer.format(t,e),this.state.tmp.cite_renders_content=!0,i},Nt.Util.Ordinalizer=function(t){this.state=t,this.suffixes={}},Nt.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var t=0;t<3;t+=1){var e=[undefined,"masculine","feminine"][t];this.suffixes[this.state.opt.lang][e]=[];for(var i=1;i<5;i+=1){var r=this.state.getTerm("ordinal-0"+i,"long",!1,e);if(void 0===r){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(r)}}}},Nt.Util.Ordinalizer.prototype.format=function(t,e){var i;i=""+(t=parseInt(t,10));var r="",s=[];if(e&&s.push(e),s.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var n;r=this.state.getTerm("ordinal",!1,0,e);for(var a=0,o=s.length;a<o;a+=1){n=s[a];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][i]&&l["whole-number"][i][n]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][i][n],!1,0,e):l["last-two-digits"][i.slice(i.length-2)]&&l["last-two-digits"][i.slice(i.length-2)][n]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][i.slice(i.length-2)][n],!1,0,e):l["last-digit"][i.slice(i.length-1)]&&l["last-digit"][i.slice(i.length-1)][n]&&(r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][i.slice(i.length-1)][n],!1,0,e)),r)break}}else e=e||undefined,this.state.fun.ordinalizer.init(),r=t/10%10==1||10<t&&t<20?this.suffixes[this.state.opt.lang][e][3]:t%10==1&&t%100!=11?this.suffixes[this.state.opt.lang][e][0]:t%10==2&&t%100!=12?this.suffixes[this.state.opt.lang][e][1]:t%10==3&&t%100!=13?this.suffixes[this.state.opt.lang][e][2]:this.suffixes[this.state.opt.lang][e][3];return i=i+=r},Nt.Util.Romanizer=function(){},Nt.Util.Romanizer.prototype.format=function(t){var e,i,r,s,n;if(e="",t<6e3)for((s=t.toString().split("")).reverse(),r=i=0,n=s.length,i=0;i<n;i+=1)r=parseInt(s[i],10),e=Nt.ROMAN_NUMERALS[i][r]+e;return e},Nt.Util.Suffixator=function(t){t=t||Nt.SUFFIX_CHARS,this.slist=t.split(",")},Nt.Util.Suffixator.prototype.format=function(t){var e;t+=1;var i="";do{e=t%26==0?26:t%26;i=this.slist[e-1]+i;t=(t-e)/26}while(0!==t);return i},Nt.Engine.prototype.processNumber=function(l,g,b){var t,y=this,e=",\\s+and\\s+|\\s+and\\s+";"en"!==this.opt.lang.slice(0,2)&&(e+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var i="\\s*&\\s*",v=new RegExp("^"+i+"$"),_=new RegExp("("+i+"|"+e+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),x=new RegExp("(?:"+i+"|"+e+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*|\\s*&\\s*)"),r=this.getTerm("and"),w=this.getTerm("and","symbol");function A(t,e,i,r){r=r||"";var s={};if(e||Nt.STATUTE_SUBDIV_STRINGS_REVERSE[b]||(e="var:"+b),e){var n=e.match(/(\s*)([^\s]+)(\s*)/);s.label=n[2],s.origLabel=t,s.labelSuffix=n[3]?n[3]:"",s.plural=0,s.labelVisibility=!1}return(n=i.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(s.particle=n[1]?n[1]:"",s.value=n[2]):(s.particle="",s.value=i),s.joiningSuffix=r.replace(/\s*-\s*/,"-"),s}function u(t,e,i){var r=t[i.pos],s=t[e].value,n="\\-"===r.joiningSuffix;s.particle&&s.particle!==r.particle&&(i.collapsible=!1);var a=s.match(/^[0-9]+([-,:a-zA-Z]*)$/),o=r.value.match(/^[0-9]+([-,:a-zA-Z]*)$/);if(s&&a&&o&&!n||(i.collapsible=!1,s&&o||(i.numeric=!1),n&&i.count--),(a&&a[1]||o&&o[1])&&(i.collapsible=!1),undefined===t[e].collapsible){for(var l=e,u=e+i.count;l<u;l++)isNaN(parseInt(t[l].value))&&!t[l].value.match(/^[ivxlcmIVXLCM]+$/)?t[l].collapsible=!1:t[l].collapsible=!0;i.collapsible=t[e].collapsible}var p=i.collapsible;for(l=i.pos,u=i.pos+i.count;l<u;l++)1<i.count&&p&&(t[l].plural=1),t[l].numeric=i.numeric,t[l].collapsible=i.collapsible}function p(t,e,i){"var:"!==i.label.slice(0,4)&&(0===i.pos?(-1<["locator","number","locator-extra"].indexOf(b)&&(y.getTerm(Nt.STATUTE_SUBDIV_STRINGS[i.label])||(t[i.pos].labelVisibility=!0)),-1===["locator","number","locator-extra"].indexOf(b)&&Nt.STATUTE_SUBDIV_STRINGS[i.label]!==b&&(t[0].labelVisibility=!0)):t[i.pos].labelVisibility=!0)}function c(t){return t.replace("\\-","-")}function s(t){var e=Nt.Util.cloneToken(l),i=new Nt.Token;y.tmp.just_looking||(i.decorations=e.decorations,e.decorations=[],i.strings.prefix=e.strings.prefix,e.strings.prefix="",i.strings.suffix=e.strings.suffix,e.strings.suffix="");var r=t.length?t[0].label:null;if(t.length){for(var s=0,n=t.length;s<n;s++){var a=t[s],o=Nt.Util.cloneToken(e);o.gender=l.gender,r===a.label&&(o.formatter=l.formatter),a.numeric&&(o.successor_prefix=a.successor_prefix),o.strings.suffix=o.strings.suffix+c(a.joiningSuffix),a.styling=o}y.tmp.just_looking||'"'===t[0].value.slice(0,1)&&'"'===t[t.length-1].value.slice(-1)&&(t[0].value=t[0].value.slice(1),t[t.length-1].value=t[t.length-1].value.slice(0,-1),i.decorations.push(["@quotes",!0]))}return i}function o(t,e){return"page"===t||-1<["locator","locator-extra"].indexOf(t)&&(-1<["p."].indexOf(e.label)||-1<["p."].indexOf(e.origLabel))}function h(t,e,i,r){var s=o(t,e);return function n(t,e){var i,r=!0;return-1<["locator","locator-extra"].indexOf(t)&&(i=e.origLabel?e.origLabel:e.label,r=!!y.getTerm(Nt.STATUTE_SUBDIV_STRINGS[i])),r}(t,e)&&"-"===i&&r&&((s||-1<["locator","locator-extra","issue","volume","edition","number"].indexOf(t))&&(i=(i=y.getTerm("page-range-delimiter"))||"\u2013"),"collection-number"===t&&(i=(i=y.getTerm("year-range-delimiter"))||"\u2013")),i}function a(t,e,i){if(!(e<1)&&2===i.count&&t[e-1].particle===t[e].particle)if("-"===t[e-1].joiningSuffix)if(!y.opt["page-range-format"]&&parseInt(t[e-1].value,10)>parseInt(t[e].value,10))t[e-1].joiningSuffix=h(b,t[e],t[e-1].joiningSuffix,!0);else{var r,s=t[e],n=(r=!o(b,s)||isNaN(parseInt(t[e-1].value))||isNaN(parseInt(t[e].value))?((""+t[e-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+t[e].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(t[e-1].joiningSuffix=y.getTerm("page-range-delimiter")),t[e-1].value+c(t[e-1].joiningSuffix)+t[e].value):(r=t[e-1].particle+t[e-1].value+" - "+t[e].particle+t[e].value,y.fun.page_mangler(r))).match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(n){var a=n[3];a=h(b,s,a,t[e].numeric),t[e-1].particle=n[1],t[e-1].value=n[2],t[e-1].joiningSuffix=a,t[e].particle=n[4],t[e].value=n[5]}i.count=0}else i.count=1}function n(t){if(l&&-1!==["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(b)){for(var e={count:0,label:null,lastHadRangeDelimiter:!1},i=0,r=t.length;i<r;i++){var s=t[i];if(s.collapsible)e.label===s.label&&"-"===s.joiningSuffix?e.count=1:e.label===s.label&&"-"!==s.joiningSuffix?(e.count++,2===e.count&&a(t,i,e)):e.label!==s.label?(e.label=s.label,e.count=1):(e.count=1,e.label=s.label);else{e.count=0,e.label=null;var n=s.numeric;s.joiningSuffix=h(b,s,s.joiningSuffix,n)}}2===e.count&&a(t,t.length-1,e)}}if(r===w&&(w="&"),l&&this.tmp.shadow_numbers[b]&&this.tmp.shadow_numbers[b].values.length)return n(E=this.tmp.shadow_numbers[b].values),void(this.tmp.shadow_numbers[b].masterStyling=s(E));if(this.tmp.shadow_numbers[b]||(this.tmp.shadow_numbers[b]={values:[]}),g){var f=Nt.LangPrefsMap[b];if(f){var m=this.opt["cite-lang-prefs"][f][0];t=(t=this.transform.getTextSubField(g,b,"locale-"+m,!0)).name}else t=g[b];if(t&&this.sys.getAbbreviation){var d=this.transform.loadAbbreviation(g.jurisdiction,"number",t);this.transform.abbrevs[d].number&&(this.transform.abbrevs[d].number[t]?t=this.transform.abbrevs[d].number[t]:"undefined"!=typeof this.transform.abbrevs[d].number[t]&&delete this.transform.abbrevs[d].number[t])}if(void 0!==t&&("string"==typeof t||"number"==typeof t)){"number"==typeof t&&(t=""+t);var E,O=Nt.STATUTE_SUBDIV_STRINGS_REVERSE[b];if(!this.tmp.shadow_numbers.values)!function T(t){for(var e=0,i=t.length-1;e<i;e++)!t[e].joiningSuffix&&t[e+1].label&&(t[e].joiningSuffix=" ")}(E=function S(t,e){e=e||"";var i=[];if(u=(t=function m(t){var e=(t=t.trim()).match(/^([^ ]+)/);if(e&&!Nt.STATUTE_SUBDIV_STRINGS[e[1]]){var i=null;(i=-1<["locator","locator-extra"].indexOf(b)?g.label?Nt.STATUTE_SUBDIV_STRINGS_REVERSE[g.label]:"p.":Nt.STATUTE_SUBDIV_STRINGS_REVERSE[b])&&(t=i+" "+t)}return t}(t)).match(_)){for(var r=0,s=u.length;r<s;r++)u[r].match(v)&&(u[r]=" "+w+" ");var n=t.split(x);for(var r in n)if((""+n[r]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;for(r=0,s=n.length-1;r<s;r++)i.push(n[r]),i.push(u[r]);i.push(n[n.length-1]),i=function d(t){for(var e=t.length-2;-1<e;e-=2)"-"===t[e]&&t[e-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&t[e+1].match(/^[,a-zA-Z]+$/)&&(t[e-1]=t.slice(e-1,e+2).join(""),t=t.slice(0,e).concat(t.slice(e+2)));return t}(i)}else i=[t];var a=[],o=e,l="";for(r=0,s=i.length;r<s;r+=2){var u;if(u=i[r].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/g)){for(var p=(n=i[r].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/)).length-1;0<p;p--)!n[p-1]||n[p].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&n[p-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(n[p-1]=n[p-1]+u[p-1]+n[p],n=n.slice(0,p).concat(n.slice(p+1)),u=u.slice(0,p-1).concat(u.slice(p)));if(0<u.length){var c=u[0].trim();!Nt.STATUTE_SUBDIV_STRINGS[c]||!y.getTerm(Nt.STATUTE_SUBDIV_STRINGS[c])||-1===["locator","number","locator-extra"].indexOf(b)&&Nt.STATUTE_SUBDIV_STRINGS[c]!==b?0===r&&(u=u.slice(1),n[0]=n[0]+" "+c+" "+n[1],n=n.slice(0,1).concat(n.slice(2))):l=c}p=0;for(var h=n.length;p<h;p++){if(n[p]||p===n.length-1)f=l===(o=u[p-1]?u[p-1]:o).trim()?"":l,t=n[p]?n[p].trim():"",p===n.length-1?a.push(A(f,o,t,i[r+1])):a.push(A(f,o,t))}}else{var f;f=l===o.trim()?"":l,a.push(A(f,o,i[r],i[r+1]))}}return a}(t,O)),function I(t){if(0!==t.length){for(var e=0,i=1,r=1,s=t.length;r<s;r++){var n=t[r-1],a=t[r];if(n.label===a.label&&n.particle==n.particle)i++;else(o=JSON.parse(JSON.stringify(t[e]))).pos=e,o.count=i,o.numeric=!0,u(t,e,o),n.label!==a.label&&p(t,0,o),e=r,i=1}var o;(o=JSON.parse(JSON.stringify(t[e]))).pos=e,o.count=i,o.numeric=!0,u(t,e,o),p(t,0,o),t.length&&t[0].numeric&&"number-of-"===b.slice(0,10)&&1<parseInt(g[b],10)&&(t[0].plural=1)}}(E),this.tmp.shadow_numbers[b].values=E;l&&(n(E),this.tmp.shadow_numbers[b].masterStyling=s(E)),function k(t,e,i){var r=t[e];i.length&&(r.numeric=i[0].numeric,r.collapsible=i[0].collapsible,r.plural=i[0].plural,r.label=Nt.STATUTE_SUBDIV_STRINGS[i[0].label],"number"===e&&"issue"===r.label&&y.getTerm("number")&&(r.label="number"))}(this.tmp.shadow_numbers,b,E)}}},Nt.Util.outputNumericField=function(t,e,i){t.output.openLevel(t.tmp.shadow_numbers[e].masterStyling);var r,s=t.tmp.shadow_numbers[e].values,n=s.length?s[0].label:null,a=t.tmp.shadow_numbers[e].labelForm;r=a||"short";for(var o=t.tmp.shadow_numbers[e].labelCapitalizeIfFirst,l=t.tmp.shadow_numbers[e].labelDecorations,u=null,p=0,c=s.length;p<c;p++){var h,f=s[p],m="";f.label&&(h="var:"===f.label.slice(0,4)?f.label.slice(4):Nt.STATUTE_SUBDIV_STRINGS[f.label])&&(m=f.label===n?t.getTerm(h,a,f.plural):t.getTerm(h,r,f.plural),o&&(m=Nt.Output.Formatters["capitalize-first"](t,m)));var d=-1;m&&(d=m.indexOf("%s"));var g,b=Nt.Util.cloneToken(f.styling);if(b.formatter=f.styling.formatter,b.type=f.styling.type,b.num=f.styling.num,b.gender=f.styling.gender,0<d&&d<m.length-2)b.strings.prefix+=m.slice(0,d),b.strings.suffix=m.slice(d+2)+b.strings.suffix;else if(f.labelVisibility)if(m||(m=f.label,h=f.label),0<d){var y=new Nt.Token;y.decorations=l,t.output.append(m.slice(0,d),y)}else d!==m.length-2&&-1!==d||t.output.append(m+f.labelSuffix,"empty");if(f.collapsible)"undefined"==typeof(g=f.value.match(/^[1-9][0-9]*$/)?new Nt.NumericBlob(f.particle,parseInt(f.value,10),b,i):new Nt.NumericBlob(f.particle,f.value,b,i)).gender&&(g.gender=t.locale[t.opt.lang]["noun-genders"][e]),t.output.append(g,"literal");else t.output.append(f.particle+f.value,b);if(0===d&&d<m.length-2&&(null===u&&(u=h),h!==u||p===s.length-1)){var v=new Nt.Token;v.decorations=l,t.output.append(m.slice(d+2),v)}u=h,t.tmp.term_predecessor=!0}t.output.closeLevel()},Nt.Util.PageRangeMangler={},Nt.Util.PageRangeMangler.getFunction=function(i,r){var e,l,u,n,p,s,a,o,c,h,f,m,d,g,b,y,v,_=i.getTerm(r+"-range-delimiter");e=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,n=function n(t){for(u=t.length,l=1;l<u;l+=2)"object"===K(t[l])&&(t[l]=t[l].join(""));var e=t.join("");return e=e.replace(/([^\\])\-/g,"$1"+i.getTerm(r+"-range-delimiter"))},p=function p(t){var e,i,r,s="\\s+\\-\\s+",n=new RegExp("([^\\\\])[-"+("-"===_?"":_)+"\\u2013]","g");t=t.replace(n,"$1 - ").replace(/\s+-\s+/g," - ");var a=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+s+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),o=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+s+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(e=t.match(a),0===(i=t.split(o)).length)r=e;else for(r=[i[0]],l=1,u=i.length;l<u;l+=1)r.push(e[l-1].replace(/\s*\-\s*/g,"-")),r.push(i[l]);return r},s=function s(t){for(h=p(t=""+t),u=h.length,l=1;l<u;l+=2)(f=h[l].match(e))&&(f[3]&&f[1]!==f[3]||(f[4].length<f[2].length&&(f[4]=f[2].slice(0,f[2].length-f[4].length)+f[4]),parseInt(f[2],10)<parseInt(f[4],10)&&(f[3]=_+(f[1]?f[1]:""),h[l]=f.slice(1)))),"string"==typeof h[l]&&(h[l]=h[l].replace(/\-/g,_));return h},a=function a(t,e,i){u=t.length;for(var r=1,s=t.length;r<s;r+=2)"object"===K(t[r])&&(t[r][3]=o(t[r][1],t[r][3],e,i),t[r][2].slice(1)===t[r][0]&&(t[r][2]=_));return n(t)},o=function o(t,e,i,r){if(i=i||0,m=(""+t).split(""),d=(""+e).split(""),(g=d.slice()).reverse(),m.length===d.length)for(var s=0,n=m.length;s<n;s+=1){if(!(m[s]===d[s]&&g.length>i)){if(i&&r&&3===g.length){var a=m.slice(0,s);a.reverse(),g=g.concat(a)}break}g.pop()}return g.reverse(),g.join("")},c=function c(t){for(u=t.length,l=1;l<u;l+=2)"object"===K(t[l])&&(f=t[l],b=parseInt(f[1],10),y=parseInt(f[3],10),100<b&&b%100&&parseInt(b/100,10)===parseInt(y/100,10)?f[3]=""+y%100:1e4<=b&&(f[3]=""+y%1e3)),f[2].slice(1)===f[0]&&(f[2]=_);return n(t)};var x=function x(t,e,i,r){return e(s(t=""+t),i,r)};return i.opt[r+"-range-format"]?"expanded"===i.opt[r+"-range-format"]?v=function v(t){return x(t,n)}:"minimal"===i.opt[r+"-range-format"]?v=function v(t){return x(t,a)}:"minimal-two"===i.opt[r+"-range-format"]?v=function v(t,e){return x(t,a,2,e)}:"chicago"===i.opt[r+"-range-format"]&&(v=function v(t){return x(t,c)}):v=function v(t){return x(t,n)},v},Nt.Util.FlipFlopper=function(g){var b=[],y={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{"true":"inner",inner:"true","false":"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{"true":"inner",inner:"true","false":"true"}}};y['("']=y[' "'],y["('"]=y[" '"];var t=g.getTerm("open-quote"),e=g.getTerm("close-quote"),i=g.getTerm("open-inner-quote"),r=g.getTerm("close-inner-quote");function n(t){for(var e=[],i=Object.keys(y),r=0,s=i.length;r<s;r++){var n=i[r];"quote"===y[t].type&&y[t]||e.push(n)}var a=y[t];return a.opener=new RegExp("^(?:"+e.map(function(t){return t.replace("(","\\(")}).join("|")+")"),a}t&&e&&-1===[' "'," '",'"',"'"].indexOf(t)&&(y[t]=JSON.parse(JSON.stringify(y[' "'])),y[t].opener=t,y[t].closer=e),i&&r&&-1===[' "'," '",'"',"'"].indexOf(i)&&(y[i]=JSON.parse(JSON.stringify(y[" '"])),y[i].opener=i,y[i].closer=r);var u=function(){for(var t={},e=Object.keys(y),i=0,r=e.length;i<r;i++){var s=e[i];t[s]=n(s)}return t}(),v=function(){var t=[],e=[],i={};for(var r in u)t.push(r),i[u[r].closer]=!0;for(var s=Object.keys(i),n=0,a=s.length;n<a;n++){var o=s[n];e.push(o)}var l=t.concat(e).map(function(t){return t.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+l+"))","g"),splitAll:new RegExp("(?:"+l+")","g"),open:new RegExp("(^(?:"+t.map(function(t){return t.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+e.join("|")+")$)")}}();function _(t,e){return t.match(v.open)?function r(t,e){var i=b[b.length-1];return!i||t.match(i.opener)?(b.push({type:u[t].type,opener:u[t].opener,closer:u[t].closer,pos:e}),!1):(b.pop(),b.push({type:u[t].type,opener:u[t].opener,closer:u[t].closer,pos:e}),{fixtag:i.pos})}(t,e):function s(t,e){var i=b[b.length-1];return i&&t===i.closer?(b.pop(),"nocase"===i.type&&{nocase:{open:i.pos,close:e}}):i?{fixtag:i.pos}:{fixtag:e}}(t,e)}var x=function x(l){var u=[];this.set=function(t){for(var e=y[t].attr,i=null,r=u.length-1;-1<r;r--){if((o=u[r])[0]===e){i=o;break}}if(!i){var s=[g[g.tmp.area].opt.layout_decorations].concat(l.alldecor);t:for(r=s.length-1;-1<r;r--){var n=s[r];if(n)for(var a=n.length-1;-1<a;a--){var o;if((o=n[a])[0]===e){i=o;break t}}}}i=i?[e,y[t].flipflop[i[1]]]:[e,y[t].outer],u.push(i)},this.pair=function(){return u[u.length-1]},this.pop=function(){u.pop()}};function w(t,e){if("'"===t){if(e&&e.match(/^[^\,\.\?\:\;\ ]/))return!0}else if(" '"===t&&e&&e.match(/^[\ ]/))return!0;return!1}this.processTags=function(t){var e=!1;" "!==(l=t.blobs).slice(0,1)||l.match(/^\s+[\'\"]/)||(e=!0);var i=new RegExp("("+Nt.ROMANESQUE_REGEXP.source+")\u2019("+Nt.ROMANESQUE_REGEXP.source+")","g"),r=function m(t){var e=[],i=(t=(t=t.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(v.matchAll);if(!i)return{tags:[],strings:[t],forcedSpaces:[]};for(var r=t.split(v.splitAll),s=0,n=i.length-1;s<n;s++)y[i[s]]&&(""===r[s+1]&&-1<['"',"'"].indexOf(i[s+1])?(i[s+1]=" "+i[s+1],e.push(!0)):e.push(!1));return{tags:i,strings:r,forcedSpaces:e}}(l=" "+l.replace(i,"$1'$2"));if(0!==r.tags.length){for(var s,n=!1,a=0,o=r.tags.length;a<o;a++){var l;if(w(h=r.tags[a],l=r.strings[a+1]))r.strings[a+1]=" '"===h?" \u2019"+r.strings[a+1]:"\u2019"+r.strings[a+1],r.tags[a]="";else{for(var u;u=_(h,a);){if(!(-1<Object.keys(u).indexOf("fixtag"))){if(u.nocase){r.tags[u.nocase.open]="",r.tags[u.nocase.close]="";break}break}if(h.match(v.close)&&"'"===h)r.strings[a+1]="\u2019"+r.strings[a+1],r.tags[a]="";else{var p=r.tags[u.fixtag];r.forcedSpaces[u.fixtag-1]&&(p=p.slice(1)),r.strings[u.fixtag+1]=p+r.strings[u.fixtag+1],r.tags[u.fixtag]=""}if(!(0<b.length))break;b.pop()}u&&(u.fixtag||0===u.fixtag)&&(r.strings[a+1]=r.tags[a]+r.strings[a+1],r.tags[a]="")}}for(a=b.length-1;-1<a;a--){var c=b[a].pos,h=r.tags[c];r.strings[c+1]=" '"===h||"'"===h?" \u2019"+r.strings[c+1]:r.tags[c]+r.strings[c+1],r.tags[c]="",b.pop()}for(a=r.tags.length-1;-1<a;a--)r.tags[a]||(r.tags=r.tags.slice(0,a).concat(r.tags.slice(a+1)),r.strings[a]=r.strings[a]+r.strings[a+1],r.strings=r.strings.slice(0,a+1).concat(r.strings.slice(a+2)));for(a=0,o=r.tags.length;a<o;a++){h=r.tags[a];var f=r.forcedSpaces[a-1];-1<[' "'," '",'("',"('"].indexOf(h)&&(n||(y[s=h].outer="true",y[{" '":' "',' "':" '",'("':"('","('":'("'}[s]].outer="inner",n=!0),f||(r.strings[a]+=h.slice(0,1)))}!function d(t,e,i){var h=!0,r=new x(t);t.blobs=[];var s=new function u(t){this.stack=[t],this.latest=t,this.addStyling=function(t,e){if(h&&(" "===t.slice(0,1)&&(t=t.slice(1))," "===t.slice(0,1)&&(t=t.slice(1)),h=!1),this.latest=this.stack[this.stack.length-1],e){if("string"==typeof this.latest.blobs)(c=new Nt.Blob).blobs=this.latest.blobs,c.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[c];var i=new Nt.Token;if((p=new Nt.Blob(null,i)).alldecor=this.latest.alldecor.slice(),"@class"===e[0]&&"nodecor"===e[1]){for(var r=[],s={},n=[g[g.tmp.area].opt.layout_decorations].concat(p.alldecor),a=n.length-1;-1<a;a--){var o=n[a];if(o)for(var l=o.length-1;-1<l;l--){var u=o[l];-1<["@font-weight","@font-style","@font-variant"].indexOf(u[0])&&!s[u[0]]&&("normal"!==e[1]&&(p.decorations.push([u[0],"normal"]),r.push([u[0],"normal"])),s[u[0]]=!0)}}p.alldecor.push(r)}else p.decorations.push(e),p.alldecor.push([e]);if(this.latest.blobs.push(p),this.stack.push(p),this.latest=p,t){var p;i=new Nt.Token;(p=new Nt.Blob(null,i)).blobs=t,p.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(p)}}else{var c;if(t)(c=new Nt.Blob).blobs=t,c.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(c)}},this.popStyling=function(){this.stack.pop()}}(t);if(e.strings.length){var n=e.strings[0];i&&(n=" "+n),s.addStyling(n)}for(var a=0,o=e.tags.length;a<o;a++){var l=e.tags[a];n=e.strings[a+1];l.match(v.open)?(r.set(l),s.addStyling(n,r.pair())):(r.pop(),s.popStyling(),s.addStyling(n))}}(t,r,e)}}},Nt.Output.Formatters=(f=new Nt.Doppeler('(?:\u2018|\u2019|\u201c|\u201d| "| \'|"|\'|[-\u2013\u2014/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',function(t){return t.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),m=new Nt.Doppeler("(?:[ \xa0\u2000-\u200b\u205f\u3000]+)"),d={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"},{passthrough:function v(t,e){return e},lowercase:function _(t,e){return b({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(e[i]=s.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},uppercase:function x(t,e){return b({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(e[i]=s.toUpperCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},sentence:function w(t,e){var n={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(n.isFirst?(e[i]=g(s),n.isFirst=!1):e[i]=s.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return b(n,e)},title:function A(t,e){var l={quoteState:[],capitaliseWords:function(t,e,i){if(t.trim()){for(var r=t.split(/[ \u00A0]+/),s=m.split(t),n=0,a=(r=s.strings).length;n<a;n++){var o=r[n];o&&(1<o.length&&!o.toLowerCase().match(l.skipWordsRex)?r[n]=g(r[n]):n===r.length-1&&"-"===i?r[n]=g(r[n]):l.isFirst?r[n]=g(r[n]):l.afterPunct&&(r[n]=g(r[n])),l.afterPunct=!1,l.isFirst=!1,l.lastWordPos={strings:e,words:n})}t=m.join(s)}return t},skipWordsRex:t.locale[t.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return b(l,e)},"capitalize-first":function E(t,e){var n={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];if(s&&n.isFirst){e[i]=g(s),n.isFirst=!1;break}}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return b(n,e)},"capitalize-all":function O(t,e){return b({quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(e[i]=g(s))}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)}}),Nt.Output.Formats=function(){},Nt.Output.Formats.prototype.html={text_escape:function(t){return(t=t||"").replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"\xa0 ").replace(Nt.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+Nt.SUPERSCRIPTS[t]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":Nt.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":Nt.Output.Formatters.passthrough,"@strip-periods/false":Nt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var i="";return t.sys.embedBibliographyEntry&&(i=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+e+"</div>\n"+i},"@display/block":function(t,e){return'\n\n    <div class="csl-block">'+e+"</div>\n"},"@display/left-margin":function(t,e){return'\n    <div class="csl-left-margin">'+e+"</div>"},"@display/right-inline":function(t,e){return'<div class="csl-right-inline">'+e+"</div>\n  "},"@display/indent":function(t,e){return'<div class="csl-indent">'+e+"</div>\n  "},"@showid/true":function(t,e,i){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;if(i)return'<span class="'+t.opt.nodenames[i]+'" cslid="'+i+'">'+e+"</span>";if(this.params&&"string"==typeof e){var r="";if(e){var s=e.match(Nt.VARIABLE_WRAPPER_PREPUNCT_REX);r=s[1],e=s[2]}var n="";return e&&-1<Nt.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))&&(n=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,r,e,n)}return e},"@URL/true":function(t,e){return'<a href="'+e+'">'+e+"</a>"},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),'<a href="'+i+'">'+e+"</a>"}},Nt.Output.Formats.prototype.text={text_escape:function(t){return t=t||""},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":Nt.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":Nt.Output.Formatters.passthrough,"@strip-periods/false":Nt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},Nt.Output.Formats.prototype.rtf={text_escape:function(t){return(t=t||"").replace(/([\\{}])/g,"\\$1").replace(Nt.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+Nt.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("\t").join("\\tab{}")},"@passthrough/true":Nt.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":Nt.Output.Formatters.passthrough,"@strip-periods/false":Nt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?Nt.Output.Formats.rtf.text_escape(t.getTerm("open-quote")):Nt.Output.Formats.rtf.text_escape(t.getTerm("open-quote"))+e+Nt.Output.Formats.rtf.text_escape(t.getTerm("close-quote"))},"@quotes/inner":function(t,e){return void 0===e?Nt.Output.Formats.rtf.text_escape("\u2019"):Nt.Output.Formats.rtf.text_escape(t.getTerm("open-inner-quote"))+e+Nt.Output.Formats.rtf.text_escape(t.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e},"@display/left-margin":function(t,e){return e+"\\tab "},"@display/right-inline":function(t,e){return e+"\r\n"},"@display/indent":function(t,e){return"\n\\tab "+e+"\\line\r\n"},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;var i="";if(e){var r=e.match(Nt.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],e=r[2]}var s="";return e&&-1<Nt.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,s)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},Nt.Output.Formats.prototype.asciidoc={text_escape:function(t){return(t=t||"").replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(Nt.SUPERSCRIPTS_REGEXP,function(t){return"^"+Nt.SUPERSCRIPTS[t]+"^"})},bibstart:"",bibend:"","@passthrough/true":Nt.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":Nt.Output.Formatters.passthrough,"@strip-periods/false":Nt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?"``":"``"+e+"''"},"@quotes/inner":function(t,e){return void 0===e?"`":"`"+e+"'"},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return" "+e},"@display/indent":function(t,e){return" "+e},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations||!this.params||"string"!=typeof e)return e;var i="";if(e){var r=e.match(Nt.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],e=r[2]}var s="";return e&&-1<Nt.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,s)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),i+"["+e+"]"}},Nt.Output.Formats.prototype.fo={text_escape:function(t){return(t=t||"").replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(Nt.SUPERSCRIPTS_REGEXP,function(t){return'<fo:inline vertical-align="super">'+Nt.SUPERSCRIPTS[t]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":Nt.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":Nt.Output.Formatters.passthrough,"@strip-periods/false":Nt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var i="";if(t.bibliography&&t.bibliography.opt&&t.bibliography.opt.hangingindent){var r=t.bibliography.opt.hangingindent;i=' start-indent="'+r+'em" text-indent="-'+r+'em"'}var s="";return t.sys.embedBibliographyEntry&&(s=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+i+">"+e+"</fo:block>\n"+s},"@display/block":function(t,e){return"\n  <fo:block>"+e+"</fo:block>\n"},"@display/left-margin":function(t,e){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+e+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function(t,e){return"<fo:table-cell>\n          <fo:block>"+e+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function(t,e){return'<fo:block margin-left="2em">'+e+"</fo:block>\n"},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations||!this.params||"string"!=typeof e)return e;var i="";if(e){var r=e.match(Nt.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],e=r[2]}var s="";return e&&-1<Nt.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,s)},"@URL/true":function(t,e){return"<fo:basic-link external-destination=\"url('"+e+"')\">"+e+"</fo:basic-link>"},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),"<fo:basic-link external-destination=\"url('"+i+"')\">"+e+"</fo:basic-link>"}},Nt.Output.Formats.prototype.latex={text_escape:function(t){return t=t||""},bibstart:"\\begin{thebibliography}{4}",bibend:"end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":Nt.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":Nt.Output.Formatters.passthrough,"@strip-periods/false":Nt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return"\\bibitem{"+t.sys.embedBibliographyEntry(this.item_id)+"}\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e,i){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},Nt.Output.Formats=new Nt.Output.Formats,Nt.Registry=function(t){this.debug=!1,this.state=t,this.registry={},this.reflist=[],this.refhash={},this.namereg=new Nt.Registry.NameReg(t),this.citationreg=new Nt.Registry.CitationReg(t),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new Nt.Registry.Comparifier(t,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(this.reflist[e]);return t}},Nt.Registry.prototype.init=function(t,e){if(this.oldseq={},e){this.uncited={};for(var i=0,r=t.length;i<r;i+=1)this.myhash[t[i]]||this.mylist.push(""+t[i]),this.uncited[t[i]]=!0,this.myhash[t[i]]=!0}else{for(var s in this.uncited)t.push(s);var n={};for(i=t.length-1;-1<i;i+=-1)n[t[i]]?t=t.slice(0,i).concat(t.slice(i+1)):n[t[i]]=!0;this.mylist=t,this.myhash=n}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},Nt.Registry.prototype.dopurge=function(t){for(var e=this.mylist.length-1;-1<e;e+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId[this.mylist[e]]||t[this.mylist[e]]||(delete this.myhash[this.mylist[e]],this.mylist=this.mylist.slice(0,e).concat(this.mylist.slice(e+1))));this.dodeletes(this.myhash)},Nt.Registry.prototype.dodeletes=function(t){var e,i,r,s,n,a,o;if("string"==typeof t){var l=t;(t={})[l]=!0}for(var l in this.registry)if(!t[l]){if(this.uncited[l])continue;for(n in this.namereg.delitems(l))this.refreshes[n]=!0;for(e=this.registry[l].ambig,-1<(a=this.ambigcites[e].indexOf(l))&&(s=this.ambigcites[e].slice(),this.ambigcites[e]=s.slice(0,a).concat(s.slice(a+1,s.length)),this.ambigresets[e]=this.ambigcites[e].length),r=this.ambigcites[e].length,i=0;i<r;i+=1)o=""+this.ambigcites[e][i],this.refreshes[o]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var u=this.registry[l].siblings[0];this.registry[u].master=!0,this.registry[u].siblings.pop(),this.registry[u].parallel=!1}else if(1<this.registry[l].siblings.length){var p=[l];if(this.registry[l].master){var c=this.registry[l].siblings[0],h=this.registry[c];h.master=!0,h.parallel=!1,p.push(c);for(var f=0,m=this.registry[l].siblings.length;f<m;f+=1)this.registry[this.registry[l].siblings[f]].parallel=c}var d=[];for(f=this.registry[l].siblings.length-1;-1<f;f+=-1){var g=this.registry[l].siblings.pop();-1===p.indexOf(g)&&d.push(g)}for(f=d.length-1;-1<f;f+=-1)this.registry[l].siblings.push(d[f])}for(var b=this.reflist.length-1;-1<b;b--)this.reflist[b].id===l&&(this.reflist=this.reflist.slice(0,b).concat(this.reflist.slice(b+1)));delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},Nt.Registry.prototype.doinserts=function(t){var e,i,r,s,n;"string"==typeof t&&(t=[t]);for(var a=0,o=t.length;a<o;a+=1)e=t[a],this.registry[e]||(i=this.state.retrieveItem(e),r=Nt.getAmbiguousCite.call(this.state,i),this.ambigsTouched[r]=!0,i.legislation_id||(this.akeys[r]=!0),s={id:""+e,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:i,newItem:!0},this.registry[e]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[e]&&(this.registry[e]["first-reference-note-number"]=this.citationreg.citationsByItemId[e][0].properties.noteIndex),n=Nt.getAmbigConfig.call(this.state),this.registerAmbigToken(r,e,n),this.touched[e]=!0,this.return_data.bibchange=!0)},Nt.Registry.prototype.rebuildlist=function(t){var e,i,r,s;if(t)for(this.reflist=[],e=this.mylist.length,i=0;i<e;i+=1)r=this.mylist[i],s=this.registry[r],this.reflist.push(s),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1;else for(this.reflist_inserts=[],e=this.mylist.length,i=0;i<e;i+=1)r=this.mylist[i],(s=this.registry[r]).newItem&&this.reflist_inserts.push(s),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1},Nt.Registry.prototype.dorefreshes=function(){var t;for(var e in this.refreshes)if(t=this.registry[e]){t.sortkeys=undefined,n=this.state.refetchItem(e);var i=t.ambig;for(var r in void 0===i&&(this.state.tmp.disambig_settings=!1,i=Nt.getAmbiguousCite.call(this.state,n),a=Nt.getAmbigConfig.call(this.state),this.registerAmbigToken(i,e,a)),this.ambigresets)if(1===this.ambigresets[r]){var s=this.ambigcites[i][0],n=this.state.refetchItem(s);this.registry[s].disambig=new Nt.AmbigConfig,this.state.tmp.disambig_settings=!1;i=Nt.getAmbiguousCite.call(this.state,n);var a=Nt.getAmbigConfig.call(this.state);this.registerAmbigToken(i,s,a)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[i]=!0,n.legislation_id||(this.akeys[i]=!0),this.touched[e]=!0}},Nt.Registry.prototype.setdisambigs=function(){for(var t in this.ambigsTouched)this.state.disambiguate.run(t);this.ambigsTouched={},this.akeys={}},Nt.Registry.prototype.renumber=function(){var t,e,i;for(this.state.bibliography_sort.opt.citation_number_sort_direction===Nt.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),t=this.reflist.length,e=0;e<t;e+=1)(i=this.reflist[e]).seq=e+1,this.state.bibliography_sort.opt.citation_number_sort_direction===Nt.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[i.seq]=this.reflist.length-i.seq+1),this.state.opt.update_mode===Nt.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.state.tmp.taintedItemIDs[i.id]=!0),i.seq!=this.oldseq[i.id]&&(this.return_data.bibchange=!0)},Nt.Registry.prototype.setsortkeys=function(){for(var t=0,e=this.mylist.length;t<e;t+=1){var i=this.mylist[t];!this.touched[i]&&!this.state.tmp.taintedItemIDs[i]&&this.registry[i].sortkeys||(this.registry[i].sortkeys=Nt.getSortKeys.call(this.state,this.state.retrieveItem(i),"bibliography_sort"))}},Nt.Registry.prototype._insertItem=function(t,e){return e.splice(this._locationOf(t,e)+1,0,t),e},Nt.Registry.prototype._locationOf=function(t,e,i,r){if(0===e.length)return-1;var s=(i=i||0)+(r=r||e.length)>>1,n=this.sorter.compareKeys(t,e[s]);if(r-i<=1)return-1==n?s-1:s;switch(n){case-1:return this._locationOf(t,e,i,s);case 0:return s;case 1:return this._locationOf(t,e,s,r)}},Nt.Registry.prototype.sorttokens=function(t){var e,i,r;if(!t){for(this.reflist_inserts=[],e=this.mylist.length,r=0;r<e;r+=1)i=this.mylist[r],(o=this.registry[i]).newItem&&this.reflist_inserts.push(o);for(var s in this.state.tmp.taintedItemIDs)if(this.registry[s]&&!this.registry[s].newItem)for(var n=this.reflist.length-1;-1<n;n--)this.reflist[n].id===s&&(this.reflist_inserts.push(this.reflist[n]),this.reflist=this.reflist.slice(0,n).concat(this.reflist.slice(n+1)));n=0;for(var a=this.reflist_inserts.length;n<a;n++){var o;delete(o=this.reflist_inserts[n]).newItem,this.reflist=this._insertItem(o,this.reflist)}for(r=0;r<e;r+=1)i=this.mylist[r],o=this.registry[i],this.registry[i].seq=r+1}},Nt.Registry.Comparifier=function(t,e){var r,s,n,i,a=Nt.getSortCompare(t.opt["default-locale-sort"]);r=t[e].opt.sort_directions,this.compareKeys=function(t,e){for(s=t.sortkeys?t.sortkeys.length:0,n=0;n<s;n+=1){var i=0;if(0<(i=t.sortkeys[n]===e.sortkeys[n]?0:"undefined"==typeof t.sortkeys[n]?r[n][1]:"undefined"==typeof e.sortkeys[n]?r[n][0]:a(t.sortkeys[n],e.sortkeys[n])))return r[n][1];if(i<0)return r[n][0]}return t.seq>e.seq?1:t.seq<e.seq?-1:0},i=this.compareKeys,this.compareCompositeKeys=function(t,e){return i(t[1],e[1])}},Nt.Registry.prototype.compareRegistryTokens=function(t,e){return t.seq>e.seq?1:t.seq<e.seq?-1:0},Nt.Registry.prototype.registerAmbigToken=function(t,e,i){if(this.registry[e]||Nt.debug("Warning: unregistered item: itemID=("+e+"), akey=("+t+")"),this.registry[e]&&this.registry[e].disambig&&this.registry[e].disambig.names)for(var r=0,s=i.names.length;r<s;r+=1){if(i.names[r]!==this.registry[e].disambig.names[r])this.state.tmp.taintedItemIDs[e]=!0;else if(i.givens[r])for(var n=0,a=i.givens[r].length;n<a;n+=1){i.givens[r][n]!==this.registry[e].disambig.givens[r][n]&&(this.state.tmp.taintedItemIDs[e]=!0)}}this.ambigcites[t]||(this.ambigcites[t]=[]),-1===this.ambigcites[t].indexOf(""+e)&&this.ambigcites[t].push(""+e),this.registry[e].ambig=t,this.registry[e].disambig=Nt.cloneAmbigConfig(i)},Nt.getSortKeys=function(t,e){var i,r,s,n,a,o;for(i=this.tmp.area,r=this.tmp.root,s=this.tmp.extension,n=Nt.Util.Sort.strip_prepositions,this.tmp.area=e,this.tmp.root=-1<e.indexOf("_")?e.slice(0,-5):e,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,Nt.getCite.call(this,t),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,a=this[e].keys.length,o=0;o<a;o+=1)this[e].keys[o]=n(this[e].keys[o]);return this.tmp.area=i,this.tmp.root=r,this.tmp.extension=s,this[e].keys},Nt.Registry.NameReg=function(u){var p,c,h,l,f,m,s,d,g,b,n,y;this.state=u,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},s=function s(t){return(t=t||"").replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},d=function d(t,e,i){p=s(i.family);var r=(h=s(i.given)).match(/[,\!]* ([^,]+)$/);r&&r[1]===r[1].toLowerCase()&&(h=h.replace(/[,\!]* [^,]+$/,"")),c=Nt.Util.Names.initializeWith(t,h,"%s"),"by-cite"===t.citation.opt["givenname-disambiguation-rule"]&&(p=""+e+p)},g=function g(t,e,i,r,s,n){var a;if("bibliography"===u.tmp.area.slice(0,12)&&!s)return"string"==typeof n?1:2;e=u.nameOutput.getName(e,"locale-translit",!0).name,d(this.state,""+t,e),a=2,l=u.opt["disambiguate-add-givenname"];var o=f=u.citation.opt["givenname-disambiguation-rule"];return"by-cite"===f&&(f="all-names"),"short"===s?a=0:"string"==typeof n&&(a=1),"undefined"==typeof this.namereg[p]||"undefined"==typeof this.namereg[p].ikey[c]?a:"by-cite"===o&&a<=r?r:l?"string"==typeof f&&"primary-name"===f.slice(0,12)&&0<i?a:(f&&"all-names"!==f&&"primary-name"!==f?"all-names-with-initials"!==f&&"primary-name-with-initials"!==f||(a=1<this.namereg[p].count?1:0):(1<this.namereg[p].count&&(a=1),(this.namereg[p].ikey&&1<this.namereg[p].ikey[c].count||1<this.namereg[p].count&&"string"!=typeof n)&&(a=2)),u.registry.registry[t]?a:"short"==s?0:"string"==typeof n?1:void 0):a},b=function b(t){var e,i,r,s,n;"string"!=typeof t&&"number"!=typeof t||(t=[""+t]);for(i=t.length,e=0;e<i;e+=1)if(s=""+t[e],this.nameind[s]){for(n in this.nameind[s])if(this.nameind[s].hasOwnProperty(n)){var a=n.split("::");if(p=a[0],c=a[1],h=a[2],"undefined"==typeof this.namereg[p])continue;if(m=this.namereg[p].items,h&&this.namereg[p].ikey[c]&&this.namereg[p].ikey[c].skey[h]&&(-1<(r=(y=this.namereg[p].ikey[c].skey[h].items).indexOf(s))&&(this.namereg[p].ikey[c].skey[h].items=y.slice(0,r).concat(y.slice([r+1]))),0===this.namereg[p].ikey[c].skey[h].items.length&&(delete this.namereg[p].ikey[c].skey[h],this.namereg[p].ikey[c].count+=-1,this.namereg[p].ikey[c].count<2)))for(var o=0,l=this.namereg[p].ikey[c].items.length;o<l;o+=1)u.tmp.taintedItemIDs[this.namereg[p].ikey[c].items[o]]=!0;if(c&&this.namereg[p].ikey[c]&&(-1<(r=this.namereg[p].ikey[c].items.indexOf(s))&&(m=this.namereg[p].ikey[c].items.slice(),this.namereg[p].ikey[c].items=m.slice(0,r).concat(m.slice([r+1]))),0===this.namereg[p].ikey[c].items.length&&(delete this.namereg[p].ikey[c],this.namereg[p].count+=-1,this.namereg[p].count<2)))for(o=0,l=this.namereg[p].items.length;o<l;o+=1)u.tmp.taintedItemIDs[this.namereg[p].items[o]]=!0;p&&(-1<(r=this.namereg[p].items.indexOf(s))&&(m=this.namereg[p].items.slice(),this.namereg[p].items=m.slice(0,r).concat(m.slice([r+1],m.length))),this.namereg[p].items.length<2&&delete this.namereg[p]),delete this.nameind[s][n]}delete this.nameind[s],delete this.nameindpkeys[s]}return{}},n=function n(t,e,i){if(e=u.nameOutput.getName(e,"locale-translit",!0).name,!u.citation.opt["givenname-disambiguation-rule"]||"primary-"!==u.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===i){if(d(this.state,""+t,e),p&&("undefined"==typeof this.namereg[p]?(this.namereg[p]={},this.namereg[p].count=0,this.namereg[p].ikey={},this.namereg[p].items=[t]):-1===this.namereg[p].items.indexOf(t)&&this.namereg[p].items.push(t)),p&&c)if("undefined"==typeof this.namereg[p].ikey[c]){if(this.namereg[p].ikey[c]={},this.namereg[p].ikey[c].count=0,this.namereg[p].ikey[c].skey={},this.namereg[p].ikey[c].items=[t],this.namereg[p].count+=1,2===this.namereg[p].count)for(var r=0,s=this.namereg[p].items.length;r<s;r+=1)u.tmp.taintedItemIDs[this.namereg[p].items[r]]=!0}else-1===this.namereg[p].ikey[c].items.indexOf(t)&&this.namereg[p].ikey[c].items.push(t);if(p&&c&&h)if("undefined"==typeof this.namereg[p].ikey[c].skey[h]){if(this.namereg[p].ikey[c].skey[h]={},this.namereg[p].ikey[c].skey[h].items=[t],this.namereg[p].ikey[c].count+=1,2===this.namereg[p].ikey[c].count)for(r=0,s=this.namereg[p].ikey[c].items.length;r<s;r+=1)u.tmp.taintedItemIDs[this.namereg[p].ikey[c].items[r]]=!0}else-1===this.namereg[p].ikey[c].skey[h].items.indexOf(t)&&this.namereg[p].ikey[c].skey[h].items.push(t);"undefined"==typeof this.nameind[t]&&(this.nameind[t]={},this.nameindpkeys[t]={}),p&&(this.nameind[t][p+"::"+c+"::"+h]=!0,this.nameindpkeys[t][p]=this.namereg[p])}},this.addname=n,this.delitems=b,this.evalname=g},Nt.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},Nt.Disambiguation=function(t){this.state=t,this.sys=this.state.sys,this.registry=t.registry.registry,this.ambigcites=t.registry.ambigcites,this.configModes(),this.debug=!1},Nt.Disambiguation.prototype.run=function(t){this.modes.length&&(this.debug&&print("[A] === RUN ==="),this.akey=t,this.initVars(t)&&this.runDisambig())},Nt.Disambiguation.prototype.runDisambig=function(){var t;for(this.debug&&print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),t=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(t);this.lists=this.lists.slice(1)}},Nt.Disambiguation.prototype.scanItems=function(t){var e;this.debug&&print("[2] === scanItems() ==="),this.Item=t[1][0],this.ItemCite=Nt.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=t[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var i=0,r=1,s=t[1].length;r<s;r+=1){e=t[1][r];var n=Nt.getAmbiguousCite.call(this.state,e,this.base,!0);this.debug&&1<r&&print("  -----------"),this.ItemCite===n?(this.debug&&(print("  [CLASH]--\x3e "+this.Item.id+": "+this.ItemCite),print("             "+e.id+": "+n)),i+=1,this.partners.push(e)):(this.debug&&(print("  [clear]--\x3e "+this.Item.id+": "+this.ItemCite),print("             "+e.id+": "+n)),this.nonpartners.push(e))}this.clashes[0]=this.clashes[1],this.clashes[1]=i},Nt.Disambiguation.prototype.evalScan=function(t){this[this.modes[this.modeindex]](t),t&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},Nt.Disambiguation.prototype.disNames=function(t){if(this.debug&&print("[3] == disNames() =="),0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [a]: lone partner, one nonpartner"),print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&print("  ** RESOLUTION [e]: no improvement, and clashes remain"),t&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&print("     (registering clashing entries because we've run out of options)");for(var e=0,i=this.partners.length;e<i;e+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[e].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},Nt.Disambiguation.prototype.disExtraText=function(){this.debug&&print("[3] === disExtraText ==");var t=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(t=!0),t||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(t||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(t||this.modeindex===this.modes.length-1){var e=this.lists[this.listpos][0];for(i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(e=this.lists[this.listpos][0]).disambiguate=!0;for(i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0}},Nt.Disambiguation.prototype.disYears=function(){var t;this.debug&&print("[3] === disYears =="),t=[];var e=this.lists[this.listpos][0];if(this.clashes[1])for(var i=0,r=this.state.registry.mylist.length;i<r;i+=1)for(var s=this.state.registry.mylist[i],n=0,a=this.lists[this.listpos][1].length;n<a;n+=1){var o;if((o=this.lists[this.listpos][1][n]).id==s){t.push(this.registry[o.id]);break}}t.sort(this.state.registry.sorter.compareKeys);for(var l=0,u=t.length;l<u;l+=1){e.year_suffix=""+l;var p=this.state.registry.registry[t[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+t[l].id,e),Nt.ambigConfigDiff(p,e)&&(this.state.tmp.taintedItemIDs[t[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},Nt.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&print("\n[1] === incrementDisambig() ==="),this.initGivens)return this.initGivens=!1;var t=!1,e=!0;if("disNames"===this.modes[this.modeindex]){e=!1,"number"!=typeof this.givensMax&&(e=!0);var i=!1;"number"!=typeof this.namesMax&&(i=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:e=!0),"number"==typeof this.namesMax&&e&&(this.state.opt["disambiguate-add-names"]?(i=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):i=!0):i=!0),"number"==typeof this.namesetsMax&&i&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(print("    ------------------"),print("    incremented values"),print("    ------------------"),print("    | gnameset: "+this.gnameset),print("    | gname: "+this.gname),print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):print("    | givens value: nil"),print("    | namesetsMax: "+this.namesetsMax),print("    | namesMax: "+this.namesMax),print("    | givensMax: "+this.givensMax)),"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&"undefined"!=typeof this.base.givens[this.gnameset]&&"undefined"!=typeof this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(t=!0,this.debug&&print("    MAXED"))}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return t},Nt.Disambiguation.prototype.initVars=function(t){var e,i,r;if(this.debug&&print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=t,this.maxNamesByItemId={},i=[],!(e=this.ambigcites[t])||!e.length)return!1;var s=this.state.refetchItem(""+e[0]);if(this.getCiteData(s),this.base=Nt.getAmbigConfig.call(this.state),e&&1<e.length){i.push([this.maxNamesByItemId[s.id],s]);for(var n=1,a=e.length;n<a;n+=1)s=this.state.refetchItem(""+e[n]),this.getCiteData(s,this.base),i.push([this.maxNamesByItemId[s.id],s]);i.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1].id>e[1].id?1:t[1].id<e[1].id?-1:0}),r=[];for(var n=0,a=i.length;n<a;n+=1)r.push(i[n][1]);this.lists.push([this.base,r]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+e[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},Nt.Disambiguation.prototype.padBase=function(t){for(var e=0,i=t.names.length;e<i;e+=1){t.givens[e]||(t.givens[e]=[]);for(var r=0,s=t.names[e];r<s;r+=1)t.givens[e][r]||(t.givens[e][r]=0)}},Nt.Disambiguation.prototype.configModes=function(){var t,e;this.modes=[],t=this.state.opt["disambiguate-add-givenname"],e=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||t&&"by-cite"===e)&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},Nt.Disambiguation.prototype.getCiteData=function(t,e){if(!this.maxNamesByItemId[t.id]){Nt.getAmbiguousCite.call(this.state,t,e),e=Nt.getAmbigConfig.call(this.state),this.maxNamesByItemId[t.id]=Nt.getMaxVals.call(this.state),this.state.registry.registry[t.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var i=0,r=this.state.registry.registry[t.id].disambig.givens.length;i<r;i+=1)this.state.registry.registry[t.id].disambig.givens[i]=this.state.tmp.disambig_settings.givens[i].slice();this.namesetsMax=this.state.registry.registry[t.id].disambig.names.length-1,this.base||(this.base=e,this.betterbase=Nt.cloneAmbigConfig(e)),e.names.length<this.base.names.length&&(this.base=e);for(i=0,r=e.names.length;i<r;i+=1)e.names[i]>this.base.names[i]&&(this.base.givens[i]=e.givens[i].slice(),this.base.names[i]=e.names[i],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,n=this.base.givens.length;s<n;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},Nt.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&"undefined"!=typeof this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},Nt.Engine.prototype.getJurisdictionList=function(t){for(var e=[],i=t.split(":"),r=i.length;0<r;r--)e.push(i.slice(0,r).join(":"));return-1===e.indexOf("us")&&e.push("us"),e},Nt.Engine.prototype.retrieveAllStyleModules=function(t){for(var e={},i=this.locale[this.opt.lang].opts["jurisdiction-preference"],r=(i=[""].concat(i=i||[])).length-1;-1<r;r--)for(var s=i[r],n=0,a=t.length;n<a;n++){var o=t[n];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,s);(l||s)&&!l||(this.opt.jurisdictions_seen[o]=!0),l&&(e[o]=l)}}return e},Nt.ParticleList=[["'s",n=[[null,[0,1]]]],["'s-",n],["'t",n],["a",n],["aan 't",a=[[null,[0,2]]]],["aan de",a],["aan den",a],["aan der",a],["aan het",a],["aan t",a],["aan",n],["ad-",l=[[null,[0,1]],[[0,1],null]]],["adh-",l],["af",l],["al",l],["al-",l],["am de",a],["am",n],["an-",l],["ar-",l],["as-",l],["ash-",l],["at-",l],["ath-",l],["auf dem",c=[[[0,2],null],[null,[0,2]]]],["auf den",c],["auf der",c],["auf ter",a],["auf",p=[[[0,1],null],[null,[0,1]]]],["aus 'm",c],["aus dem",c],["aus den",c],["aus der",c],["aus m",c],["aus",p],["aus'm",c],["az-",l],["a\u0161-",l],["a\u1e0d-",l],["a\u1e0f-",l],["a\u1e63-",l],["a\u1e6d-",l],["a\u1e6f-",l],["a\u1e93-",l],["ben",n],["bij 't",a],["bij de",a],["bij den",a],["bij het",a],["bij t",a],["bij",n],["bin",n],["boven d",a],["boven d'",a],["d",n],["d'",l],["da",l],["dal",n],["dal'",n],["dall'",n],["dalla",n],["das",l],["de die le",o=[[null,[0,3]]]],["de die",a],["de l",a],["de l'",a],["de la",h=[[null,[0,2]],[[0,1],[1,2]]]],["de las",h],["de le",a],["de li",u=[[null,[0,2]],[[0,2],null]]],["de van der",o],["de",l],["de'",l],["deca",n],["degli",l],["dei",l],["del",l],["dela",s=[[[0,1],null]]],["dell'",l],["della",l],["delle",l],["dello",l],["den",l],["der",l],["des",l],["di",l],["die le",a],["do",n],["don",n],["dos",l],["du",l],["ed-",l],["edh-",l],["el",l],["el-",l],["en-",l],["er-",l],["es-",l],["esh-",l],["et-",l],["eth-",l],["ez-",l],["e\u0161-",l],["e\u1e0d-",l],["e\u1e0f-",l],["e\u1e63-",l],["e\u1e6d-",l],["e\u1e6f-",l],["e\u1e93-",l],["het",n],["i",n],["il",s],["im",n],["in 't",a],["in de",a],["in den",a],["in der",u],["in het",a],["in t",a],["in",n],["l",n],["l'",n],["la",n],["las",n],["le",n],["les",l],["lo",l],["los",n],["lou",n],["of",n],["onder 't",a],["onder de",a],["onder den",a],["onder het",a],["onder t",a],["onder",n],["op 't",a],["op de",u],["op den",a],["op der",a],["op gen",a],["op het",a],["op t",a],["op ten",a],["op",n],["over 't",a],["over de",a],["over den",a],["over het",a],["over t",a],["over",n],["s",n],["s'",n],["sen",s],["t",n],["te",n],["ten",n],["ter",n],["tho",n],["thoe",n],["thor",n],["to",n],["toe",n],["tot",n],["uijt 't",a],["uijt de",a],["uijt den",a],["uijt te de",o],["uijt ten",a],["uijt",n],["uit 't",a],["uit de",a],["uit den",a],["uit het",a],["uit t",a],["uit te de",o],["uit ten",a],["uit",n],["unter",n],["v",n],["v.",n],["v.d.",n],["van 't",a],["van de l",o],["van de l'",o],["van de",a],["van de",a],["van den",a],["van der",a],["van gen",a],["van het",a],["van la",a],["van t",a],["van ter",a],["van van de",o],["van",l],["vander",n],["vd",n],["ver",n],["vom und zum",[[[0,3],null]]],["vom",l],["von 't",a],["von dem",c],["von den",c],["von der",c],["von t",a],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",c],["von",p],["voor 't",a],["voor de",a],["voor den",a],["voor in 't",o],["voor in t",o],["voor",n],["vor der",c],["vor",p],["z",s],["ze",s],["zu",p],["zum",l],["zur",l]],Nt.parseParticles=function(t){var e=(s=y(t.family))[1],i=s[2];t.family=e;var r=function l(t){var e=t.slice(-1);return t=t.trim()," "===e&&-1<["'","\u2019"].indexOf(t.slice(-1))&&(t+=" "),t}(i.join(""));r&&(t["non-dropping-particle"]=r),function u(t){if(!t.suffix&&t.given){var e=t.given.match(/(\s*,!*\s*)/);if(e){var i=t.given.indexOf(e[1]),r=t.given.slice(i+e[1].length),s=t.given.slice(i,i+e[1].length).replace(/\s*/g,"");"et al"!==r.replace(/\./g,"")||t["dropping-particle"]?(2===s.length&&(t["comma-suffix"]=!0),t.suffix=r):(t["dropping-particle"]=r,t["comma-dropping-particle"]=","),t.given=t.given.slice(0,i)}}}(t);var s,n=(s=y(t.given,!0))[1],a=s[2];t.given=n;var o=a.join("").trim();o&&(t["dropping-particle"]=o)},e.exports=Nt},{}],76:[function(t,e,i){"use strict";function l(t,e,i,r,s,n,a){try{var o=t[n](a),l=o.value}catch(u){return void i(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function r(o){return function(){var t=this,a=arguments;return new Promise(function(e,i){var r=o.apply(t,a);function s(t){l(r,e,i,s,n,"next",t)}function n(t){l(r,e,i,s,n,"throw",t)}s(undefined)})}}Object.defineProperty(i,"__esModule",{value:!0}),i.parseAsync=i.parse=void 0;var s=function m(t){return t&&t.__esModule?t:{"default":t}}(t("./json")),n=t("@citation-js/core");var a,o,u={checkContentType:!0,headers:{Accept:"application/vnd.citationstyles.csl+json"}},p=(a=r(regeneratorRuntime.mark(function d(e){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.util.fetchFileAsync(e,u);case 2:return i=t.sent,t.abrupt("return","[]"===i?{}:JSON.parse(i));case 4:case"end":return t.stop()}},d)})),function(t){return a.apply(this,arguments)}),c=(o=r(regeneratorRuntime.mark(function g(e){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(e).map(p));case 2:return i=t.sent,t.abrupt("return",i.map(s["default"]));case 4:case"end":return t.stop()}},g)})),function(t){return o.apply(this,arguments)});i.parseAsync=c;var h=function h(t){var e=n.util.fetchFile(t,u);return"[]"===e?{}:JSON.parse(e)},f=function f(t){return[].concat(t).map(h).map(s["default"])};i.parse=f},{"./json":79,"@citation-js/core":10}],77:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=void 0;var r=function r(t){return(Array.isArray(t)?t:t.trim().split(/(?:\s+)/g)).map(function(t){return"https://doi.org/".concat(t)})};i["default"]=i.parse=r},{}],78:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.formats=i.parsers=i.ref=void 0;var r=t("@citation-js/core"),s=u(t("./id")),n=u(t("./api")),a=u(t("./json")),o=u(t("./type"));function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t){if(t&&t.__esModule)return t;var e=l();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}i.ref="@doi";var p={id:s,api:n,json:a,type:o};i.parsers=p;var c={"@doi/api":{parse:n.parse,parseAsync:n.parseAsync,parseType:{dataType:"String",predicate:/^\s*(https?:\/\/(?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()/:A-Z0-9]+))\s*$/i,"extends":"@else/url"}},"@doi/id":{parse:s.parse,parseType:{dataType:"String",predicate:/^\s*(10.\d{4,9}\/[-._;()/:A-Z0-9]+)\s*$/i}},"@doi/list+text":{parse:s.parse,parseType:{dataType:"String",tokenList:/^10.\d{4,9}\/[-._;()/:A-Z0-9]+$/i}},"@doi/list+object":{parse:s.parse,parseType:{dataType:"Array",elementConstraint:"@doi/id"}},"@doi/type":{parse:o.parse}};i.formats=c,r.plugins.add("@doi",{input:c})},{"./api":76,"./id":77,"./json":79,"./type":80,"@citation-js/core":10}],79:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=void 0;var r=function n(t){return t&&t.__esModule?t:{"default":t}}(t("./type"));var s=function s(i){var t={type:(0,r["default"])(i.type)};return["submitted","issued","event-date","original-date","container","accessed"].forEach(function(t){var e=i[t];e&&e["date-parts"]&&"number"==typeof e["date-parts"][0]&&(e["date-parts"]=[e["date-parts"]])}),Object.assign({},i,t)};i["default"]=i.parse=s},{"./type":80}],80:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=void 0;var r={"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference"},s=function s(t){return r[t]||t};i["default"]=i.parse=s},{}],81:[function(t,e,i){e.exports={outputSpec:"mixed"}},{}],82:[function(t,e,i){"use strict";function a(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var r=t("@citation-js/date"),s=function l(t){return t&&t.__esModule?t:{"default":t}}(t("./spec/types"));var n=/^\d{4}-\d{4}$/,o={ANY:{toTarget:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.find(Boolean)},toSource:function(t){return[t]}},PAGE:{keepAll:!0,toTarget:function(t,e){return[t,e].filter(Boolean).join("-")},toSource:function(t){return t.replace(/[-\u2013\u2014]/g,"-")}},ISBN:{toTarget:function(t){return n.test(t)?[t]:[undefined,t]},toSource:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.find(Boolean)}},DATE:{toTarget:function(t){return t&&(0,r.parse)(t.split("/").slice(0,3).filter(Boolean).join("/"))},toSource:function(t){var i=Array(4).fill("");return t["date-parts"][0].forEach(function(t,e){i[e]=t}),t.season&&(i[3]=t.season),i.join("/")}},NAME:{toTarget:function(t){return t&&[].concat(t).map(function(t){var e=t.split(/, ?/),i=a(e,3),r=i[0],s=i[1],n=i[2];switch(e.length){case 3:return{family:r,given:s,suffix:n};case 2:return{family:r,given:s};case 1:if(-1<r.indexOf(" "))return{family:r};default:return{literal:t}}})},toSource:function(t){return t.map(function(t){return[t.family,t.given,t.suffix].filter(Boolean).join(", ")})}},KEYWORD:{toTarget:function(t){return t.join(",")},toSource:function(t){return t.split(",")}},ID:{toSource:function(t){return t.slice(0,20)}},TYPE:{toTarget:function(t){return s["default"].RIS[t]},toSource:function(t){return s["default"].CSL[t]}}};i["default"]=o},{"./spec/types":91,"@citation-js/date":44}],83:[function(t,e,i){e.exports={author:"NAME","collection-editor":"NAME",composer:"NAME","container-author":"NAME",director:"NAME",editor:"NAME","editorial-director":"NAME",interviewer:"NAME",illustrator:"NAME","original-author":"NAME",recipient:"NAME","reviewed-author":"NAME",translator:"NAME",accessed:"DATE",container:"DATE","event-date":"DATE",issued:"DATE","original-date":"DATE",submitted:"DATE",id:"ID","ISSN,ISBN":"ISBN",keyword:"KEYWORD",page:"PAGE",type:"TYPE"}},{}],84:[function(t,e,i){"use strict";var r=t("@citation-js/core"),s=function l(t){return t&&t.__esModule?t:{"default":t}}(t("./config")),n=t("./ris");var a=["A1","AV","BT","CP","ED","EP","ID","J1","JA","JF","JO","L2","L3","N2","T1","U1","U2","U3","U4","U5","U6","Y1"],o=["A4","AD","AN","C1","C2","C3","C4","C5","C6","C7","C8","CA","CN","DA","DB","DO","DP","ET","LA","LB","NV","OP","PY","RI","RN","SE","ST","SV","TA","TT"];r.plugins.add("@ris",{input:{"@ris/file":{parse:n.parse,parseType:{dataType:"String",predicate:/^TY {2}- /m}},"@ris/record":{parse:n.parseMixed,parseType:{dataType:"SimpleObject",propertyConstraint:{props:["TY"]}}},"@ris/new+record":{parse:n.parseNew,parseType:{"extends":"@ris/record",propertyConstraint:[{props:o,match:"some"},{props:a,match:"none"}]}},"@ris/old+record":{parse:n.parseOld,parseType:{"extends":"@ris/record",propertyConstraint:[{props:a,match:"some"},{props:o,match:"none"}]}}},config:s["default"],output:{ris:n.format}})},{"./config":81,"./ris":85,"@citation-js/core":10}],85:[function(t,e,i){"use strict";function a(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.parse=function b(t){var e,i,r=[],s=!0,n=!1,a=undefined;try{for(var o,l=t.split(/\r?\n/)[Symbol.iterator]();!(s=(o=l.next()).done);s=!0){var u=o.value;if(d.test(u)){var p=m(u.split(g),2),c=p[0],h=p[1];switch(c){case"ER":e=undefined,i=undefined;break;case"TY":e={},r.push(e);default:Array.isArray(e[c])?e[c].push(h):e[c]=e[c]?[e[c],h]:h,i=c}}else e&&i&&(e[i]+=" "+u.trim())}}catch(f){n=!0,a=f}finally{try{s||null==l["return"]||l["return"]()}finally{if(n)throw a}}return r},i.parseOld=function s(t){return f(u.SPECS.old).convertToTarget(t)},i.parseNew=function n(t){return f(u.SPECS["new"]).convertToTarget(t)},i.parseMixed=function y(t){return f(u.SPECS.mixed).convertToTarget(t)},i.format=function v(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=e.type,r=e.format,s=void 0===r?i||"text":r,n=t.map(f(u.SPECS[o["default"].outputSpec]).convertToSource);return"object"!==s?n.map(function(t){var i=[],r=function r(e){if("TY"===e)return"continue";i.push.apply(i,a([].concat(t[e]).map(function(t){return"".concat(e,"  - ").concat(t.toString().replace(/(.{70})/g,"$1\n"))})))};for(var e in t)r(e);return i.unshift("TY  - ".concat(t.TY)),i.push("ER  - "),i.join("\n")}).join("\n"):n};var l=t("@citation-js/core"),o=r(t("./config")),u=t("./spec"),p=r(t("./converters")),c=r(t("./dataTypes"));function r(t){return t&&t.__esModule?t:{"default":t}}var d=/^[A-Z][A-Z0-9] {2}-( |$)/,g=/ {2}-(?: |$)/,h=new Map;function f(t){if(!h.has(t)){var e=!0,i=!1,r=undefined;try{for(var s,n=t[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var a=s.value;a.target in c["default"]&&(a.convert=p["default"][c["default"][a.target]]),a.convert&&!0===a.convert.keepAll||Array.isArray(a.source)&&(a.convert?function(){var t=a.convert,e=t.toSource,i=t.toTarget;a.convert={toTarget:function(){var t;return i((t=p["default"].ANY).toTarget.apply(t,arguments))},toSource:function(){return p["default"].ANY.toSource(e.apply(void 0,arguments))}}}():a.convert=p["default"].ANY)}}catch(o){i=!0,r=o}finally{try{e||null==n["return"]||n["return"]()}finally{if(i)throw r}}h.set(t,new l.util.Translator(t))}return h.get(t)}},{"./config":81,"./converters":82,"./dataTypes":83,"./spec":87,"@citation-js/core":10}],86:[function(t,e,i){e.exports=[{source:["T1","BT"],target:"title",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],TI:!1},target:!1}},{source:"A1",target:"author",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"],AU:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["CONF"],C2:!1,DA:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["PAT"],C2:!1,DA:!1,PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["EBOOK"],C5:!1,PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHART","CPAPER","CTLG","DATA","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","PAMP","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"],DA:!1,PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["STAT"],DA:!1,PY:!1,Y2:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["AGGR","DBASE"],ET:!1,PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["CHAP","CLSWK","COMP","DICT","ECHAP","GOVDOC","MULTI","NEWS"],PY:!1},target:!1}},{source:"Y1",target:"issued",when:{source:{TY:["EJOUR"],PY:!1,SE:!1},target:!1}},{source:["JO","JF","J1"],target:"container-title",when:{source:{TY:["CONF"],C3:!1},target:!1}},{source:["JO","JF","J1"],target:"container-title",when:{source:{TY:["ABST","ANCIENT","BILL","BLOG","CHAP","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS","PAMP","PAT","SER","STAT","THES","UNBILL"],T2:!1},target:!1}},{source:"JA",target:"container-title-short",when:{source:{TY:["ABST","ANCIENT","BOOK","CHAP","CTLG","DATA","DICT","ENCYC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","PAMP","PCOMM","SER","STAND","STAT","UNPB"],J2:!1},target:!1}},{source:"N2",target:"abstract",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],AB:!1},target:!1}},{source:["SP","EP"],target:"page",when:{source:{TY:["BOOK"],SE:!1},target:!1}},{source:["SP","EP"],target:"page",when:{source:{TY:["ABST","AGGR","ANCIENT","BILL","CHAP","CONF","CPAPER","CTLG","DBASE","DICT","ECHAP","EJOUR","ENCYC","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","STAND","STAT","UNBILL","UNPB"],EP:!0},target:!1}},{source:"AV",target:"archive_location",when:{target:!1}},{source:"LK",target:"URL",when:{source:{TY:["HEAR"],L4:!1,UR:!1},target:!1}},{source:"LK",target:"URL",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],UR:!1},target:!1}}]},{}],87:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"TYPES",{enumerable:!0,get:function(){return r["default"]}}),i.SPECS=void 0;var r=o(t("./types")),s=o(t("./new")),n=o(t("./old")),a=o(t("./mixed"));function o(t){return t&&t.__esModule?t:{"default":t}}var l={"new":s["default"],old:n["default"],mixed:a["default"]};i.SPECS=l},{"./mixed":88,"./new":89,"./old":90,"./types":91}],88:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var r=n(t("./new")),s=n(t("./additions"));function n(t){return t&&t.__esModule?t:{"default":t}}var a=r["default"].concat(s["default"]);i["default"]=a},{"./additions":86,"./new":89}],89:[function(t,e,i){e.exports=[{source:"A2",target:"editor",when:{source:{TY:["ANCIENT","BLOG","CHAP","CONF","CPAPER","DICT","EBOOK","ECHAP","ENCYC","MUSIC","SER"]},target:{type:["chapter","entry-dictionary","entry-encyclopedia","musical_score","paper-conference","post-weblog"]}}},{source:"A2",target:"collection-editor",when:{source:{TY:["BOOK","CLSWK","COMP","EDBOOK","ELEC","MAP","MULTI","RPRT","UNPB"]},target:{type:["book","map","report","review-book","webpage"]}}},{source:"A2",target:"reporter",when:{source:{TY:["CASE"]},target:{type:["legal_case"]}}},{source:"A2",target:"recipient",when:{source:{TY:["ICOMM","PCOMM"]},target:{type:["personal_communication","post"]}}},{source:"A3",target:"collection-editor",when:{source:{TY:["ADVS","CHAP","CONF","EBOOK","MUSIC","SER","SLIDE","SOUND","VIDEO"]},target:{type:["chapter","musical_score","paper-conference","song","speech"]}}},{source:"A3",target:"illustrator",when:{source:{TY:["BLOG"]},target:{type:["post-weblog"]}}},{source:"A3",target:"editor",when:{source:{TY:["BOOK"]},target:{type:["book","review-book"]}}},{source:["A3","PB"],target:"publisher",when:{source:{TY:["RPRT"]},target:{type:["report"]}}},{source:"A4",target:"translator",when:{source:{TY:["ANCIENT","BOOK","CHAP","CLSWK","CTLG","DICT","EDBOOK","ENCYC","GRANT","PAMP"]},target:{type:["book","chapter","entry","entry-dictionary","entry-encyclopedia","pamphlet","review-book"]}}},{source:"AB",target:"abstract",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"AU",target:"author",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","book","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","manuscript","map","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"AU",target:"editor",when:{source:{TY:["EDBOOK"]},target:!1}},{source:"AU",target:"director",when:{source:{TY:["MPCT"]},target:{type:["broadcast","motion_picture"]}}},{source:"AU",target:"composer",when:{source:{TY:["MUSIC"]},target:{type:["musical_score"]}}},{source:"AU",target:"reporter",when:{source:{TY:["NEWS"]},target:{type:["article-newspaper"]}}},{source:"C1",target:"section",when:{source:{TY:["CHAP","ECHAP","SER"]},target:{type:["chapter"]}}},{source:"C1",target:"scale",when:{source:{TY:["MAP"]},target:{type:["map"]}}},{source:"C2",target:"PMCID",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"C2",target:"issue",when:{source:{TY:["NEWS"]},target:{type:["article-newspaper"]}}},{source:"C2",target:"number",when:{source:{TY:["SER"]},target:!1}},{source:["C2","DA"],target:"issued",when:{source:{TY:["CONF"]},target:{type:["paper-conference"]}}},{source:["C2","DA","PY"],target:"issued",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:"C3",target:"dimensions",when:{source:{TY:["ADVS","MAP","SLIDE","SOUND","VIDEO"]},target:{type:["map","song","speech"]}}},{source:"C3",target:"container-title",when:{source:{TY:["CONF"]},target:{type:["paper-conference"]}}},{source:"C3",target:"PMCID",when:{source:{TY:["EJOUR"]},target:!1}},{source:"C3",target:"jurisdiction",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["C3","M1"],target:"dimensions",when:{source:{TY:["ART"]},target:{type:["graphic"]}}},{source:"C5",target:"number",when:{source:{TY:["GRANT"]},target:!1}},{source:"C5",target:"dimensions",when:{source:{TY:["MULTI"]},target:!1}},{source:"C5",target:"references",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["C5","PB"],target:"publisher",when:{source:{TY:["STAT"]},target:!1}},{source:["C5","PY"],target:"issued",when:{source:{TY:["EBOOK"]},target:!1}},{source:"C6",target:"status",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:"C6",target:"issue",when:{source:{TY:["RPRT"]},target:{type:["report"]}}},{source:"C6",target:"volume",when:{source:{TY:["STAT"]},target:!1}},{source:"C7",target:"number",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"C7",target:"PMCID",when:{source:{TY:["EBOOK","ECHAP"]},target:!1}},{source:["C7","NV"],target:"number",when:{source:{TY:["EJOUR"]},target:!1}},{source:"CN",target:"call-number",when:{source:{TY:["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CTLG","DATA","DICT","EBOOK","ECHAP","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"CY",target:"event-place",when:{source:{TY:["CONF","CPAPER"]},target:{type:["paper-conference"]}}},{source:"DA",target:"accessed",when:{source:{TY:["AGGR","DBASE","EBOOK","EJOUR","MULTI"]},target:!1}},{source:["DA","PY"],target:"issued",when:{source:{TY:["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHART","CPAPER","CTLG","DATA","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","PAMP","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","bill","book","broadcast","dataset","entry","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:["DA","PY","Y2"],target:"issued",when:{source:{TY:["STAT"]},target:!1}},{source:["DA","Y2"],target:"accessed",when:{source:{TY:["ECHAP"]},target:!1}},{source:"DB",target:"source",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"DO",target:"DOI",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"ET",target:"edition",when:{source:{TY:["ADVS","ANCIENT","ART","BLOG","BOOK","CHAP","CLSWK","CONF","CTLG","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","GEN","GOVDOC","LEGAL","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","RPRT","SER","SLIDE","SOUND","VIDEO"]},target:{type:["article-magazine","article-newspaper","book","broadcast","chapter","entry","entry-dictionary","entry-encyclopedia","graphic","interview","legislation","map","motion_picture","musical_score","pamphlet","paper-conference","post-weblog","report","review-book","song","speech","treaty","webpage"]}}},{source:"ET",target:"version",when:{source:{TY:["CHART","COMP","DATA","EQUA","FIGURE"]},target:{type:["dataset","figure"]}}},{source:"ET",target:"medium",when:{source:{TY:["MANSCPT"]},target:{type:["manuscript"]}}},{source:["ET","PY"],target:"issued",when:{source:{TY:["AGGR","DBASE"]},target:!1}},{source:"ID",target:"id"},{source:"IS",target:"number-of-volumes",when:{source:{TY:["CHAP"]},target:{type:["chapter"]}}},{source:"IS",target:"issue",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"J2",target:"container-title-short",when:{source:{TY:["ABST","ANCIENT","BOOK","CHAP","CTLG","DATA","DICT","ENCYC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","PAMP","PCOMM","SER","STAND","STAT","UNPB"]},target:{type:["article","article-journal","article-magazine","book","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","legislation","manuscript","pamphlet","personal_communication","post","review","review-book"]}}},{source:"KW",target:"keyword",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:["L4","UR"],target:"URL",when:{source:{TY:["HEAR"]},target:!1}},{source:"LA",target:"language",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"LB",target:"citation-label",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"M1",target:"number",when:{source:{TY:["ADVS","AGGR","ANCIENT","BILL","CHART","DICT","EQUA","FIGURE","GEN","HEAR","SLIDE","SOUND","THES","UNBILL","UNPB","VIDEO"]},target:{type:["bill","entry-dictionary","figure","interview","song","speech","thesis","treaty"]}}},{source:"M1",target:"collection-number",when:{source:{TY:["BOOK","CLSWK","CTLG","EDBOOK","PAMP","SER"]},target:{type:["book","entry","pamphlet","review-book"]}}},{source:"M1",target:"issue",when:{source:{TY:["CONF","EJOUR","GOVDOC","MGZN"]},target:{type:["article-magazine","paper-conference"]}}},{source:"M1",target:"chapter-number",when:{source:{TY:["ECHAP"]},target:!1}},{source:"M1",target:"status",when:{source:{TY:["GRANT"]},target:!1}},{source:"M1",target:"page-first",when:{source:{TY:["LEGAL","NEWS","STAND"]},target:{type:["article-newspaper","legislation"]}}},{source:["M1","NV"],target:"number",when:{source:{TY:["ICOMM","MANSCPT","PCOMM","STAT"]},target:{type:["manuscript","personal_communication","post"]}}},{source:["M1","SE","SN"],target:"number",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["M1","SN"],target:"number",when:{source:{TY:["RPRT"]},target:{type:["report"]}}},{source:["M1","VL"],target:"accessed",when:{source:{TY:["ELEC"]},target:{type:["webpage"]}}},{source:"M2",target:"page-first",when:{source:{TY:["ABST","INPR","JFULL","JOUR"]},target:{type:["article","article-journal","review"]}}},{source:"M2",target:"number-of-pages",when:{source:{TY:["PAMP"]},target:{type:["pamphlet"]}}},{source:"M3",target:"genre",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BOOK","CHART","CLSWK","COMP","CPAPER","CTLG","DBASE","DICT","ECHAP","EDBOOK","EJOUR","EQUA","FIGURE","GEN","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","book","entry","entry-dictionary","figure","graphic","interview","legislation","manuscript","map","pamphlet","patent","personal_communication","post","report","review","review-book","song","speech","thesis","treaty"]}}},{source:"M3",target:"medium",when:{source:{TY:["BLOG","EBOOK","ELEC","MPCT","MUSIC"]},target:{type:["broadcast","motion_picture","musical_score","post-weblog","webpage"]}}},{source:["N1","RN"],target:"note",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PCOMM","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","personal_communication","post","post-weblog","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:["N1","RN","RP"],target:"note",when:{source:{TY:["PAT","RPRT"]},target:{type:["patent","report"]}}},{source:"NV",target:"number-of-volumes",when:{source:{TY:["ANCIENT","BOOK","CLSWK","CONF","DICT","ECHAP","EDBOOK","ENCYC","GEN","HEAR","MUSIC","SER"]},target:{type:["book","entry-dictionary","entry-encyclopedia","interview","musical_score","paper-conference","review-book","treaty"]}}},{source:"NV",target:"number",when:{source:{TY:["CTLG","DATA"]},target:{type:["dataset","entry"]}}},{source:"NV",target:"version",when:{source:{TY:["EBOOK"]},target:!1}},{source:"NV",target:"dimensions",when:{source:{TY:["GRANT"]},target:!1}},{source:"NV",target:"collection-number",when:{source:{TY:["RPRT"]},target:{type:["report"]}}},{source:"OP",target:"original-title",when:{source:{TY:["ABST","AGGR","ANCIENT","BOOK","CHAP","CLSWK","CTLG","DICT","EBOOK","ECHAP","EDBOOK","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","PAMP","SER"]},target:{type:["article","article-journal","article-magazine","book","chapter","entry","entry-dictionary","entry-encyclopedia","interview","musical_score","pamphlet","review","review-book","treaty"]}}},{source:"OP",target:"references",when:{source:{TY:["BILL","CASE","HEAR","LEGAL","STAT","UNBILL"]},target:{type:["bill","legal_case","legislation"]}}},{source:"PB",target:"publisher",when:{source:{TY:["ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","LEGAL","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PCOMM","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},target:{type:["article-magazine","article-newspaper","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","map","motion_picture","musical_score","pamphlet","paper-conference","personal_communication","post","post-weblog","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"PB",target:"authority",when:{source:{TY:["CASE"]},target:{type:["legal_case"]}}},{source:"PB",target:"archive",when:{source:{TY:["MANSCPT"]},target:{type:["manuscript"]}}},{source:"PY",target:"issued",when:{source:{TY:["CHAP","CLSWK","COMP","DICT","ECHAP","GOVDOC","MULTI","NEWS"]},target:{type:["article-newspaper","chapter","entry-dictionary"]}}},{source:"PY",target:"event-date",when:{source:{TY:["CONF"]},target:{type:["paper-conference"]}}},{source:["PY","SE"],target:"issued",when:{source:{TY:["EJOUR"]},target:!1}},{source:"RI",target:"reviewed-title",when:{source:{TY:["ABST","ANCIENT","CHAP","DICT","EBOOK","ECHAP","EJOUR","ENCYC","GEN","GRANT","INPR","JFULL","JOUR","MGZN","NEWS","SER"]},target:{type:["article","article-journal","article-magazine","article-newspaper","chapter","entry-dictionary","entry-encyclopedia","interview","review","treaty"]}}},{source:"RI",target:"locator",when:{source:{TY:["STAT"]},target:!1}},{source:"SE",target:"section",when:{source:{TY:["BILL","GEN","GOVDOC","MUSIC","NEWS","STAT","UNBILL"]},target:{type:["article-newspaper","bill","interview","musical_score","treaty"]}}},{source:"SE",target:"number",when:{source:{TY:["BLOG"]},target:{type:["post-weblog"]}}},{source:"SE",target:"chapter-number",when:{source:{TY:["CHAP","SER"]},target:{type:["chapter"]}}},{source:"SE",target:"page",when:{source:{TY:["BOOK"]},target:{type:["book","review-book"]}}},{source:"SE",target:"submitted",when:{source:{TY:["CASE"]},target:{type:["legal_case"]}}},{source:"SE",target:"number-of-pages",when:{source:{TY:["CTLG"]},target:{type:["entry"]}}},{source:"SE",target:"original-date",when:{source:{TY:["DATA"]},target:{type:["dataset"]}}},{source:"SE",target:"version",when:{source:{TY:["DICT"]},target:{type:["entry-dictionary"]}}},{source:"SE",target:"locator",when:{source:{TY:["STAND"]},target:!1}},{source:"SE",target:"page-first",when:{source:{TY:["MANSCPT","MGZN"]},target:{type:["article-magazine","manuscript"]}}},{source:["SE","T2"],target:"locator",when:{source:{TY:["LEGAL"]},target:{type:["legislation"]}}},{source:"SN",target:["ISBN","ISSN"],when:{source:{TY:["AGGR","CLSWK","GEN"]},target:{type:["interview","treaty"]}}},{source:"SN",target:"ISBN",when:{source:{TY:["ADVS","ANCIENT","BLOG","BOOK","CHAP","COMP","CONF","CTLG","DICT","EBOOK","ECHAP","EDBOOK","ELEC","ENCYC","HEAR","MAP","PAMP","SER","SLIDE","SOUND","VIDEO"]},target:{type:["book","chapter","entry","entry-dictionary","entry-encyclopedia","map","pamphlet","paper-conference","post-weblog","review-book","song","speech","webpage"]}}},{source:"SN",target:"ISSN",when:{source:{TY:["ABST","DATA","EJOUR","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS"]},target:{type:["article","article-journal","article-magazine","article-newspaper","dataset","musical_score","review"]}}},{source:"SN",target:"number",when:{source:{TY:["DBASE","GOVDOC"]},target:!1}},{source:["SN","T3"],target:"number",when:{source:{TY:["LEGAL","STAND"]},target:{type:["legislation"]}}},{source:"SP",target:"page",when:{source:{TY:["ABST","AGGR","ANCIENT","BILL","CHAP","CONF","CPAPER","CTLG","DBASE","DICT","ECHAP","EJOUR","ENCYC","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","STAND","STAT","UNBILL","UNPB"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","chapter","entry","entry-dictionary","entry-encyclopedia","interview","legislation","manuscript","musical_score","pamphlet","paper-conference","patent","personal_communication","post","report","review","treaty"]}}},{source:"SP",target:"number-of-pages",when:{source:{TY:["BOOK","CLSWK","EBOOK","EDBOOK","THES"]},target:{type:["book","review-book","thesis"]}}},{source:"SP",target:"page-first",when:{source:{TY:["CASE"]},target:{type:["legal_case"]}}},{source:"SP",target:"dimensions",when:{source:{TY:["MPCT"]},target:{type:["broadcast","motion_picture"]}}},{source:"ST",target:"title-short",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CLSWK","COMP","CONF","CTLG","DATA","DICT","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","graphic","interview","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"SV",target:"collection-number",when:{source:{TY:["CHAP"]},target:{type:["chapter"]}}},{source:"T2",target:"collection-title",when:{source:{TY:["AGGR","BOOK","CLSWK","COMP","CTLG","DBASE","ELEC","MANSCPT","MAP","MPCT","MULTI","RPRT","UNPB"]},target:{type:["book","broadcast","entry","manuscript","map","motion_picture","report","review-book","webpage"]}}},{source:"T2",target:"container-title",when:{source:{TY:["ABST","ANCIENT","BILL","BLOG","CHAP","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS","PAMP","PAT","SER","STAT","THES","UNBILL"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","chapter","entry-dictionary","entry-encyclopedia","interview","musical_score","pamphlet","patent","post-weblog","review","thesis","treaty"]}}},{source:"T2",target:"event",when:{source:{TY:["CONF","CPAPER"]},target:{type:["paper-conference"]}}},{source:"T2",target:"committee",when:{source:{TY:["HEAR"]},target:!1}},{source:"T2",target:"section",when:{source:{TY:["STAND"]},target:!1}},{source:"T3",target:"collection-title",when:{source:{TY:["ADVS","ANCIENT","CHAP","CONF","DATA","EBOOK","ECHAP","EJOUR","GEN","GOVDOC","MUSIC","SER","SLIDE","SOUND","VIDEO"]},target:{type:["chapter","dataset","interview","musical_score","paper-conference","song","speech","treaty"]}}},{source:"TI",target:"title",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"TY",target:"type"},{source:"UR",target:"URL",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"VL",target:"volume",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","BILL","BOOK","CASE","CHAP","CLSWK","CONF","CPAPER","CTLG","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","GOVDOC","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","RPRT","SER","SLIDE","SOUND","STAND","UNBILL","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","chapter","entry","entry-dictionary","entry-encyclopedia","interview","legal_case","legislation","manuscript","musical_score","paper-conference","report","review","review-book","song","speech","treaty"]}}},{source:"VL",target:"dimensions",when:{source:{TY:["CHART","EQUA","FIGURE"]},target:{type:["figure"]}}},{source:"VL",target:"edition",when:{source:{TY:["COMP"]},target:!1}},{source:"VL",target:"number",when:{source:{TY:["PAMP"]},target:{type:["pamphlet"]}}},{source:"VL",target:"version",when:{source:{TY:["PAT"]},target:{type:["patent"]}}},{source:["VL","Y2"],target:"accessed",when:{source:{TY:["BLOG"]},target:{type:["post-weblog"]}}},{source:"Y2",target:"accessed",when:{source:{TY:["ABST","ADVS","ANCIENT","ART","BILL","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DICT","EDBOOK","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"]},target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","report","review","review-book","song","speech","thesis","treaty"]}}},{source:"C4",target:"author",when:{source:{TY:["BOOK","CHAP","EBOOK","ECHAP","EJOUR"]},target:{"reviewed-author":!0,type:["book","chapter","review-book","review"]}}},{source:"AU",target:"reviewed-author",when:{source:{C4:!0,TY:["BOOK","CHAP","EBOOK","ECHAP","EJOUR"]},target:{type:["book","chapter","review-book","review"]}}},{source:"TA",target:"author",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{"original-author":!0,translator:!0,type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"AU",target:"original-author",when:{source:{TA:!0,TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{translator:!0,type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"TT",target:"title",when:{source:{TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{"original-author":!0,translator:!0,type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"TI",target:"original-title",when:{source:{TT:!0,TY:["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},target:{translator:!0,type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}}]},{}],90:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=void 0;var r=function n(t){return t&&t.__esModule?t:{"default":t}}(t("../converters.js"));var s=[{source:"TY",target:"type"},{source:"ID",target:"id"},{source:["T1","TI","CT"],target:"title"},{source:"BT",target:"title",when:{source:{type:["BOOK","UNPB"],T1:!1,TI:!1,CT:!1},target:!1}},{source:"T2",target:"container-title",when:{target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"BT",target:"container-title",when:{source:{type:["ABST","ADVS","ART","BILL","CASE","CHAP","COMP","CONF","CTLG","DATA","ELEC","GEN","HEAR","ICOMM","INPR","JFULL","JOUR","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAT","THES","UNBILL","VIDEO"],T2:!1},target:!1}},{source:"T3",target:"collection-title"},{source:["A1","AU"],target:"author"},{source:["A2","ED"],target:"editor"},{source:"A3",target:"collection-editor"},{source:["Y1","PY"],target:"issued"},{source:"Y2",target:"event-date",convert:r["default"].DATE,when:{source:{type:["CONF","CPAPER"]},target:{type:["paper-conference"]}}},{source:"Y2",target:"submitted",convert:r["default"].DATE,when:{source:{type:["PAT"]},target:{type:"patent"}}},{source:["AB","N1"],target:"note"},{source:"N2",target:"abstract"},{source:"KW",target:"keyword"},{source:["JF","JO"],target:"container-title",convert:r["default"].ANY,when:{target:{type:["article","article-journal","article-magazine","article-newspaper"]}}},{source:["JA","J1","J2"],target:"container-title-short"},{source:"VL",target:"volume"},{source:["IS","CP"],target:"issue"},{source:"SP",target:"page-first"},{source:["SP","EP"],target:"page",convert:r["default"].PAGE,when:{source:{SP:!0,EP:!0}}},{source:"PB",target:"publisher"},{source:"SN",target:["ISSN","ISBN"]},{source:"AV",target:"archive_location"},{source:"UR",target:"URL"}];i["default"]=s},{"../converters.js":82}],91:[function(t,e,i){e.exports={RIS:{ABST:"article-journal",ADVS:"motion_picture",AGGR:"dataset",ANCIENT:"manuscript",ART:"graphic",BILL:"bill",BLOG:"post-weblog",BOOK:"book",CASE:"legal_case",CHAP:"chapter",CHART:"figure",CLSWK:"manuscript",COMP:"book",CONF:"paper-conference",CPAPER:"paper-conference",CTLG:"entry",DATA:"dataset",DBASE:"dataset",DICT:"entry-dictionary",EBOOK:"book",ECHAP:"chapter",EDBOOK:"book",EJOUR:"article-journal",ELEC:"webpage",ENCYC:"entry-encyclopedia",EQUA:"article",FIGURE:"figure",GEN:"book",GOVDOC:"report",GRANT:"article",HEAR:"interview",ICOMM:"personal_communication",INPR:"article-journal",JFULL:"article-journal",JOUR:"article-journal",LEGAL:"legislation",MANSCPT:"manuscript",MAP:"map",MGZN:"article-magazine",MPCT:"broadcast",MULTI:"motion_picture",MUSIC:"musical_score",NEWS:"article-newspaper",PAMP:"pamphlet",PAT:"patent",PCOMM:"personal_communication",RPRT:"report",SER:"book",SLIDE:"motion_picture",SOUND:"motion_picture",STAND:"report",STAT:"legislation",THES:"thesis",UNBILL:"manuscript",UNPB:"manuscript",VIDEO:"motion_picture",WEB:"webpage"},CSL:{"article-journal":"JOUR","article-magazine":"MGZN","article-newspaper":"NEWS",article:"JOUR",bill:"BILL",book:"BOOK",broadcast:"MPCT",chapter:"CHAP",dataset:"DATA",entry:"CTLG","entry-dictionary":"DICT","entry-encyclopedia":"ENCYC",figure:"FIGURE",graphic:"ART",interview:"GEN",legal_case:"CASE",legislation:"LEGAL",manuscript:"MANSCPT",map:"MAP",motion_picture:"MPCT",musical_score:"MUSIC",pamphlet:"PAMP","paper-conference":"CONF",patent:"PAT",personal_communication:"PCOMM","post-weblog":"BLOG",post:"ICOMM",report:"RPRT","review-book":"BOOK",review:"JOUR",song:"SOUND",speech:"SOUND",thesis:"THES",treaty:"GEN",webpage:"ELEC"}}},{}],92:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parse=function a(t){return[].concat(t).map(s)},i.parseAsync=function o(t){return Promise.all([].concat(t).map(n))};var r=t("@citation-js/core").util,s=r.fetchFile,n=r.fetchFileAsync},{"@citation-js/core":10}],93:[function(t,e,i){e.exports={langs:["en"]}},{}],94:[function(t,e,i){"use strict";function l(t,e,i,r,s,n,a){try{var o=t[n](a),l=o.value}catch(u){return void i(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function a(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||s(t)||function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return function e(t){if(Array.isArray(t))return t}(t)||s(t)||function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.parseEntity=h,i.parseAsync=i.parseEntitiesAsync=function r(t){return b.apply(this,arguments)},i["default"]=i.parse=i.parseEntities=function y(t){var e=t.entities;return n.parse(e).map(h)};var f=t("@citation-js/core"),n=function v(t){if(t&&t.__esModule)return t;var e=p();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}i["default"]=t,e&&e.set(t,i);return i}(t("./response")),m=t("./prop"),d=t("./props");function p(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return p=function(){return t},t}function c(t,e,i){var r=t.split(".");return i["delete"](r[0]),function a(t,e){var i=u(t),r=i[0],s=i.slice(1),n=e.claims;return s.length?n[r]&&n[r].length?a(s,n[r][0].value):void 0:n[r]}(r,e)}function g(t,e,i){var r;if("object"!==o(t)){var s=c(t,e,i);return s&&s[0].value}var n=(r=[]).concat.apply(r,a(t.props.map(function(t){return c(t,e,i)}).filter(Boolean)));return"all"===t.values?n[0]&&n:n[0]&&n[0].value}function h(t){var e={id:t.id,_wikiId:t.id,source:"Wikidata"},i=new Set(Object.keys(t.claims));for(var r in d.props){var s=g(d.props[r],t,i);if(s){var n=(0,m.parseProp)(r,s,t);n&&(e[r]=n)}}var a=!0,o=!1,l=undefined;try{for(var u,p=i[Symbol.iterator]();!(a=(u=p.next()).done);a=!0){var c=u.value;c in d.ignoredProps||f.logger.unmapped("[plugin-wikidata]","property",c)}}catch(h){o=!0,l=h}finally{try{a||null==p["return"]||p["return"]()}finally{if(o)throw l}}return e.title||(e.title=(0,m.getLabel)(t)),(e["reviewed-title"]||e["reviewed-author"])&&("review"!==e.type.slice(0,6)&&(e.type="review"),delete e.keyword),e.recipient&&(e.type="personal_communication"),e.event&&(e.type="paper-conference"),e}function b(){return(b=function t(o){return function(){var t=this,a=arguments;return new Promise(function(e,i){var r=o.apply(t,a);function s(t){l(r,e,i,s,n,"next",t)}function n(t){l(r,e,i,s,n,"throw",t)}s(undefined)})}}(regeneratorRuntime.mark(function r(e){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.entities,t.next=3,n.parseAsync(i);case 3:return t.t0=h,t.abrupt("return",t.sent.map(t.t0));case 5:case"end":return t.stop()}},r)}))).apply(this,arguments)}},{"./prop":97,"./props":98,"./response":99,"@citation-js/core":10}],95:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=void 0;var r=n(t("wikidata-sdk")),s=n(t("./config"));function n(t){return t&&t.__esModule?t:{"default":t}}var a=function a(t,e){var i=[].concat(t);return[].concat(r["default"].getManyEntities(i,e||s["default"].langs))};i["default"]=i.parse=a},{"./config":93,"wikidata-sdk":500}],96:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.formats=i.parsers=i.ref=void 0;var r=t("@citation-js/core"),s=c(t("./id")),n=c(t("./entity")),a=c(t("./prop")),o=c(t("./url")),l=c(t("./api")),u=function m(t){return t&&t.__esModule?t:{"default":t}}(t("./config"));function p(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return p=function(){return t},t}function c(t){if(t&&t.__esModule)return t;var e=p();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}}return i["default"]=t,e&&e.set(t,i),i}i.ref="@wikidata";var h={id:s,entity:n,prop:a,url:o,api:l};i.parsers=h;var f={"@wikidata/id":{parse:s.parse,parseType:{dataType:"String",predicate:/^Q\d+$/}},"@wikidata/list+text":{parse:function(t){return t.trim().split(/(?:[\s,]\s*)/g)},parseType:{dataType:"String",predicate:/^\s*((?:Q\d+(?:[\s,]\s*))*Q\d+)\s*$/}},"@wikidata/api":{parse:l.parse,parseAsync:l.parseAsync,parseType:{dataType:"String",predicate:/^(https?:\/\/(?:www\.)?wikidata.org\/w\/api\.php(?:\?.*)?)$/,"extends":"@else/url"}},"@wikidata/array+api":{parse:l.parse,parseAsync:l.parseAsync,parseType:{dataType:"Array",elementConstraint:"@wikidata/api"}},"@wikidata/url":{parse:o.parse,parseType:{dataType:"String",predicate:/\/(Q\d+)(?:[#?/]|\s*$)/,"extends":"@else/url"}},"@wikidata/list+object":{parse:s.parse,parseType:{dataType:"Array",elementConstraint:"@wikidata/id"}},"@wikidata/object":{parse:n.parse,parseAsync:n.parseAsync,parseType:{dataType:"SimpleObject",propertyConstraint:{props:"entities"}}},"@wikidata/array+object":{parse:function(t){return t.reduce(function(t,e){var i=e.success,r=e.entities;return t.success&=i,Object.assign(t.entities,r),t},{})},parseType:{dataType:"Array",elementConstraint:"@wikidata/object"},outputs:"@wikidata/object"},"@wikidata/prop":{parse:a.parseProp},"@wikidata/type":{parse:a.parseType}};i.formats=f,r.plugins.add("@wikidata",{input:f,config:u["default"]})},{"./api":92,"./config":93,"./entity":94,"./id":95,"./prop":97,"./url":101,"@citation-js/core":10}],97:[function(t,e,i){"use strict";function s(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=i.parse=i.parseProp=function x(t,e,i){switch(t){case"type":return v(e);case"author":case"director":case"container-author":case"collection-editor":case"composer":case"editor":case"illustrator":case"original-author":case"recipient":case"reviewed-author":case"translator":return m(e);case"issued":case"original-date":return(0,o.parse)(e);case"event-date":return y(e);case"keyword":return b(e);case"container-title":case"collection-title":case"event":case"medium":case"publisher":case"original-publisher":return g(e);case"event-place":case"original-publisher-place":case"publisher-place":return d(e);case"collection-number":return c(e[0].qualifiers);case"number-of-volumes":return e.length;default:return e}},i.parseType=v,i.getLabel=_;var n=t("@citation-js/core"),a=t("@citation-js/name"),o=t("@citation-js/date"),l=p(t("./config")),u=p(t("./types"));function p(t){return t&&t.__esModule?t:{"default":t}}var c=function c(t){var e=t.P1545;return e?parseInt(e[0]):-1},h=function h(t){var e;return(e=[]).concat.apply(e,r([t.P1932,t.P1810].filter(Boolean)))},f=function f(t){var e=t.value,i=t.qualifiers,r=s(h(i),1)[0];return(r=(r=r||("string"==typeof e?e:_(e)))?(0,a.parse)(r):{literal:r})._ordinal=c(i),r},m=function m(t){return t.map(f).sort(function(t,e){return t._ordinal-e._ordinal})},d=function d(t){var e=t.claims.P17[0].value,i=e.claims.P1813.filter(function(t){var e=t.qualifiers.P31;return!e||"Q28840786"!==e[0]});return _(t)+", "+(i[0]||e.claims.P1448[0]).value},g=function g(t){return t.claims.P1476?t.claims.P1476[0].value:_(t)},b=function b(t){return t.map(function(t){return _(t.value)}).join(",")},y=function y(t){return{"date-parts":t.map(function(t){return(0,o.parse)(t.value)}).filter(function(t){return t&&t["date-parts"]}).map(function(t){return t["date-parts"][0]})}};function v(t){return u["default"][t]?u["default"][t]:(n.logger.unmapped("[plugin-wikidata]","publication type",t),"book")}function _(e){if(!e)return undefined;var t=l["default"].langs.find(function(t){return e.labels[t]});return e.labels[t]}},{"./config":93,"./types":100,"@citation-js/core":10,"@citation-js/date":44,"@citation-js/name":47}],98:[function(t,e,i){e.exports={props:{author:{values:"all",props:["P50","P2093"]},composer:{values:"all",props:["P86"]},"collection-editor":{values:"all",props:["P179.P98"]},"collection-number":{values:"all",props:["P179"]},"collection-title":"P179","container-author":{values:"all",props:["P1433.P50","P1433.P2093","P361.P50","P361.P2093"]},"container-title":{values:"any",props:["P1433","P361"]},"container-title-short":{values:"any",props:["P1433.P1813","P1433.P1160"]},director:{values:"all",props:["P57"]},DOI:"P356",edition:"P393",editor:{values:"all",props:["P98"]},event:"P1433.P4745","event-date":{values:"all",props:["P1433.P4745.P580","P1433.P4745.P582"]},"event-place":"P1433.P4745.P276",illustrator:{values:"all",props:["P110"]},ISBN:{values:"any",props:["P212","P957"]},ISSN:"P1433.P236",issue:"P433",issued:"P577",journalAbbreviation:{values:"any",props:["P1433.P1813","P1433.P1160"]},keyword:{values:"all",props:["P921"]},language:{values:"any",props:["P407.P218","P364.P218"]},medium:{values:"any",props:["P437","P186"]},"number-of-pages":"P1104","number-of-volumes":{values:"all",props:["P179.P527"]},"original-author":{values:"all",props:["P629.P50","P629.P2093"]},"original-date":"P629.P577","original-publisher":"P629.P123","original-publisher-place":{values:"any",props:["P629.P123.P740","P629.P123.P159"]},"original-title":"P629.P1476",page:"P304",PMID:"P698",PMCID:"P932",publisher:"P123","publisher-place":{values:"any",props:["P123.P740","P123.P159"]},recipient:{values:"all",props:["P1817"]},"reviewed-title":"P921.P1476","reviewed-author":{values:"all",props:["P921.P50","P921.P2093"]},scale:"P1752",title:"P1476",translator:{values:"all",props:["P655"]},type:"P31",version:"P348",volume:"P478",URL:{values:"any",props:["P856","P953","P973","P2699"]}},ignoredProps:{P2860:"Cites",P921:"Main subject",P3181:"OpenCitations bibliographic resource ID",P364:"Original language of work"}}},{}],99:[function(t,e,i){"use strict";function l(t,e,i,r,s,n,a){try{var o=t[n](a),l=o.value}catch(u){return void i(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function n(o){return function(){var t=this,a=arguments;return new Promise(function(e,i){var r=o.apply(t,a);function s(t){l(r,e,i,s,n,"next",t)}function n(t){l(r,e,i,s,n,"throw",t)}s(undefined)})}}function T(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(i,"__esModule",{value:!0}),i.fillCache=v,i.parse=function A(t){var e=v(t);return y(t,e)},i.fillCacheAsync=_,i.parseAsync=function E(t){return w.apply(this,arguments)};var r=t("wikidata-sdk"),a=t("./api"),s=t("./id"),o={keepQualifiers:!0,timeConverter:"simple-day"},u={P17:null},p={P740:u,P159:u},S={P50:null,P57:null,P86:null,P98:null,P110:null,P655:null,P1817:null,P921:{P50:null},P407:null,P364:null,P123:p,P629:{P50:null,P123:p},P437:null,P186:null,P179:{P98:null},P1433:{P4745:{P276:u}},P361:{P50:null}};function c(t,e){return t.push.apply(t,T(e)),t}function I(e,i){return i?(e._needed=Object.assign(e._needed||{},i),Object.keys(e.claims).filter(function(t){return t in i}).map(function(t){return e.claims[t].map(function(t){var e=t.value;return e.id||e})}).reduce(c,[])):[]}function h(t,e){if(!e){var i=[];for(var r in t){var s=I(t[r],S),n=!0,a=!1,o=undefined;try{for(var l,u=s[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var p=l.value;i.includes(p)||i.push(p)}}catch(O){a=!0,o=O}finally{try{n||null==u["return"]||u["return"]()}finally{if(a)throw o}}}return i}var c=[],h=!0,f=!1,m=undefined;try{for(var d,g=e[Symbol.iterator]();!(h=(d=g.next()).done);h=!0){var b=t[d.value];if(b._needed){for(var y in b.claims)if(y in b._needed){var v=!0,_=!1,x=undefined;try{for(var w,A=b.claims[y][Symbol.iterator]();!(v=(w=A.next()).done);v=!0){var E=w.value;E.value&&E.value.id||(E.value=t[E.value],c.push.apply(c,T(I(E.value,b._needed[y]))))}}catch(O){_=!0,x=O}finally{try{v||null==A["return"]||A["return"]()}finally{if(_)throw x}}}delete b._needed}}}catch(O){f=!0,m=O}finally{try{h||null==g["return"]||g["return"]()}finally{if(f)throw m}}return c}function f(t){return r.simplify.entities(t,o)}function m(t,e){return{needed:h(e),incomplete:Object.keys(t)}}function d(i,r){var t=i.filter(function(t,e){return!(t in r)&&i.indexOf(t)===e});return(0,s.parse)(t)}function g(t,e){var i=JSON.parse(t).entities;Object.assign(e,f(i))}function b(t,e){return{needed:h(e,t.incomplete),incomplete:t.needed}}function y(t,e){return Object.keys(t).map(function(t){return e[t]})}function v(t){for(var e=f(t),i=m(t,e);i.needed.length;){d(i.needed,e).map(function(t){return g((0,a.parse)(t),e)}),i=b(i,e)}return e}function _(t){return x.apply(this,arguments)}function x(){return(x=n(regeneratorRuntime.mark(function t(e){var i,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=f(e),r=m(e,i);case 2:if(r.needed.length)return s=d(r.needed,i),t.next=6,Promise.all(s.map(function(){var e=n(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=g,t.next=3,(0,a.parseAsync)(e);case 3:return t.t1=t.sent,t.t2=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()));t.next=9;break;case 6:r=b(r,i),t.next=2;break;case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function w(){return(w=n(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:return i=t.sent,t.abrupt("return",y(e,i));case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}},{"./api":92,"./id":95,"wikidata-sdk":500}],100:[function(t,e,i){e.exports={Q191067:"article",Q1266946:"thesis",Q187685:"thesis",Q265158:"review",Q1172284:"dataset",Q2352616:"dataset",Q367035:"dataset",Q4006:"map",Q133792:"map",Q842617:"map",Q1425895:"map",Q2334719:"legal_case",Q36774:"webpage",Q15474042:"webpage",Q58494026:"webpage",Q17379835:"webpage",Q17442446:"webpage",Q21281405:"webpage",Q16222597:"webpage",Q653848:"map",Q21944833:"map",Q11424:"motion_picture",Q157443:"motion_picture",Q571:"book",Q87167:"manuscript",Q131569:"treaty",Q216665:"book",Q686822:"bill",Q10870555:"report",Q3099732:"report",Q252550:"treaty",Q3536928:"treaty",Q5707594:"article-newspaper",Q59908:"article",Q1164267:"book",Q18011172:"motion_picture",Q19389637:"article",Q11578774:"broadcast",Q15416:"broadcast",Q1555508:"broadcast",Q26260507:"broadcast",Q580922:"article",Q651270:"article",Q759838:"article",Q1580166:"entry-dictionary",Q1809676:"article",Q2106255:"article",Q1004391:"report",Q2438528:"article",Q6646525:"article",Q7216866:"post",Q7318358:"article",Q7582241:"article",Q10389811:"entry",Q13442814:"article-journal",Q17518557:"article",Q19917774:"article",Q30070590:"article-magazine",Q37974534:"article",Q637866:"review-book",Q5196473:"review",Q5251247:"review",Q42350535:"article",Q51282711:"thesis",Q51282766:"thesis",Q51282798:"thesis",Q51282875:"thesis",Q51282918:"thesis",Q51282969:"thesis",Q51282999:"thesis",Q51283026:"thesis",Q51283053:"thesis",Q51283145:"thesis",Q51283327:"thesis",Q55399605:"thesis",Q58010711:"article",Q60559362:"article",Q480498:"legal_case",Q697327:"legal_case",Q1469824:"dataset",Q2055205:"legal_case",Q162827:"map",Q460214:"map",Q2259701:"map",Q253623:"patent",Q22909582:"review",Q1172480:"dataset",Q45941145:"dataset",Q56515249:"review",Q61992233:"review",Q16968990:"book",Q21191270:"broadcast",Q26225677:"motion_picture",Q56753859:"map",Q57933693:"book",Q2823677:"legal_case",Q2865639:"legal_case",Q7307130:"legal_case",Q8016240:"legal_case",Q11827307:"legal_case",Q16738832:"legal_case",Q18146819:"legal_case",Q18536127:"legal_case",Q20917517:"legal_case",Q7366:"song",Q7302866:"song",Q25203386:"song",Q30637971:"legal_case",Q52768654:"map",Q56123235:"song",Q56612794:"song",Q60566516:"song",Q60809954:"song",Q61221204:"legal_case",Q24634210:"broadcast",Q61855877:"broadcast",Q1006160:"dataset",Q1980247:"chapter",Q19692072:"legal_case",Q23927052:"paper-conference",Q178651:"interview",Q861911:"speech",Q216526:"map",Q2940514:"map",Q3391101:"map",Q55089312:"dataset",Q56704157:"legal_case",Q26205359:"webpage",Q28326484:"webpage",Q28326490:"webpage",Q57312861:"webpage",Q106833:"book",Q128093:"book",Q20540385:"book",Q7433672:"book",Q193495:"book",Q3831846:"book",Q203490:"book",Q254554:"book",Q448980:"book",Q604219:"book",Q605076:"book",Q642946:"book",Q48498:"manuscript",Q727715:"book",Q747381:"book",Q855753:"book",Q890239:"book",Q913554:"book",Q918038:"book",Q922203:"book",Q944359:"book",Q1009641:"book",Q1631107:"dataset",Q26876682:"dataset",Q47114558:"dataset",Q1050259:"book",Q1062404:"book",Q1106827:"book",Q1173065:"book",Q1184488:"book",Q1238720:"book",Q1414013:"book",Q1415108:"book",Q162206:"map",Q191072:"map",Q320228:"map",Q352416:"map",Q441903:"map",Q573980:"map",Q602481:"map",Q715789:"map",Q728502:"map",Q1403728:"map",Q1410020:"map",Q1496857:"book",Q1528894:"book",Q1609706:"book",Q1616547:"book",Q1650727:"book",Q1760610:"book",Q1785330:"book",Q1870591:"book",Q1883939:"book",Q1977520:"book",Q1986787:"book",Q2069066:"book",Q2072218:"book",Q2104296:"book",Q2122442:"book",Q2128336:"book",Q2135225:"book",Q2208044:"book",Q2314679:"book",Q2331348:"book",Q2363145:"book",Q2374324:"book",Q2377289:"book",Q2396513:"book",Q2514954:"book",Q2537127:"book",Q2787237:"book",Q2831984:"book",Q3045706:"book",Q3831821:"book",Q3831847:"book",Q3915339:"book",Q4067007:"book",Q4224691:"book",Q4515179:"book",Q4677625:"book",Q4686085:"book",Q4931288:"book",Q5073531:"book",Q5093328:"book",Q5159310:"book",Q6675210:"book",Q8275050:"book",Q10666342:"book",Q11396303:"book",Q11750596:"book",Q12308638:"book",Q12410152:"book",Q12731131:"book",Q13137339:"book",Q13430107:"book",Q13636757:"book",Q13751595:"book",Q16046027:"book",Q16385949:"book",Q16507688:"book",Q16736578:"book",Q17134316:"book",Q21598767:"book",Q21662746:"book",Q22988237:"book",Q25679217:"book",Q12912091:"motion_picture",Q1453402:"map",Q1502030:"map",Q1664468:"map",Q1783108:"map",Q1787111:"dataset",Q1875628:"map",Q2089517:"map",Q2127425:"map",Q2353983:"map",Q2368091:"map",Q2426254:"map",Q2470969:"map",Q2471702:"map",Q2620815:"map",Q2656361:"map",Q2940478:"map",Q3509676:"map",Q3515498:"map",Q4505959:"map",Q4845530:"map",Q26267321:"book",Q26271823:"book",Q27560760:"book",Q29154430:"book",Q29586870:"book",Q31946409:"book",Q38143661:"book",Q52005090:"book",Q52153485:"book",Q55610842:"book",Q56552233:"book",Q57790812:"book",Q58142059:"book",Q58211632:"book",Q58807269:"book",Q60226001:"book",Q60475414:"book",Q60475468:"book",Q60627667:"book",Q61696018:"book",Q5047387:"map",Q5177325:"map",Q5434353:"map",Q6017843:"map",Q6664848:"map",Q7104865:"map",Q10544122:"map",Q11426259:"map",Q11618908:"map",Q14321585:"map",Q15877105:"map",Q17047956:"map",Q21935483:"map",Q22125384:"map",Q59457513:"map",Q60054914:"map",Q846662:"broadcast",Q5778924:"motion_picture",Q8513:"dataset",Q178376:"dataset",Q1675302:"map",Q267628:"article",Q871232:"article",Q3694604:"article",Q3719255:"article",Q19375673:"article",Q442919:"interview",Q850171:"interview",Q1384479:"interview",Q1477475:"interview",Q1067324:"motion_picture",Q1941707:"motion_picture",Q3055290:"interview",Q3055291:"interview",Q450873:"patent",Q681875:"patent",Q913351:"patent",Q5465504:"patent",Q2049275:"manuscript",Q213924:"manuscript",Q274076:"manuscript",Q597695:"manuscript",Q720106:"manuscript",Q865595:"manuscript",Q1067768:"manuscript",Q1266076:"manuscript",Q2209578:"manuscript",Q2217259:"manuscript",Q2531964:"manuscript",Q2816501:"manuscript",Q19787436:"patent",Q19787437:"patent",Q35639987:"patent",Q43305660:"patent",Q59818481:"dataset",Q1949797:"legal_case",Q18918145:"article-journal",Q2782326:"article-journal",Q3149408:"legal_case",Q18342738:"speech",Q3228788:"speech",Q3731370:"legal_case",Q17123524:"book",Q336144:"motion_picture",Q867242:"book",Q1093720:"treaty",Q193170:"treaty",Q625298:"treaty",Q837144:"treaty",Q864737:"treaty",Q931855:"treaty",Q1242841:"treaty",Q1414340:"treaty",Q1414472:"treaty",Q1498487:"treaty",Q1646218:"treaty",Q1671773:"treaty",Q1711115:"treaty",Q2290707:"treaty",Q2300991:"treaty",Q2465017:"treaty",Q3125472:"manuscript",Q3220177:"manuscript",Q3240926:"manuscript",Q3252544:"manuscript",Q3560324:"manuscript",Q3749265:"manuscript",Q3824506:"treaty",Q3960554:"manuscript",Q4426710:"treaty",Q4475654:"manuscript",Q4872029:"treaty",Q4985043:"treaty",Q7012086:"manuscript",Q7452368:"manuscript",Q9026959:"manuscript",Q11613006:"manuscript",Q13430250:"manuscript",Q17143154:"manuscript",Q21089188:"manuscript",Q22669850:"manuscript",Q22948347:"manuscript",Q25351420:"manuscript",Q31078443:"manuscript",Q33308141:"manuscript",Q11122:"treaty",Q451584:"legal_case",Q876477:"bill",Q1006544:"bill",Q1288220:"legal_case",Q2206565:"legal_case",Q2783852:"legal_case",Q5500839:"legal_case",Q7246224:"bill",Q7257705:"bill",Q7885007:"bill",Q859161:"dataset",Q1650567:"webpage",Q11439:"webpage",Q16602140:"bill",Q16821677:"bill",Q28457660:"bill",Q2261569:"webpage",Q2641220:"webpage",Q2737701:"webpage",Q14204246:"webpage",Q21025364:"webpage",Q23691297:"webpage",Q58040463:"webpage",Q44873079:"interview",Q4202018:"interview",Q4317093:"interview",Q7256239:"interview",Q7625207:"interview",Q8776455:"interview",Q45933791:"interview",Q60723716:"interview",Q6908053:"treaty",Q6934728:"treaty",Q6944158:"treaty",Q9160460:"treaty",Q9557810:"treaty",Q11455760:"treaty",Q11637357:"treaty",Q16567729:"treaty",Q19357149:"book",Q184528:"speech",Q203737:"speech",Q261197:"speech",Q554211:"speech",Q749054:"speech",Q787020:"speech",Q805093:"speech",Q960189:"speech",Q1346967:"speech",Q1840948:"speech",Q1980740:"speech",Q2183050:"speech",Q2895132:"speech",Q3030189:"speech",Q3040417:"speech",Q4329077:"speech",Q4388316:"speech",Q5152362:"speech",Q200092:"motion_picture",Q224700:"motion_picture",Q248583:"motion_picture",Q457832:"motion_picture",Q622548:"motion_picture",Q624771:"motion_picture",Q16835935:"treaty",Q16956642:"treaty",Q19958750:"treaty",Q27768121:"treaty",Q29526855:"treaty",Q29527278:"treaty",Q29527544:"treaty",Q29883540:"treaty",Q30921722:"treaty",Q38653134:"treaty",Q39234269:"treaty",Q41535471:"treaty",Q50192946:"treaty",Q57205857:"treaty",Q1194534:"dataset",Q7979513:"speech",Q11261492:"speech",Q11496736:"speech",Q11504413:"speech",Q13611058:"speech",Q13632631:"speech",Q15853847:"speech",Q18907443:"speech",Q19776345:"speech",Q28472611:"speech",Q56191193:"speech",Q56192445:"speech",Q60061482:"speech",Q60780612:"speech",Q47123453:"report",Q1054574:"motion_picture",Q860626:"motion_picture",Q959790:"motion_picture",Q1788980:"motion_picture",Q2331945:"motion_picture",Q188473:"motion_picture",Q2678111:"motion_picture",Q2991560:"motion_picture",Q2484376:"motion_picture",Q16950433:"motion_picture",Q18331260:"motion_picture",Q19952560:"motion_picture",Q5428822:"broadcast",Q13582719:"song",Q388480:"song",Q950683:"book",Q39825:"dataset",Q49918:"dataset",Q82753:"dataset",Q186588:"dataset",Q15706459:"article-journal",Q59387148:"report",Q6960620:"book",Q7094076:"dataset",Q367680:"dataset",Q857354:"dataset",Q1503133:"book",Q3219655:"dataset",Q3304360:"dataset",Q5227330:"dataset",Q7943567:"dataset",Q17305522:"dataset",Q18814183:"dataset",Q21264512:"dataset",Q43570203:"dataset",Q44106130:"dataset",Q50826803:"dataset",Q55387750:"dataset",Q593744:"dataset",Q83790:"book",Q539662:"dataset",Q605175:"dataset",Q550089:"dataset",Q36524:"dataset",Q1673963:"dataset",Q17152639:"dataset",Q20088085:"entry-dictionary",Q15633587:"webpage",Q15138389:"webpage",Q20088089:"entry-dictionary",Q5398426:"broadcast",Q1259759:"broadcast",Q7724161:"broadcast",Q21664088:"broadcast",Q234262:"chapter",Q21481766:"chapter",Q26989423:"chapter",Q29154515:"chapter",Q43148525:"chapter",Q43180447:"chapter",Q53460949:"chapter",Q327349:"dataset",Q1394657:"dataset",Q1988927:"dataset",Q201456:"dataset",Q220393:"dataset",Q3071343:"dataset",Q254213:"dataset",Q319949:"dataset",Q672598:"dataset",Q780605:"dataset",Q815410:"dataset",Q819688:"dataset",Q854459:"dataset",Q897682:"dataset",Q1114135:"dataset",Q1147639:"dataset",Q1400059:"dataset",Q1665882:"dataset",Q1754061:"dataset",Q1915979:"dataset",Q1991865:"dataset",Q2038458:"dataset",Q2249973:"dataset",Q2597555:"dataset",Q3346024:"dataset",Q5141544:"dataset",Q5146094:"dataset",Q5962346:"dataset",Q6941730:"dataset",Q7096331:"dataset",Q10413470:"dataset",Q15194024:"dataset",Q11722865:"dataset",Q273057:"dataset",Q16832380:"dataset",Q20820424:"dataset",Q22692845:"dataset",Q52666561:"dataset",Q59209277:"dataset",Q59977151:"dataset",Q60686104:"dataset",Q2262868:"dataset",Q7449052:"dataset",Q596138:"motion_picture",Q3464665:"broadcast",Q24862:"motion_picture",Q7751682:"motion_picture",Q187044:"article-newspaper",Q22812458:"broadcast",Q170238:"broadcast",Q309481:"article-newspaper",Q2495037:"article-newspaper",Q2602337:"article-newspaper",Q5149212:"article-newspaper",Q17628188:"article-newspaper",Q17633526:"article-newspaper",Q17928402:"post-weblog",Q50081413:"webpage",Q20136634:"article",Q43290228:"article",Q57988118:"post",Q40745:"legal_case",Q245072:"legal_case",Q321568:"legal_case",Q375727:"legal_case",Q699735:"report",Q836925:"report",Q788874:"legal_case",Q830689:"report",Q1668727:"report",Q1498464:"legal_case",Q1926270:"report",Q2070370:"legal_case",Q2145003:"legal_case",Q2307704:"report",Q2309880:"report",Q2677586:"report",Q3000100:"report",Q3922396:"legal_case",Q4343952:"report",Q4690599:"report",Q6451276:"report",Q7968600:"legal_case",Q7918438:"report",Q12038591:"legal_case",Q13433827:"entry",Q15629444:"report",Q17090395:"report",Q17329259:"entry-encyclopedia",Q19355445:"report",Q61704031:"broadcast",Q27027169:"report",Q41274869:"report",Q47126552:"report",Q56013707:"report",Q58089619:"legal_case",Q157394:"motion_picture",Q207601:"broadcast",Q1504425:"article-journal",Q1241826:"broadcast",Q2155186:"broadcast",Q2435927:"broadcast",Q2774197:"article-journal",Q3588923:"broadcast",Q5177022:"broadcast",Q7316896:"article-journal",Q7551315:"motion_picture",Q10709386:"broadcast",Q622812:"broadcast",Q11079003:"broadcast",Q10885494:"article-journal",Q11293915:"broadcast",Q11325507:"broadcast",Q11334197:"broadcast",Q11351206:"broadcast",Q11378697:"broadcast",Q187947:"musical_score",Q11451968:"broadcast",Q11483878:"broadcast",Q11491683:"broadcast",Q12183006:"article-journal",Q18458820:"broadcast",Q56478376:"article-journal",Q58038936:"article-journal",Q58898396:"article-journal",Q58900805:"article-journal",Q58901470:"article-journal",Q58902427:"article-journal",Q59458414:"article-journal",Q4249087:"legal_case",Q5710433:"legal_case",Q60456691:"legal_case",Q17074865:"map",Q18609332:"legal_case",Q29197:"broadcast",Q18011171:"motion_picture",Q506240:"motion_picture",Q653916:"motion_picture",Q240862:"motion_picture",Q914242:"motion_picture",Q5287435:"broadcast",Q5338721:"motion_picture",Q13359539:"broadcast",Q21191265:"broadcast",Q26225765:"motion_picture",Q29555881:"broadcast",Q50062923:"broadcast",Q50914552:"broadcast",Q61220733:"broadcast",Q1924747:"dataset",Q26868375:"dataset",Q61782522:"dataset",Q2033233:"dataset",Q39086821:"review",Q595971:"dataset",Q3539533:"dataset",Q276:"broadcast",Q182415:"broadcast",Q336181:"broadcast",Q356055:"broadcast",Q358942:"broadcast",Q431102:"broadcast",Q661436:"broadcast",Q677466:"motion_picture",Q854995:"broadcast",Q986699:"broadcast",Q1261214:"broadcast",Q1358344:"broadcast",Q1366112:"broadcast",Q1407240:"broadcast",Q1407245:"broadcast",Q1472288:"broadcast",Q1619206:"broadcast",Q1684600:"broadcast",Q1819008:"broadcast",Q1962634:"broadcast",Q1857766:"broadcast",Q1924371:"broadcast",Q1948292:"broadcast",Q2081003:"broadcast",Q2231383:"broadcast",Q2304946:"broadcast",Q3744532:"broadcast",Q5455086:"broadcast",Q6626746:"broadcast",Q7697093:"broadcast",Q14623351:"broadcast",Q3511312:"broadcast",Q10676514:"broadcast",Q202866:"motion_picture",Q1107:"motion_picture",Q581714:"broadcast",Q21191019:"broadcast",Q11086742:"motion_picture",Q11504513:"broadcast",Q14942329:"broadcast",Q15836186:"broadcast",Q16068806:"broadcast",Q16206641:"broadcast",Q17145545:"broadcast",Q18640746:"broadcast",Q19845560:"broadcast",Q19973797:"broadcast",Q21217315:"broadcast",Q25090976:"broadcast",Q27912070:"broadcast",Q28664032:"broadcast",Q34682961:"broadcast",Q46706005:"broadcast",Q118171:"dataset",Q192588:"dataset",Q193351:"dataset",Q212805:"dataset",Q333761:"dataset",Q702448:"dataset",Q1869909:"motion_picture",Q29982285:"broadcast",Q780524:"dataset",Q989016:"dataset",Q1172362:"dataset",Q1235236:"dataset",Q1373925:"dataset",Q1391125:"dataset",Q1393704:"dataset",Q1414426:"dataset",Q1494224:"dataset",Q1519460:"dataset",Q1787017:"dataset",Q1957894:"dataset",Q2599456:"dataset",Q2274762:"dataset",Q2302053:"dataset",Q2404903:"dataset",Q2532732:"dataset",Q2881060:"dataset",Q2912944:"dataset",Q3133368:"dataset",Q3454922:"dataset",Q4117139:"dataset",Q4501235:"dataset",Q4677551:"dataset",Q5062195:"dataset",Q5322831:"dataset",Q5473309:"dataset",Q5572370:"dataset",Q7246853:"dataset",Q7702836:"dataset",Q9067653:"dataset",Q14806568:"dataset",Q15097084:"dataset",Q15100572:"dataset",Q16155335:"dataset",Q17014602:"dataset",Q22811662:"dataset",Q24579448:"dataset",Q28146196:"dataset",Q33270056:"dataset",Q36570165:"dataset",Q45028176:"dataset",Q54933017:"dataset",Q55341040:"dataset",Q59157251:"dataset",Q13406463:"webpage",Q60856733:"dataset",Q521414:"dataset",Q883895:"dataset",Q986756:"dataset",Q1345528:"dataset",Q3404855:"dataset",Q3405306:"dataset",Q3518943:"dataset",Q3664416:"dataset",Q4127466:"dataset",Q4350734:"dataset",Q60557971:"dataset",Q4350735:"dataset",Q4350754:"dataset",Q5058966:"dataset",Q5058970:"dataset",Q5058971:"dataset",Q5058968:"dataset",Q5058969:"dataset",Q5058974:"dataset",Q5058975:"dataset",Q5058972:"dataset",Q5058978:"dataset",Q5058977:"dataset",Q5058981:"dataset",Q5058989:"dataset",Q5334384:"dataset",Q7015254:"dataset",Q10497456:"dataset",Q12058091:"dataset",Q16056280:"dataset",Q19894430:"dataset",Q24934691:"dataset",Q25383554:"dataset",Q26207721:"dataset",Q28730356:"dataset",Q29795177:"dataset",Q8025448:"book",Q1114458:"book",Q3027814:"book",Q3268307:"book",Q3491290:"book",Q4955683:"book",Q5197887:"book",Q6071891:"book",Q5296:"webpage",Q57819011:"legal_case",Q57821094:"legal_case",Q218013:"dataset",Q283579:"dataset",Q426674:"dataset",Q479833:"dataset",Q721795:"dataset",Q838281:"dataset",Q843670:"dataset",Q877809:"dataset",Q900856:"dataset",Q949532:"dataset",Q1265166:"dataset",Q1571814:"dataset",Q2025786:"book",Q2250844:"book",Q4034405:"book",Q5227352:"dataset",Q2115:"dataset",Q14679:"dataset",Q577697:"map",Q5150048:"map",Q16840211:"book",Q21032630:"book",Q8034663:"book",Q11191558:"book",Q13769783:"dataset",Q14902318:"dataset",Q24063789:"dataset",Q25975660:"dataset",Q26260540:"dataset",Q11266439:"webpage",Q26267864:"dataset",Q26987229:"dataset",Q27198004:"dataset",Q28948553:"dataset",Q29053519:"dataset",Q29694587:"dataset",Q41709380:"dataset",Q47459830:"dataset",Q57936091:"book",Q58902997:"book",Q7572716:"dataset",Q59913845:"song",Q2143665:"motion_picture",Q1957385:"motion_picture",Q5769663:"motion_picture",Q5855976:"motion_picture",Q1441669:"broadcast",Q1441929:"broadcast",Q16943561:"broadcast",Q19858063:"broadcast",Q19858074:"broadcast",Q19858077:"broadcast",Q19858082:"broadcast",Q19858080:"broadcast",Q19858086:"broadcast",Q19858087:"broadcast",Q19858088:"broadcast",Q19858095:"broadcast",Q19858093:"broadcast",Q19858098:"broadcast",Q19858107:"broadcast",Q19858110:"broadcast",Q19858108:"broadcast",Q19858123:"broadcast",Q19858126:"broadcast",Q19858124:"broadcast",Q19858125:"broadcast",Q19858142:"broadcast",Q19858143:"broadcast",Q19858140:"broadcast",Q19858141:"broadcast",Q19859744:"broadcast",Q19859780:"broadcast",Q1271915:"dataset",Q2250805:"map",Q2359829:"map",Q2415383:"map",Q2869471:"map",Q4816871:"map",Q5135690:"map",Q11025270:"map",Q21936815:"map",Q21938018:"map",Q26885495:"map",Q333779:"map",Q640492:"map",Q690851:"manuscript",Q1105486:"manuscript",Q1501880:"map",Q1501945:"map",Q1550537:"map",Q1974665:"map",Q2915844:"map",Q54298448:"map",Q21188110:"broadcast",Q918098:"broadcast",Q4765080:"broadcast",Q17113138:"broadcast",Q856314:"manuscript",Q928128:"manuscript",Q19969434:"manuscript",Q5647631:"manuscript",Q1190781:"manuscript",Q1620808:"manuscript",Q1675712:"manuscript",Q3637297:"manuscript",Q18558914:"manuscript",Q492264:"musical_score",Q10590726:"motion_picture",Q60259696:"manuscript",Q60323106:"manuscript",Q60325498:"manuscript",Q60363009:"manuscript",Q2552822:"musical_score",Q7452061:"musical_score",Q3962157:"map",Q16825889:"map",Q1826720:"map",Q3935817:"dataset",Q18616720:"dataset",Q7601206:"dataset",Q7620972:"map",Q1353555:"dataset",Q22961568:"book",Q93204:"motion_picture",Q7832972:"motion_picture",Q312083:"map",Q322943:"treaty",Q459435:"motion_picture",Q587240:"manuscript",Q595819:"treaty",Q850950:"dataset",Q1003870:"treaty",Q1688818:"map",Q1048515:"map",Q1473669:"manuscript",Q1667520:"map",Q2723202:"map",Q2941628:"dataset",Q2981686:"manuscript",Q2981685:"manuscript",Q7551149:"motion_picture",Q2933856:"book",Q266680:"map",Q1702772:"map",Q2035351:"map",Q2073537:"manuscript",Q2204393:"map",Q2325507:"map",Q5469880:"report",Q5469893:"report",Q5469912:"report",Q10438653:"map",Q42793629:"speech",Q2678443:"dataset",Q1923776:"book",Q2981450:"book",Q1413174:"dataset",Q185529:"motion_picture",Q16254232:"motion_picture",Q31803237:"treaty",Q32945468:"dataset",Q59825643:"dataset",Q934552:"dataset",Q200562:"broadcast",Q303064:"broadcast",Q1484397:"broadcast",Q2049337:"broadcast",Q2123557:"broadcast",Q2308891:"report",Q2665960:"report",Q5227671:"broadcast",Q18030695:"report",Q18385907:"broadcast",Q21190411:"broadcast",Q47512784:"report",Q56330488:"book",Q33111614:"motion_picture",Q484692:"song",Q1033831:"song",Q1497584:"book",Q19705:"book",Q628080:"book",Q1535505:"book",Q2333573:"book",Q3357101:"book",Q12041885:"book",Q5151497:"motion_picture",Q7999883:"article",Q18398246:"motion_picture",Q56309057:"manuscript",Q61314299:"dataset",Q234280:"chapter",Q234300:"chapter",Q862334:"book",Q2973181:"motion_picture",Q3072049:"motion_picture",Q1747837:"motion_picture",Q12029612:"dataset",Q50380591:"book",Q51881567:"book",Q60029764:"book",Q914229:"article",Q5465451:"article",Q20135338:"motion_picture",Q1541065:"report",Q2594143:"dataset",Q16664076:"report",Q441261:"dataset",Q457843:"dataset",Q783287:"dataset",Q1115961:"dataset",Q1713174:"dataset",Q3327521:"dataset",Q151:"dataset",Q17123180:"motion_picture",Q15982056:"article-newspaper",Q59191021:"dataset",Q59248059:"dataset",Q59248072:"dataset",Q1371849:"dataset",Q17438413:"dataset",Q61914117:"dataset",Q3352071:"motion_picture",Q25051296:"webpage",Q25054829:"dataset",Q267136:"dataset",Q488053:"book",Q914881:"book",Q1397073:"dataset",Q1662581:"dataset",Q2268965:"dataset",Q3292731:"book",Q3406872:"dataset",Q5033354:"dataset",Q5227322:"dataset",Q5532670:"dataset",Q7515656:"book",Q7598341:"dataset",Q7995661:"dataset",Q14523803:"book",Q17146953:"dataset",Q25110279:"book",Q30008669:"book",Q30009376:"book",Q41623316:"dataset",Q38647918:"book",Q249697:"speech",Q1428914:"dataset",Q255135:"book",Q471894:"book",Q586744:"book",Q956165:"book",Q1569753:"book",Q2939758:"book",Q12040484:"book",Q13583784:"book",Q59351530:"book",Q61020892:"book",Q17086104:"map",Q17147147:"map",Q19393521:"map",Q58884:"broadcast",Q2635894:"broadcast",Q193842:"map",Q261468:"map",Q943929:"song",Q1123037:"song",Q336822:"song",Q336371:"map",Q459798:"map",Q831939:"map",Q865144:"map",Q889561:"map",Q1152543:"map",Q1187667:"broadcast",Q1281814:"map",Q1674401:"map",Q1742009:"broadcast",Q1778220:"map",Q1800237:"map",Q2126801:"map",Q2125867:"broadcast",Q2298569:"map",Q2940627:"map",Q4903803:"map",Q5687679:"map",Q10480692:"map",Q10604395:"map",Q10916116:"book",Q11960416:"map",Q12008992:"map",Q58901209:"dataset",Q19969268:"broadcast",Q20741385:"book",Q21009694:"book",Q24879310:"dataset",Q56028349:"book",Q56240541:"broadcast",Q56697520:"book",Q60586493:"dataset",Q183169:"webpage",Q825914:"book",Q1391116:"dataset",Q1516252:"book",Q1569406:"dataset",Q1609353:"dataset",Q1609504:"dataset",Q1862738:"book",Q2110197:"dataset",Q3237931:"broadcast",Q3956369:"broadcast",Q3962380:"dataset",Q4769616:"dataset",Q4804740:"book",Q5051330:"dataset",Q5615468:"dataset",Q6822329:"dataset",Q6912943:"broadcast",Q7144753:"dataset",Q10688394:"book",Q12331427:"dataset",Q15961983:"broadcast",Q18311760:"broadcast",Q1499601:"dataset",Q5374928:"map",Q7444356:"motion_picture",Q6729489:"motion_picture",Q7444692:"map",Q8036547:"map",Q1383152:"dataset",Q3564515:"speech",Q3890208:"dataset",Q21050458:"dataset",Q21050912:"dataset",Q26721650:"dataset",Q31841013:"dataset",Q1865123:"dataset",Q206290:"dataset",Q1088118:"dataset",Q7502102:"dataset",Q17121221:"map",Q23888763:"book",Q46992920:"speech",Q52506277:"dataset",Q51719975:"broadcast",Q19364663:"book",Q22938710:"book",Q193977:"motion_picture",Q59032066:"song",Q1989725:"song",Q2135500:"manuscript",Q3153927:"speech",Q526877:"broadcast",Q742157:"article-newspaper",Q6899707:"map",Q725377:"book",Q10541153:"book",Q21198407:"book",Q369074:"dataset",Q3249257:"motion_picture",Q4373044:"motion_picture",Q172067:"motion_picture",Q1046788:"motion_picture",Q24886171:"broadcast",Q53746253:"broadcast",Q16709869:"book",Q16960707:"book",Q19941906:"book",Q21660824:"book",Q21818614:"book",Q57987419:"interview",Q57987455:"interview",Q57987589:"interview",Q61725752:"book",Q225672:"book",Q263790:"book",Q284465:"book",Q431193:"book",Q608971:"book",Q634123:"book",Q817063:"book",Q833590:"book",Q1027825:"book",Q1385360:"book",Q1754581:"book",Q2114246:"book",Q2144117:"book",Q2732056:"book",Q2955456:"book",Q4203401:"book",Q7163040:"book",Q7603925:"broadcast",Q12765421:"book",Q15276670:"book",Q15627042:"book",Q6548306:"book",Q12046416:"map",Q472298:"legal_case",Q1261319:"map",Q5563391:"map",Q26644852:"broadcast",Q29167422:"dataset",Q7211:"dataset",Q48473:"dataset",Q217327:"legal_case",Q951437:"dataset",Q636033:"dataset",Q672593:"dataset",Q739047:"dataset",Q891854:"legal_case",Q1207369:"dataset",Q1391014:"dataset",Q1642648:"dataset",Q2859990:"dataset",Q3307317:"dataset",Q4330194:"dataset",Q6813020:"legal_case",Q6901292:"legal_case",Q7251471:"dataset",Q18711682:"legal_case",Q20057286:"dataset",Q23015465:"dataset",Q24243801:"dataset",Q24249534:"dataset",Q25917186:"legal_case",Q27214933:"dataset",Q28934204:"legal_case",Q39740866:"dataset",Q59495116:"dataset",Q60208424:"dataset",Q61037469:"legal_case",Q40426579:"map",Q43037778:"map",Q47008743:"map",Q26225493:"book",Q29043181:"dataset",Q55850593:"song",Q55850643:"song",Q58885732:"song",Q58885754:"song",Q927803:"song",Q430010:"song",Q2292588:"song",Q2499178:"dataset",Q2560570:"dataset",Q3077240:"dataset",Q3491832:"dataset",Q1235234:"dataset",Q7096323:"dataset",Q7831478:"song",Q1564816:"legal_case",Q2698974:"legal_case",Q20089346:"motion_picture",Q5366020:"motion_picture",Q11526166:"speech",Q4167410:"webpage",Q845159:"motion_picture",Q1003021:"dataset",Q4167836:"webpage",Q1249224:"report",Q11382506:"webpage",Q15475226:"webpage",Q15475319:"webpage",Q1991869:"book",Q11690026:"book",Q31209114:"webpage",Q35243371:"webpage",Q48781895:"motion_picture",Q56005592:"webpage",Q17586363:"book",Q20043999:"book",Q59738577:"webpage",Q61033232:"webpage",Q61033736:"dataset",Q61034350:"webpage",Q29573701:"dataset",Q645928:"motion_picture",Q3209941:"report",Q5165404:"bill",Q11078958:"report",Q45182324:"article-journal",Q56119332:"post-weblog",Q60797:"speech",Q1474597:"speech",Q2069352:"book",Q2983424:"motion_picture",Q19359000:"report",Q24067746:"post-weblog",Q51844620:"dataset",Q51539995:"webpage",Q55422400:"broadcast",Q130232:"motion_picture",Q635115:"dataset",Q1553078:"dataset",Q1784036:"book",Q1813223:"book",Q2326951:"book",Q2500820:"book",Q3423635:"dataset",Q4363806:"book",Q14605760:"webpage",Q21875313:"book",Q24633474:"broadcast",Q28136925:"broadcast",Q28135032:"broadcast",Q28472638:"speech",Q28472722:"speech",Q1011299:"broadcast",Q3276244:"broadcast",Q29883647:"treaty",Q42214612:"treaty",Q60215679:"broadcast",Q60215966:"broadcast",Q7033567:"treaty",Q8576:"treaty",Q3257212:"book",Q5166307:"treaty",Q7865023:"treaty",Q8187836:"treaty",Q16923948:"treaty",Q17211914:"treaty",Q20874666:"treaty",Q39233713:"treaty",Q8041497:"patent",Q50823049:"report",Q61715571:"book",Q193934:"book",Q193955:"book",Q990683:"book",Q12047175:"book",Q1250520:"dataset",Q2334774:"song",Q22001389:"dataset",Q61782519:"dataset",Q112762:"song",Q177771:"song",Q178122:"song",Q207683:"song",Q216860:"song",Q261434:"song",Q318894:"song",Q319448:"song",Q380233:"song",Q493169:"song",Q502658:"song",Q523896:"song",Q591990:"song",Q608253:"song",Q744327:"song",Q758422:"song",Q783874:"song",Q784074:"song",Q820119:"song",Q844450:"song",Q873000:"song",Q944800:"song",Q959583:"song",Q988502:"song",Q1009280:"song",Q2281713:"song",Q1033810:"song",Q1033813:"song",Q1151663:"song",Q1195253:"song",Q1195630:"song",Q1228189:"song",Q20477577:"dataset",Q1972954:"dataset",Q842256:"motion_picture",Q643684:"motion_picture",Q1033573:"dataset",Q1205607:"dataset",Q1971947:"dataset",Q2145124:"dataset",Q2819247:"dataset",Q4685824:"dataset",Q7002108:"dataset",Q7200622:"dataset",Q8267601:"dataset",Q9732903:"webpage",Q11002482:"webpage",Q12096573:"webpage",Q16059585:"webpage",Q16059613:"webpage",Q16059624:"webpage",Q19208935:"webpage",Q21450877:"webpage",Q31936067:"dataset",Q47500192:"dataset",Q1229479:"song",Q1232283:"song",Q1236108:"song",Q1288193:"song",Q1372064:"song",Q1382036:"song",Q1779217:"song",Q1779319:"song",Q1899706:"song",Q1905727:"song",Q1942905:"song",Q1956166:"song",Q1963108:"song",Q1966622:"song",Q2038845:"song",Q2058312:"song",Q2108499:"song",Q2165184:"song",Q2235992:"song",Q2298624:"song",Q2312959:"song",Q2358279:"song",Q2544997:"song",Q2707688:"song",Q2737175:"song",Q2891357:"song",Q2894096:"song",Q2956164:"song",Q2956172:"song",Q3033130:"song",Q3246270:"song",Q3299089:"song",Q3482281:"song",Q3562031:"song",Q3843655:"song",Q3889661:"song",Q3918025:"song",Q4056436:"song",Q4130112:"song",Q4528554:"song",Q4770819:"song",Q4797274:"song",Q5031532:"song",Q5037289:"song",Q5747946:"song",Q5766029:"song",Q6109162:"song",Q7148059:"song",Q7314000:"song",Q7561608:"song",Q7824869:"song",Q8053529:"song",Q8261762:"song",Q10677514:"song",Q21653344:"song",Q56572789:"song",Q503354:"song",Q11214531:"song",Q12115862:"song",Q12135013:"song",Q12313565:"song",Q13829124:"song",Q15810872:"song",Q15907187:"song",Q16084298:"song",Q16194930:"song",Q16912992:"song",Q17118203:"song",Q17150323:"song",Q18012876:"song",Q18406550:"song",Q19607140:"song",Q20087039:"song",Q20107778:"song",Q20980372:"song",Q21127215:"song",Q22086714:"song",Q23072435:"song",Q25022242:"song",Q27981708:"song",Q27981857:"song",Q29051387:"song",Q37731261:"song",Q42681239:"song",Q46863086:"song",Q55596270:"song",Q56425213:"song",Q56425237:"song",Q61688673:"song",Q229390:"motion_picture",Q319221:"motion_picture",Q369747:"motion_picture",Q370630:"motion_picture",Q421719:"motion_picture",Q430525:"motion_picture",Q455315:"motion_picture",Q459290:"motion_picture",Q505119:"motion_picture",Q517386:"motion_picture",Q652256:"motion_picture",Q663106:"motion_picture",Q790192:"motion_picture",Q848512:"motion_picture",Q1060398:"motion_picture",Q1146335:"motion_picture",Q1200678:"motion_picture",Q1251417:"motion_picture",Q1320115:"motion_picture",Q1361932:"motion_picture",Q1397462:"motion_picture",Q1933746:"motion_picture",Q1935609:"motion_picture",Q2125170:"motion_picture",Q2156835:"motion_picture",Q2165644:"motion_picture",Q2301591:"motion_picture",Q4382232:"broadcast",Q2321734:"motion_picture",Q2553613:"motion_picture",Q2903140:"motion_picture",Q3072043:"motion_picture",Q3250548:"motion_picture",Q3585697:"motion_picture",Q3648909:"motion_picture",Q3677141:"motion_picture",Q3677185:"motion_picture",Q3745400:"motion_picture",Q3745430:"motion_picture",Q4220915:"motion_picture",Q4484381:"motion_picture",Q5145881:"motion_picture",Q5378150:"motion_picture",Q7130449:"motion_picture",Q7858343:"motion_picture",Q9259727:"motion_picture",Q12309044:"motion_picture",Q12377598:"motion_picture",Q16721823:"motion_picture",Q16909344:"motion_picture",Q19799105:"motion_picture",Q19799133:"motion_picture",Q20442589:"motion_picture",Q20650540:"motion_picture",Q21182682:"motion_picture",Q24887738:"motion_picture",Q28735856:"motion_picture",Q29017630:"motion_picture",Q30070675:"motion_picture",Q30897819:"motion_picture",Q33373157:"motion_picture",Q43079104:"motion_picture",Q54086290:"motion_picture",Q54344007:"motion_picture",Q56192069:"motion_picture",Q58415294:"motion_picture",Q58903570:"motion_picture",Q61283808:"motion_picture",Q219557:"motion_picture",Q226730:"motion_picture",Q24865:"motion_picture",Q24869:"motion_picture",Q31235:"motion_picture",Q3956596:"book",Q20012720:"book",Q27070652:"book",Q738826:"speech",Q2623953:"speech",Q2781658:"speech",Q3479856:"speech",Q7454995:"speech",Q735478:"motion_picture",Q124922:"motion_picture",Q472637:"motion_picture",Q1092621:"motion_picture",Q1323308:"motion_picture",Q1352102:"motion_picture",Q1464369:"motion_picture",Q1474387:"motion_picture",Q1480924:"motion_picture",Q1760864:"motion_picture",Q1800833:"motion_picture",Q2084909:"motion_picture",Q27697957:"motion_picture",Q2670855:"motion_picture",Q3566966:"motion_picture",Q4765076:"motion_picture",Q20732395:"motion_picture",Q1684595:"dataset",Q7168625:"motion_picture",Q8192124:"motion_picture",Q5008290:"dataset",Q220399:"dataset",Q285745:"dataset",Q542475:"motion_picture",Q846544:"motion_picture",Q3072039:"motion_picture",Q23739:"broadcast",Q338632:"broadcast",Q288608:"broadcast",Q3421644:"broadcast",Q5465514:"broadcast",Q5812300:"broadcast",Q18340550:"webpage",Q21232614:"broadcast",Q1224870:"dataset",Q79715:"broadcast",Q278425:"dataset",Q548206:"motion_picture",Q632149:"motion_picture",Q996838:"motion_picture",Q1147986:"motion_picture",Q2258523:"map",Q2514870:"dataset",Q2559958:"broadcast",Q4342538:"map",Q15518544:"broadcast",Q15518777:"broadcast",Q20707560:"dataset",Q20871935:"motion_picture",Q55960075:"motion_picture",Q1224984:"dataset",Q5227308:"dataset",Q12328550:"dataset",Q20089094:"motion_picture",Q21040941:"dataset",Q668312:"motion_picture",Q30047053:"dataset",Q18493502:"legal_case",Q1067692:"motion_picture",Q18655723:"motion_picture",Q844993:"song",Q4763437:"book",Q19894488:"book",Q262533:"speech",Q591055:"speech",Q1851305:"speech",Q3588034:"speech",Q20669604:"speech",Q29642901:"dataset",Q1061420:"map",Q2914518:"map",Q186286:"broadcast",Q940462:"broadcast",Q15823625:"map",Q54328426:"broadcast",Q1713326:"motion_picture",Q4453959:"motion_picture",Q5905221:"musical_score",Q23368955:"motion_picture",Q55848868:"motion_picture",Q3072024:"motion_picture",Q965136:"map",Q3546572:"broadcast",Q5449041:"motion_picture",Q6645282:"broadcast",Q25360500:"broadcast",Q376820:"dataset",Q2422383:"dataset",Q14552560:"article-newspaper",Q219897:"dataset",Q787397:"map",Q14943256:"book",Q15715669:"map",Q3196335:"book",Q4700148:"book",Q11669289:"map",Q56683168:"map",Q6749508:"dataset",Q13039854:"dataset",Q19354904:"legal_case",Q25917154:"legal_case",Q25456031:"dataset",Q47484674:"dataset",Q948454:"dataset",Q1734165:"dataset",Q5441632:"book",Q7321644:"book",Q7890265:"book",Q28406796:"dataset",Q46130774:"dataset",Q54820068:"book",Q17146139:"map",Q23691:"song",Q54251760:"motion_picture",Q851995:"map",Q25336664:"dataset",Q11310550:"dataset",Q18086661:"dataset",Q18086666:"dataset",Q18086667:"dataset",Q18086665:"dataset",Q18086671:"dataset",Q18089574:"dataset",Q18089575:"dataset",Q18099930:"dataset",Q18100125:"dataset",Q18889352:"dataset",Q18922463:"dataset",Q20005020:"dataset",Q798134:"thesis",Q1414362:"thesis",Q30749496:"thesis",Q46629343:"thesis",Q51282441:"thesis",Q52823264:"thesis",Q58210330:"thesis",Q1907875:"thesis",Q23745:"broadcast",Q399811:"broadcast",Q775344:"broadcast",Q1658957:"broadcast",Q1786567:"broadcast",Q4783297:"broadcast",Q5219865:"broadcast",Q7185299:"broadcast",Q7731786:"broadcast",Q7892363:"broadcast",Q11086745:"broadcast",Q20986817:"broadcast",Q60393504:"broadcast",Q16342:"dataset",Q632285:"dataset",Q1751819:"dataset",Q2560532:"dataset",Q6517465:"dataset",Q1898445:"map",Q41436524:"book",Q50310598:"dataset",Q5366501:"broadcast",Q9018710:"broadcast",Q11935070:"broadcast",Q688869:"manuscript",Q962741:"manuscript",Q7797194:"dataset",Q1662452:"motion_picture",Q4499034:"song",Q6009879:"book",Q595801:"book",Q894351:"map",Q1352815:"broadcast",Q1569955:"dataset",Q2538131:"book",Q3348148:"dataset",Q5535082:"dataset",Q7574095:"dataset",Q47214765:"broadcast",Q61990518:"broadcast",Q2933978:"broadcast",Q6537693:"dataset",Q6888313:"book",Q12270042:"book",Q21292860:"broadcast",Q350514:"map",Q357674:"map",Q5191437:"dataset",Q24265951:"dataset",Q25110971:"book",Q29966258:"dataset",Q25894883:"dataset",Q2093973:"book",Q1711400:"broadcast",Q3071014:"broadcast",Q61029068:"webpage",Q61996773:"webpage",Q175902:"dataset",Q1295532:"webpage",Q1474116:"webpage",Q1501313:"dataset",Q1916557:"dataset",Q5333554:"dataset",Q7247749:"dataset",Q4330198:"dataset",Q5570651:"dataset",Q7251500:"dataset",Q7277178:"dataset",Q7689673:"dataset",Q15407973:"webpage",Q15647814:"webpage",Q16335141:"dataset",Q18392279:"dataset",Q15623926:"webpage",Q22808320:"webpage",Q24571879:"webpage",Q24574745:"webpage",Q17362920:"webpage",Q28065731:"webpage",Q28208970:"dataset",Q30432511:"webpage",Q54662266:"webpage",Q56428020:"webpage",Q58036154:"webpage",Q58181524:"webpage",Q58423626:"webpage",Q59541917:"webpage",Q59542487:"webpage",Q5227321:"dataset",Q178840:"broadcast",Q482612:"broadcast",Q662197:"broadcast",Q1054760:"broadcast",Q1273568:"broadcast",Q1676730:"broadcast",Q1802588:"broadcast",Q2388283:"broadcast",Q3189895:"broadcast",Q3951815:"broadcast",Q5778915:"broadcast",Q7050677:"broadcast",Q7135559:"broadcast",Q9335577:"broadcast",Q9671105:"broadcast",Q20061443:"broadcast",Q20220309:"broadcast",Q20267837:"broadcast",Q21233490:"broadcast",Q21191068:"broadcast",Q27868077:"broadcast",Q30939244:"broadcast",Q55082620:"broadcast",Q56320653:"broadcast",Q45787211:"dataset",Q1799894:"broadcast",Q19220511:"dataset",Q7841716:"motion_picture",Q5987970:"book",Q7864671:"motion_picture",Q21504449:"broadcast",Q61896850:"motion_picture",Q61911910:"motion_picture",Q15184295:"webpage",Q29581299:"book",Q3507630:"dataset",Q5571730:"webpage",Q13231199:"webpage",Q15851373:"webpage",Q19692233:"webpage",Q2921195:"book",Q20009925:"webpage",Q21167233:"webpage",Q25456482:"webpage",Q26884324:"webpage",Q28197061:"webpage",Q30032916:"webpage",Q33532284:"webpage",Q37152856:"webpage",Q19887878:"webpage",Q30044873:"report",Q11664270:"broadcast",Q1852859:"map",Q2297927:"motion_picture",Q2188827:"manuscript",Q4922471:"broadcast",Q16247289:"broadcast",Q25381170:"book",Q25696292:"dataset",Q11398:"dataset",Q210918:"dataset",Q267474:"dataset",Q1062352:"dataset",Q548492:"dataset",Q732744:"dataset",Q1520859:"dataset",Q1744559:"dataset",Q2748242:"dataset",Q3445240:"dataset",Q3518464:"dataset",Q3546241:"dataset",Q5172500:"dataset",Q6857882:"dataset",Q7398671:"dataset",Q22808060:"song",Q22298551:"dataset",Q22935148:"dataset",Q23014490:"dataset",Q23015153:"dataset",Q185867:"motion_picture",Q192625:"dataset",Q784969:"dataset",Q917904:"dataset",Q3546232:"dataset",Q4382932:"dataset",Q2357684:"dataset",Q2490652:"dataset",Q562667:"treaty",Q11510761:"treaty",Q39234115:"treaty",Q39235586:"treaty",Q39236188:"treaty",Q39236506:"treaty",Q39237589:"treaty",Q691836:"dataset",Q2299775:"dataset",Q2584888:"dataset",Q934210:"dataset",Q16355541:"dataset",Q57560929:"song",Q59826893:"dataset",Q478216:"dataset",Q1138178:"dataset",Q2621880:"dataset",Q2859969:"dataset",Q2964498:"dataset",Q4223049:"dataset",Q4421014:"dataset",Q16549505:"dataset",Q21441341:"dataset",Q26975748:"dataset",Q5366097:"motion_picture",Q1137588:"song",Q6022825:"broadcast",Q15977715:"broadcast",Q24906243:"broadcast",Q471839:"motion_picture",Q1794431:"motion_picture",Q3080071:"broadcast",Q6942568:"motion_picture",Q11900986:"motion_picture",Q16677772:"motion_picture",Q17517379:"motion_picture",Q20667187:"motion_picture",Q29168811:"motion_picture",Q34487266:"broadcast",Q47486001:"motion_picture",Q57780531:"motion_picture",Q223770:"motion_picture",Q4836991:"motion_picture",Q212781:"motion_picture",Q41270:"song",Q383904:"song",Q564848:"song",Q721644:"song",Q5158512:"song",Q6037387:"song",Q3962943:"motion_picture",Q21759196:"motion_picture",Q60630702:"motion_picture",Q222639:"motion_picture",Q1033891:"motion_picture",Q1535153:"motion_picture",Q1740789:"motion_picture",Q1776156:"motion_picture",Q1894374:"motion_picture",Q2421031:"motion_picture",Q332564:"motion_picture",Q853630:"motion_picture",Q909586:"motion_picture",Q987831:"motion_picture",Q1341051:"motion_picture",Q1342372:"motion_picture",Q1696148:"motion_picture",Q2584671:"motion_picture",Q4174664:"motion_picture",Q883179:"motion_picture",Q4925568:"motion_picture",Q5551875:"motion_picture",Q13377551:"motion_picture",Q16247268:"motion_picture",Q18089587:"motion_picture",Q18355406:"motion_picture",Q18648407:"motion_picture",Q4840473:"motion_picture",Q20656232:"motion_picture",Q23044991:"motion_picture",Q25110269:"motion_picture",Q27959357:"motion_picture",Q28968258:"motion_picture",Q28968511:"motion_picture",Q43911809:"motion_picture",Q1276148:"dataset",Q3546236:"dataset",Q819652:"motion_picture",Q1433443:"motion_picture",Q2096633:"motion_picture",Q10654943:"motion_picture",Q15898171:"motion_picture",Q1502766:"motion_picture",Q22981906:"motion_picture",Q33218678:"dataset",Q33219080:"dataset",Q1502102:"dataset",Q290066:"dataset",Q21473954:"dataset",Q884257:"map",Q1136047:"song",Q3442060:"motion_picture",Q6722594:"motion_picture",Q22802898:"dataset",Q1147354:"song",Q541947:"song",Q762917:"song",Q896981:"song",Q1329536:"song",Q1523875:"song",Q1802243:"song",Q4666464:"song",Q5419334:"song",Q5956747:"song",Q5956766:"song",Q10288496:"song",Q13142456:"song",Q54932319:"broadcast",Q16523070:"book",Q1345076:"dataset",Q1331138:"dataset",Q4984974:"motion_picture",Q5442753:"motion_picture",Q59688552:"motion_picture",Q1030329:"motion_picture",Q2560052:"motion_picture",Q50306849:"dataset",Q9351310:"dataset",Q17093751:"motion_picture",Q55616422:"motion_picture",Q5400070:"motion_picture",Q7097859:"motion_picture",Q2518205:"motion_picture",Q39774781:"song",Q40039114:"song",Q496523:"motion_picture",Q586250:"motion_picture",Q658334:"song",Q1206090:"song",Q2642760:"motion_picture",Q2956178:"song",Q3656521:"song",Q4184716:"song",Q4400497:"song",Q5897543:"motion_picture",Q10743749:"song",Q11989328:"song",Q12623540:"song",Q19367312:"motion_picture",Q47011432:"broadcast",Q61057707:"broadcast",Q1192644:"broadcast",Q1193356:"broadcast",Q1193877:"broadcast",Q1193889:"broadcast",Q1198546:"broadcast",Q1200102:"broadcast",Q1200891:"broadcast",Q1203502:"broadcast",Q1328971:"broadcast",Q15548228:"broadcast",Q18611586:"broadcast",Q27986339:"broadcast",Q16984663:"motion_picture",Q535518:"motion_picture",Q583768:"motion_picture",Q1377546:"motion_picture",Q2254193:"motion_picture",Q2292320:"motion_picture",Q3677202:"motion_picture",Q4044177:"motion_picture",Q4075563:"motion_picture",Q731194:"motion_picture",Q5578091:"motion_picture",Q5768328:"motion_picture",Q6926334:"motion_picture",Q7116678:"motion_picture",Q2527949:"dataset",Q6410349:"song",Q58006100:"dataset",Q1065413:"dataset",Q1334294:"dataset",Q5281480:"dataset",Q14806579:"dataset",Q21629439:"broadcast",Q27965091:"broadcast",Q27965088:"broadcast",Q27965089:"broadcast",Q1117103:"motion_picture",Q15077373:"song",Q21848887:"song",Q42525933:"song",Q1246452:"song",Q1564657:"song",Q1786016:"song",Q4138449:"song",Q26211803:"dataset",Q28107644:"dataset",Q438958:"dataset",Q893182:"dataset",Q1361620:"dataset",Q1744558:"dataset",Q2558761:"broadcast",Q3663344:"dataset",Q5837451:"dataset",Q17080472:"dataset",Q18762344:"dataset",Q22936940:"dataset",Q51282626:"thesis",Q51283070:"thesis",Q51283092:"thesis",Q51283110:"thesis",Q51283164:"thesis",Q51283181:"thesis",Q51283199:"thesis",Q51283219:"thesis",Q51283231:"thesis",Q51283362:"thesis",Q1789476:"dataset",Q1741854:"broadcast",Q11396323:"motion_picture",Q1428162:"song",Q4440575:"song",Q2137852:"motion_picture",Q20443008:"motion_picture",Q9049284:"song",Q2976573:"dataset",Q7247163:"dataset",Q18327786:"dataset",Q18327800:"dataset",Q28444881:"song",Q47009776:"motion_picture",Q4078107:"song",Q12242979:"broadcast",Q1308255:"dataset",Q828962:"dataset",Q2976602:"dataset",Q881912:"broadcast",Q16861376:"dataset",Q59784758:"broadcast",Q829147:"song",Q6457531:"motion_picture",Q28030321:"broadcast",Q28225717:"broadcast",Q4663261:"webpage",Q15145755:"webpage",Q18707678:"webpage",Q18711811:"webpage",Q20160182:"webpage",Q20870830:"webpage",Q22676729:"webpage",Q26214208:"webpage",Q28801937:"webpage",Q30279428:"webpage",Q55510433:"webpage",Q59259626:"webpage",Q20769287:"webpage",Q23894233:"webpage",Q24046192:"webpage",Q24514938:"webpage",Q30330522:"webpage",Q38084761:"webpage",Q58118449:"webpage",Q2886579:"dataset",Q21623879:"webpage",Q28092864:"webpage",Q52147067:"webpage",Q18043430:"webpage",Q18810260:"dataset",Q18889371:"dataset",Q18889411:"dataset",Q20893947:"legal_case",Q43096126:"motion_picture",Q56876503:"webpage",Q58408484:"webpage",Q58492747:"webpage",Q61984657:"webpage",Q3309896:"motion_picture",Q5864844:"motion_picture",Q6190581:"webpage",Q25826840:"webpage",Q220898:"motion_picture",Q2513417:"dataset",Q56885002:"webpage",Q179600:"dataset",Q714750:"dataset",Q15101896:"dataset",Q56558180:"song",Q845648:"webpage",Q58310010:"book",Q16937368:"song",Q28135297:"song",Q50309914:"dataset",Q57560968:"song",Q61740934:"song",Q61729725:"song",Q1047299:"motion_picture",Q2281511:"motion_picture",Q4292083:"motion_picture",Q11446446:"motion_picture",Q11464558:"motion_picture",Q11620244:"motion_picture",Q11673786:"motion_picture",Q16000226:"motion_picture",Q43069510:"motion_picture",Q8066387:"motion_picture",Q16824564:"motion_picture",Q52631698:"song",Q20589414:"song",Q20621902:"song",Q19659229:"song",Q2997685:"song",Q5124548:"song",Q512410:"song",Q23978249:"song",Q6647160:"webpage",Q18170752:"song",Q5881246:"song",Q1723850:"motion_picture",Q169672:"motion_picture",Q622310:"motion_picture",Q3072042:"motion_picture",Q5104880:"motion_picture",Q193605:"song",Q20818018:"dataset",Q1065444:"motion_picture",Q5258881:"motion_picture",Q856638:"dataset",Q5769583:"motion_picture",Q5769580:"motion_picture",Q5769586:"motion_picture",Q5769589:"motion_picture",Q5769592:"motion_picture",Q34848596:"motion_picture",Q2145099:"motion_picture",Q43082648:"broadcast",Q21441352:"dataset",Q2976563:"dataset",Q4680764:"dataset",Q4936202:"dataset",Q4992609:"dataset",Q5281190:"dataset",Q5281191:"dataset",Q5281189:"dataset",Q5281192:"dataset",Q5281193:"dataset",Q5465786:"dataset",Q5575198:"dataset",Q7133628:"dataset",Q7133619:"dataset",Q7133626:"dataset",Q7133625:"dataset",Q7133631:"dataset",Q7133632:"dataset",Q7133633:"dataset",Q7135076:"dataset",Q7136196:"dataset",Q7532102:"dataset",Q7539622:"dataset",Q7539620:"dataset",Q7992082:"dataset",Q7992083:"dataset",Q7992119:"dataset",Q7992116:"dataset",Q7992128:"dataset",Q7992164:"dataset",Q17145514:"dataset",Q28130146:"dataset",Q28130147:"dataset",Q28130145:"dataset",Q28134034:"dataset",Q28134060:"dataset",Q28134100:"dataset",Q28134126:"dataset",Q4179738:"song",Q26829682:"webpage",Q22870229:"webpage",Q22875692:"webpage",Q22876063:"webpage",Q22876332:"webpage",Q25737003:"webpage",Q25830508:"webpage",Q57971242:"webpage",Q5611964:"webpage",Q5613278:"webpage",Q5615491:"webpage",Q5618337:"webpage",Q5620523:"webpage",Q5621344:"webpage",Q5622928:"webpage",Q5624848:"webpage",Q5626725:"webpage",Q5636579:"webpage",Q5827463:"webpage",Q5904431:"webpage",Q5911510:"webpage",Q6072180:"webpage",Q6232685:"webpage",Q6305829:"webpage",Q6372354:"webpage",Q6419146:"webpage",Q6499145:"webpage",Q6584170:"webpage",Q6584434:"webpage",Q6606549:"webpage",Q6622740:"webpage",Q6632234:"webpage",Q7241821:"webpage",Q7485705:"webpage",Q8784047:"webpage",Q10560362:"webpage",Q10584970:"webpage",Q10712699:"webpage",Q10730006:"webpage",Q10805463:"webpage",Q10992965:"webpage",Q11011669:"webpage",Q11052053:"webpage",Q11223110:"webpage",Q11839555:"webpage",Q12930680:"webpage",Q13383621:"webpage",Q13394564:"webpage",Q13492790:"webpage",Q13512760:"webpage",Q13763959:"webpage",Q14335223:"webpage",Q14336297:"webpage",Q14336339:"webpage",Q14358273:"webpage",Q14358335:"webpage",Q14358826:"webpage",Q14358898:"webpage",Q14358899:"webpage",Q14396951:"webpage",Q14404469:"webpage",Q14445515:"webpage",Q22867433:"webpage",Q15709178:"webpage",Q17615621:"webpage",Q18340985:"webpage",Q18881752:"webpage",Q22668105:"webpage",Q22706969:"webpage",Q22830149:"webpage",Q22834716:"webpage",Q22834726:"webpage",Q22838914:"webpage",Q22844738:"webpage",Q22846593:"webpage",Q22846942:"webpage",Q22846954:"webpage",Q22846964:"webpage",Q22858302:"webpage",Q22862005:"webpage",Q22867722:"webpage",Q22869003:"webpage",Q33130924:"motion_picture",Q30415057:"webpage",Q55648788:"webpage",Q4663903:"webpage",Q21528878:"webpage",Q22247630:"webpage",Q249083:"dataset",Q1750705:"dataset",Q955185:"dataset",Q1326107:"dataset",Q1520639:"dataset",Q2943040:"dataset",Q6404298:"dataset",Q7248117:"dataset",Q7674850:"dataset",Q29057009:"webpage",Q35250433:"webpage",Q35779580:"webpage",Q47382471:"webpage",Q47524402:"webpage",Q54734643:"webpage",Q58573615:"webpage",Q61866692:"webpage",Q8615872:"webpage",Q21286738:"webpage",Q21469493:"webpage",Q21479588:"webpage",Q23841178:"webpage",Q24571886:"webpage",Q26211786:"dataset",Q28368760:"webpage",Q28373483:"webpage",Q849666:"motion_picture",Q18089617:"motion_picture",Q18889701:"dataset",Q20010800:"webpage",Q163126:"dataset",Q1967745:"dataset",Q2122972:"dataset",Q2565860:"dataset",Q3516420:"dataset",Q13331174:"webpage",Q15088954:"dataset",Q15885744:"dataset",Q16069643:"dataset",Q17146890:"dataset",Q18435139:"dataset",Q20107258:"dataset",Q23894246:"webpage",Q57733325:"dataset",Q17175676:"motion_picture",Q26196748:"motion_picture",Q21484471:"webpage",Q265147:"song",Q56558213:"song",Q627181:"song",Q1151259:"song",Q7023411:"song",Q190635:"dataset",Q526334:"dataset",Q1982918:"dataset",Q2362354:"dataset",Q22842824:"webpage",Q3129804:"motion_picture",Q22677515:"webpage",Q48552277:"webpage",Q56876519:"webpage",Q11753321:"webpage",Q15671253:"webpage",Q20769160:"webpage",Q24731821:"webpage",Q26142649:"webpage",Q36330215:"webpage",Q6306272:"webpage",Q14385296:"webpage",Q14403646:"webpage",Q20107493:"dataset",Q20743001:"webpage",Q14460829:"webpage",Q11643859:"song",Q16141944:"song",Q17990546:"song",Q20043946:"song",Q44292661:"webpage",Q29075123:"webpage",Q40218570:"webpage",Q910144:"dataset",Q5622823:"webpage",Q13565583:"webpage",Q19648608:"webpage",Q19915239:"dataset",Q21278897:"webpage",Q21441359:"dataset",Q21441363:"dataset",Q23841351:"webpage",Q26932615:"webpage",Q26961029:"webpage",Q27949687:"webpage",Q27949697:"webpage",Q28858528:"webpage",Q29075121:"webpage",Q922853:"song",Q3879286:"song",Q3368338:"dataset",Q10997407:"webpage",Q19842659:"webpage",Q56062113:"webpage"}},{}],101:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parse=void 0;var r=function r(t){return t.match(/\/(Q\d+)(?:[#?/]|\s*$)/)[1]};i.parse=r},{}],102:[function(t,e,i){"use strict";i.byteLength=function a(t){var e=h(t),i=e[0],r=e[1];return 3*(i+r)/4-r},i.toByteArray=function f(t){for(var e,i=h(t),r=i[0],s=i[1],n=new c(function u(t,e,i){return 3*(e+i)/4-i}(0,r,s)),a=0,o=0<s?r-4:r,l=0;l<o;l+=4)e=p[t.charCodeAt(l)]<<18|p[t.charCodeAt(l+1)]<<12|p[t.charCodeAt(l+2)]<<6|p[t.charCodeAt(l+3)],n[a++]=e>>16&255,n[a++]=e>>8&255,n[a++]=255&e;2===s&&(e=p[t.charCodeAt(l)]<<2|p[t.charCodeAt(l+1)]>>4,n[a++]=255&e);1===s&&(e=p[t.charCodeAt(l)]<<10|p[t.charCodeAt(l+1)]<<4|p[t.charCodeAt(l+2)]>>2,n[a++]=e>>8&255,n[a++]=255&e);return n},i.fromByteArray=function u(t){for(var e,i=t.length,r=i%3,s=[],n=0,a=i-r;n<a;n+=16383)s.push(l(t,n,a<n+16383?a:n+16383));1==r?(e=t[i-1],s.push(o[e>>2]+o[e<<4&63]+"==")):2==r&&(e=(t[i-2]<<8)+t[i-1],s.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"="));return s.join("")};for(var o=[],p=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,n=r.length;s<n;++s)o[s]=r[s],p[r.charCodeAt(s)]=s;function h(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function l(t,e,i){for(var r,s,n=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),n.push(o[(s=r)>>18&63]+o[s>>12&63]+o[s>>6&63]+o[63&s]);return n.join("")}p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63},{}],103:[function(t,e,B){(function(c){"use strict";function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=t("base64-js"),n=t("ieee754");B.Buffer=c,B.SlowBuffer=function e(t){+t!=t&&(t=0);return c.alloc(+t)},B.INSPECT_MAX_BYTES=50;var i=2147483647;function l(t){if(i<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=c.prototype,e}function c(t,e,i){if("number"!=typeof t)return s(t,e,i);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return o(t)}function s(t,e,i){if("string"==typeof t)return function n(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=0|f(t,e),r=l(i),s=r.write(t,e);s!==i&&(r=r.slice(0,s));return r}(t,e);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(t));if(D(t,ArrayBuffer)||t&&D(t.buffer,ArrayBuffer))return function a(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=e===undefined&&i===undefined?new Uint8Array(t):i===undefined?new Uint8Array(t,e):new Uint8Array(t,e,i);return r.__proto__=c.prototype,r}(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,i);var s=function o(t){if(c.isBuffer(t)){var e=0|p(t.length),i=l(e);return 0===i.length||t.copy(i,0,0,e),i}if(t.length!==undefined)return"number"!=typeof t.length||L(t.length)?l(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}(t);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(t))}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function o(t){return a(t),l(t<0?0:0|p(t))}function u(t){for(var e=t.length<0?0:0|p(t.length),i=l(e),r=0;r<e;r+=1)i[r]=255&t[r];return i}function p(t){if(i<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||D(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+h(t));var i=t.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===i)return 0;for(var s=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return C(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return P(t).length;default:if(s)return r?-1:C(t).length;e=(""+e).toLowerCase(),s=!0}}function m(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function d(t,e,i,r,s){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),L(i=+i)&&(i=s?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(s)return-1;i=t.length-1}else if(i<0){if(!s)return-1;i=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:g(t,e,i,r,s);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):g(t,[e],i,r,s);throw new TypeError("val must be string, number or Buffer")}function g(t,e,i,r,s){var n,a=1,o=t.length,l=e.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o/=a=2,l/=2,i/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(s){var p=-1;for(n=i;n<o;n++)if(u(t,n)===u(e,-1===p?0:n-p)){if(-1===p&&(p=n),n-p+1===l)return p*a}else-1!==p&&(n-=n-p),p=-1}else for(o<i+l&&(i=o-l),n=i;0<=n;n--){for(var c=!0,h=0;h<l;h++)if(u(t,n+h)!==u(e,h)){c=!1;break}if(c)return n}return-1}function b(t,e,i,r){i=Number(i)||0;var s=t.length-i;r?s<(r=Number(r))&&(r=s):r=s;var n=e.length;n/2<r&&(r=n/2);for(var a=0;a<r;++a){var o=parseInt(e.substr(2*a,2),16);if(L(o))return a;t[i+a]=o}return a}function y(t,e,i,r){return R(function s(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function v(t,e,i){return 0===e&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,i))}function _(t,e,i){i=Math.min(t.length,i);for(var r=[],s=e;s<i;){var n,a,o,l,u=t[s],p=null,c=239<u?4:223<u?3:191<u?2:1;if(s+c<=i)switch(c){case 1:u<128&&(p=u);break;case 2:128==(192&(n=t[s+1]))&&127<(l=(31&u)<<6|63&n)&&(p=l);break;case 3:n=t[s+1],a=t[s+2],128==(192&n)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&n)<<6|63&a)&&(l<55296||57343<l)&&(p=l);break;case 4:n=t[s+1],a=t[s+2],o=t[s+3],128==(192&n)&&128==(192&a)&&128==(192&o)&&65535<(l=(15&u)<<18|(63&n)<<12|(63&a)<<6|63&o)&&l<1114112&&(p=l)}null===p?(p=65533,c=1):65535<p&&(p-=65536,r.push(p>>>10&1023|55296),p=56320|1023&p),r.push(p),s+=c}return function h(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=x));return i}(r)}B.kMaxLength=i,(c.TYPED_ARRAY_SUPPORT=function M(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){return c.isBuffer(this)?this.buffer:undefined}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){return c.isBuffer(this)?this.byteOffset:undefined}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(t,e,i){return s(t,e,i)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(t,e,i){return function r(t,e,i){return a(t),t<=0?l(t):e!==undefined?"string"==typeof i?l(t).fill(e,i):l(t).fill(e):l(t)}(t,e,i)},c.allocUnsafe=function(t){return o(t)},c.allocUnsafeSlow=function(t){return o(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(D(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),D(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,r=e.length,s=0,n=Math.min(i,r);s<n;++s)if(t[s]!==e[s]){i=t[s],r=e[s];break}return i<r?-1:r<i?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var i;if(e===undefined)for(i=e=0;i<t.length;++i)e+=t[i].length;var r=c.allocUnsafe(e),s=0;for(i=0;i<t.length;++i){var n=t[i];if(D(n,Uint8Array)&&(n=c.from(n)),!c.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(r,s),s+=n.length}return r},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):function s(t,e,i){var r=!1;if((e===undefined||e<0)&&(e=0),e>this.length)return"";if((i===undefined||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return E(this,e,i);case"utf8":case"utf-8":return _(this,e,i);case"ascii":return w(this,e,i);case"latin1":case"binary":return A(this,e,i);case"base64":return v(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=B.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},c.prototype.compare=function(t,e,i,r,s){if(D(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+h(t));if(e===undefined&&(e=0),i===undefined&&(i=t?t.length:0),r===undefined&&(r=0),s===undefined&&(s=this.length),e<0||i>t.length||r<0||s>this.length)throw new RangeError("out of range index");if(s<=r&&i<=e)return 0;if(s<=r)return-1;if(i<=e)return 1;if(this===t)return 0;for(var n=(s>>>=0)-(r>>>=0),a=(i>>>=0)-(e>>>=0),o=Math.min(n,a),l=this.slice(r,s),u=t.slice(e,i),p=0;p<o;++p)if(l[p]!==u[p]){n=l[p],a=u[p];break}return n<a?-1:a<n?1:0},c.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},c.prototype.indexOf=function(t,e,i){return d(this,t,e,i,!0)},c.prototype.lastIndexOf=function(t,e,i){return d(this,t,e,i,!1)},c.prototype.write=function(t,e,i,r){if(e===undefined)r="utf8",i=this.length,e=0;else if(i===undefined&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,r===undefined&&(r="utf8")):(r=i,i=undefined)}var s=this.length-e;if((i===undefined||s<i)&&(i=s),0<t.length&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var n,a,o,l,u,p,c,h,f,m=!1;;)switch(r){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return h=e,f=i,R(C(t,(c=this).length-h),c,h,f);case"ascii":return y(this,t,e,i);case"latin1":case"binary":return y(this,t,e,i);case"base64":return l=this,u=e,p=i,R(P(t),l,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=e,o=i,R(function d(t,e){for(var i,r,s,n=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),r=i>>8,s=i%256,n.push(s),n.push(r);return n}(t,(n=this).length-a),n,a,o);default:if(m)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),m=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function w(t,e,i){var r="";i=Math.min(t.length,i);for(var s=e;s<i;++s)r+=String.fromCharCode(127&t[s]);return r}function A(t,e,i){var r="";i=Math.min(t.length,i);for(var s=e;s<i;++s)r+=String.fromCharCode(t[s]);return r}function E(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||r<i)&&(i=r);for(var s="",n=e;n<i;++n)s+=j(t[n]);return s}function O(t,e,i){for(var r=t.slice(e,i),s="",n=0;n<r.length;n+=2)s+=String.fromCharCode(r[n]+256*r[n+1]);return s}function T(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(i<t+e)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,i,r,s,n){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(s<e||e<n)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function I(t,e,i,r){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function k(t,e,i,r,s){return e=+e,i>>>=0,s||I(t,0,i,4),n.write(t,e,i,r,23,4),i+4}function N(t,e,i,r,s){return e=+e,i>>>=0,s||I(t,0,i,8),n.write(t,e,i,r,52,8),i+8}c.prototype.slice=function(t,e){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=e===undefined?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=c.prototype,r},c.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||T(t,e,this.length);for(var r=this[t],s=1,n=0;++n<e&&(s*=256);)r+=this[t+n]*s;return r},c.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||T(t,e,this.length);for(var r=this[t+--e],s=1;0<e&&(s*=256);)r+=this[t+--e]*s;return r},c.prototype.readUInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||T(t,e,this.length);for(var r=this[t],s=1,n=0;++n<e&&(s*=256);)r+=this[t+n]*s;return(s*=128)<=r&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||T(t,e,this.length);for(var r=e,s=1,n=this[t+--r];0<r&&(s*=256);)n+=this[t+--r]*s;return(s*=128)<=n&&(n-=Math.pow(2,8*e)),n},c.prototype.readInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||T(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,e){t>>>=0,e||T(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return t>>>=0,e||T(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||T(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||T(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||T(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||S(this,t,e,i,Math.pow(2,8*i)-1,0);var s=1,n=0;for(this[e]=255&t;++n<i&&(s*=256);)this[e+n]=t/s&255;return e+i},c.prototype.writeUIntBE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||S(this,t,e,i,Math.pow(2,8*i)-1,0);var s=i-1,n=1;for(this[e+s]=255&t;0<=--s&&(n*=256);)this[e+s]=t/n&255;return e+i},c.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var s=Math.pow(2,8*i-1);S(this,t,e,i,s-1,-s)}var n=0,a=1,o=0;for(this[e]=255&t;++n<i&&(a*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/a>>0)-o&255;return e+i},c.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var s=Math.pow(2,8*i-1);S(this,t,e,i,s-1,-s)}var n=i-1,a=1,o=0;for(this[e+n]=255&t;0<=--n&&(a*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/a>>0)-o&255;return e+i},c.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeFloatLE=function(t,e,i){return k(this,t,e,!0,i)},c.prototype.writeFloatBE=function(t,e,i){return k(this,t,e,!1,i)},c.prototype.writeDoubleLE=function(t,e,i){return N(this,t,e,!0,i)},c.prototype.writeDoubleBE=function(t,e,i){return N(this,t,e,!1,i)},c.prototype.copy=function(t,e,i,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i=i||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),e=e||0,0<r&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var s=r-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,i,r);else if(this===t&&i<e&&e<r)for(var n=s-1;0<=n;--n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,r),e);return s},c.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var s=t.charCodeAt(0);("utf8"===r&&s<128||"latin1"===r)&&(t=s)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var n;if(e>>>=0,i=i===undefined?this.length:i>>>0,"number"==typeof(t=t||0))for(n=e;n<i;++n)this[n]=t;else{var a=c.isBuffer(t)?t:c.from(t,r),o=a.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<i-e;++n)this[n+e]=a[n%o]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function C(t,e){var i;e=e||Infinity;for(var r=t.length,s=null,n=[],a=0;a<r;++a){if(55295<(i=t.charCodeAt(a))&&i<57344){if(!s){if(56319<i){-1<(e-=3)&&n.push(239,191,189);continue}if(a+1===r){-1<(e-=3)&&n.push(239,191,189);continue}s=i;continue}if(i<56320){-1<(e-=3)&&n.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&-1<(e-=3)&&n.push(239,191,189);if(s=null,i<128){if((e-=1)<0)break;n.push(i)}else if(i<2048){if((e-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return n}function P(t){return r.toByteArray(function e(t){if((t=(t=t.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function R(t,e,i,r){for(var s=0;s<r&&!(s+i>=e.length||s>=t.length);++s)e[s+i]=t[s];return s}function D(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function L(t){return t!=t}}).call(this,t("buffer").Buffer)},{"base64-js":102,buffer:103,ieee754:463}],104:[function(t,e,i){"use strict";function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,f,m,d,s,n,a,o,l,u,p,c,h,Tt={PROCESSOR_VERSION:"1.2.10",LOCATOR_LABELS_REGEXP:new RegExp("^((art|ch|subch|col|fig|l|n|no|op|p|pp|para|subpara|supp|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|supp|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|supp|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"art.":"article","bk.":"book","ch.":"chapter","subch.":"subchapter","p.":"page","pp.":"page","para.":"paragraph","subpara.":"subparagraph","pt.":"part","r.":"rule","sec.":"section","subsec.":"subsection","supp.":"supplement","sch.":"schedule","tit.":"title","col.":"column","fig.":"figure","fol.":"folio","l.":"line","n.":"note","no.":"issue","op.":"opus","sv.":"sub-verbo","vrs.":"verse","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{article:"art.",book:"bk.",chapter:"ch.",subchapter:"subch.",page:"p.",paragraph:"para.",subparagraph:"subpara.",part:"pt.",rule:"r.",section:"sec.",subsection:"subsec.",supplement:"supp.",schedule:"sch.",title:"tit.",column:"col.",figure:"fig.",folio:"fol.",line:"l.",note:"n.",issue:"no.",opus:"op.","sub-verbo":"sv.","sub verbo":"sv.",verse:"vrs.",volume:"vol."},LOCATOR_LABELS_MAP:{art:"article",bk:"book",ch:"chapter",subch:"subchapter",col:"column",fig:"figure",fol:"folio",l:"line",n:"note",no:"issue",op:"opus",p:"page",pp:"page",para:"paragraph",subpara:"subparagraph",pt:"part",r:"rule",sec:"section",subsec:"subsection",supp:"supplement",sv:"sub-verbo",sch:"schedule",tit:"title",vrs:"verse",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0},checkNestedBrace:function(t){"note"===t.opt.xclass?(this.depth=0,this.update=function(t){for(var e=(t=t||"").split(/([\(\)])/),i=1,r=e.length;i<r;i+=2)"("===e[i]?(1==this.depth%2&&(e[i]="["),this.depth+=1):")"===e[i]&&(0==this.depth%2&&(e[i]="]"),this.depth-=1);return e.join("")}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"collection-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(t){if(this.opt.development_extensions.locator_date_and_revision&&t.locator){t.locator=""+t.locator;var e=t.locator.indexOf("|");if(-1<e){var i=t.locator;t.locator=i.slice(0,e);var r=(i=i.slice(e+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);r&&(t["locator-date"]=this.fun.dateparser.parseDateToObject(r[1]),i=i.slice(r[1].length)),t["locator-extra"]=i.replace(/^\s+/,"").replace(/\s+$/,"")}}return t.locator&&(t.locator=(""+t.locator).replace(/\s+$/,"")),t},normalizeLocaleStr:function(t){if(t){var e=t.split("-");return e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),e.join("-")}},parseNoteFieldHacks:function(t,e,i){if("string"==typeof t.note){for(var r=[],s=t.note.split("\n"),n=0,a=s.length;n<a;n++){r=[];var o=(f=s[n]).match(Tt.NOTE_FIELDS_REGEXP);if(o){for(var l=f.split(Tt.NOTE_FIELDS_REGEXP),u=0,p=l.length-1;u<p;u++)r.push(l[u]),r.push(o[u]);r.push(l[l.length-1]);for(u=1,p=r.length;u<p&&(!r[u-1].trim()||!(0<n||1<u)||r[u-1].match(Tt.NOTE_FIELD_REGEXP));u+=2)r[u]="\n"+r[u].slice(2,-1).trim()+"\n";s[n]=r.join("")}}var c=0,h={};for(n=0,a=(s=s.join("\n").split("\n")).length;n<a;n++){var f,m=(f=s[n]).match(Tt.NOTE_FIELD_REGEXP);if(f.trim()){if(!m){if(0===n)continue;c=n;break}var d=m[1],g=m[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===d)t.type=g,s[n]="";else if(-1<Tt.DATE_VARIABLES.indexOf(d.replace(/^alt-/,"")))t[d]&&!i||(t[d]=Tt.DateParser.parseDateToArray(g),(!e||e[d]&&this.isDateString(g))&&(s[n]=""));else if(!t[d]){if(-1<Tt.NAME_VARIABLES.indexOf(d.replace(/^alt-/,""))){h[d]||(h[d]=[]);var b=g.split(/\s*\|\|\s*/);if(1===b.length)h[d].push({literal:b[0]});else if(2===b.length){var y={family:b[0],given:b[1]};Tt.parseParticles(y),h[d].push(y)}}else t[d]=g;e&&!e[d]||(s[n]="")}}}for(var d in h)t[d]=h[d];if(e){s[c].trim()&&(s[c]="\n"+s[c]);for(n=c-1;-1<n;n--)s[n].trim()||(s=s.slice(0,n).concat(s.slice(n+1)))}t.note=s.join("\n").trim()}},checkPrefixSpaceAppend:function(t,e){var i="",r=(e=e||"").replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),s=r.slice(-1);return r.match(Tt.ENDSWITH_ROMANESQUE_REGEXP)?i=" ":-1<Tt.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)?i=" ":s.match(/[\)\],0-9]/)&&(i=" "),e=(e+i).replace(/\s+/g," ")},checkIgnorePredecessor:function(t,e){var i=e.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,"").slice(-1);return-1<Tt.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(i)&&-1<e.trim().indexOf(" ")&&!(t.tmp.term_predecessor=!1)},checkSuffixSpacePrepend:function(t,e){return e?((e.match(Tt.STARTSWITH_ROMANESQUE_REGEXP)||-1<["[","("].indexOf(e.slice(0,1)))&&(e=" "+e),e):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],PARALLEL_MATCH_VARS:["container-title"],PARALLEL_TYPES:["bill","gazette","regulation","legislation","legal_case","treaty","article-magazine","article-journal"],PARALLEL_COLLAPSING_MID_VARSET:["volume","issue","container-title","section","collection-number"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator"],CREATORS:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(t){for(var e=["title","short","main","sub","subjoin"],i={},r=0,s=e.length;r<s;r++)i[e[r]]=t+"title"+("title"===e[r]?"":"-"+e[r]);return i},demoteNoiseWords:function(t,e,i){var r=t.locale[t.opt.lang].opts["leading-noise-words"];if(e&&i){(e=e.split(/\s+/)).reverse();for(var s=[],n=e.length-1;-1<n&&-1<r.indexOf(e[n].toLowerCase());n+=-1)s.push(e.pop());e.reverse();var a=e.join(" "),o=s.join(" ");"drop"!==i&&o?"demote"===i&&(e=[a,o].join(", ")):e=a}return e},extractTitleAndSubtitle:function(t,e){for(var i=e?"\u202f":"",r=["","container-"],s=0,n=r.length;s<n;s++){var a=r[s],o=Tt.TITLE_FIELD_SPLITS(a),l=[!1];if(t.multi)for(var u in t.multi._keys[o["short"]])l.push(u);for(var p=0,c=l.length;p<c;p++){var h={};(u=l[p])?(t.multi._keys[o.title]&&(h[o.title]=t.multi._keys[o.title][u]),t.multi._keys[o["short"]]&&(h[o["short"]]=t.multi._keys[o["short"]][u])):(h[o.title]=t[o.title],h[o["short"]]=t[o["short"]]),h[o.main]=h[o.title],h[o.sub]=!1;var f=h[o["short"]];if(h[o.title]){if(f&&f===h[o.title])h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]="";else if(f){var m=h[o.title].slice(f.replace(/[\?\!]+$/,"").length);if(g=Tt.TITLE_SPLIT_REGEXP.matchfirst.exec(m))h[o.main]=f,h[o.subjoin]=g[1].replace(/[\?\!]+(\s*)$/,"$1"),h[o.sub]=m.replace(Tt.TITLE_SPLIT_REGEXP.matchfirst,"");else 3==(d=Tt.TITLE_SPLIT(h[o.title])).length?(h[o.main]=d[0],h[o.subjoin]=d[1],h[o.sub]=d[2]):(h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]="")}else{var d;3==(d=Tt.TITLE_SPLIT(h[o.title])).length?(h[o.main]=d[0],h[o.subjoin]=d[1],h[o.sub]=d[2]):(h[o.main]=h[o.title],h[o.subjoin]="",h[o.sub]="")}if(h[o.subjoin]&&h[o.subjoin].match(/([\?\!])/)){var g=h[o.subjoin].match(/(\s*)$/);h[o.main]=h[o.main]+i+h[o.subjoin].trim(),h[o.subjoin]=g[1]}}if(h[o.subjoin]&&(-1<h[o.subjoin].indexOf(":")&&(h[o.subjoin]=i+": "),(-1<h[o.subjoin].indexOf("-")||-1<h[o.subjoin].indexOf("\u2014"))&&(h[o.subjoin]="\u2014")),u)for(var b in h)t.multi._keys[b]||(t.multi._keys[b]={}),t.multi._keys[b][u]=h[b];else for(var b in h)t[b]=h[b]}}},titlecaseSentenceOrNormal:function(t,e,i,r,s){var n=Tt.TITLE_FIELD_SPLITS(i),a={};if(r&&e.multi?(e.multi._keys[n.title]&&(a[n.title]=e.multi._keys[n.title][r]),e.multi._keys[n.main]&&(a[n.main]=e.multi._keys[n.main][r]),e.multi._keys[n.sub]&&(a[n.sub]=e.multi._keys[n.sub][r]),e.multi._keys[n.subjoin]&&(a[n.subjoin]=e.multi._keys[n.subjoin][r])):(a[n.title]=e[n.title],a[n.main]=e[n.main],a[n.sub]=e[n.sub],a[n.subjoin]=e[n.subjoin]),a[n.main]&&a[n.sub]){var o=a[n.main],l=a[n.subjoin],u=a[n.sub];return s?(o=Tt.Output.Formatters.sentence(t,o),u=Tt.Output.Formatters.sentence(t,u)):t.opt.development_extensions.uppercase_subtitles&&(u=Tt.Output.Formatters["capitalize-first"](t,u)),[o,l,u].join("")}if(a[n.title]){if(s)return Tt.Output.Formatters.sentence(t,a[n.title]);if(t.opt.development_extensions.uppercase_subtitles){for(var p=Tt.TITLE_SPLIT(a[n.title]),c=0,h=p.length;c<h;c+=2)p[c]=Tt.Output.Formatters["capitalize-first"](t,p[c]);for(c=1,h=p.length-1;c<h;c+=2){var f=p[c].match(/([:\?\!] )/);if(f){var m="fr"===t.opt["default-locale"][0].slice(0,2).toLowerCase()?"\u202f":"";p[c]=m+f[1]}(-1<p[c].indexOf("-")||-1<p[c].indexOf("\u2014"))&&(p[c]="\u2014")}return a[n.title]=p.join(""),a[n.title]}return a[n.title]}return""},getSafeEscape:function(r){if(-1<["bibliography","citation"].indexOf(r.tmp.area)){var s=[];return r.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===r.opt.mode&&s.push(function(t){return t.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),s.length?function(t){for(var e=0,i=s.length;e<i;e+=1)t=s[e](t);return Tt.Output.Formats[r.opt.mode].text_escape(t)}:Tt.Output.Formats[r.opt.mode].text_escape}return function(t){return t}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-\xe0-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokm\xe5l)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"\xaa":"a","\xb2":"2","\xb3":"3","\xb9":"1","\xba":"o","\u02b0":"h","\u02b1":"\u0266","\u02b2":"j","\u02b3":"r","\u02b4":"\u0279","\u02b5":"\u027b","\u02b6":"\u0281","\u02b7":"w","\u02b8":"y","\u02e0":"\u0263","\u02e1":"l","\u02e2":"s","\u02e3":"x","\u02e4":"\u0295","\u1d2c":"A","\u1d2d":"\xc6","\u1d2e":"B","\u1d30":"D","\u1d31":"E","\u1d32":"\u018e","\u1d33":"G","\u1d34":"H","\u1d35":"I","\u1d36":"J","\u1d37":"K","\u1d38":"L","\u1d39":"M","\u1d3a":"N","\u1d3c":"O","\u1d3d":"\u0222","\u1d3e":"P","\u1d3f":"R","\u1d40":"T","\u1d41":"U","\u1d42":"W","\u1d43":"a","\u1d44":"\u0250","\u1d45":"\u0251","\u1d46":"\u1d02","\u1d47":"b","\u1d48":"d","\u1d49":"e","\u1d4a":"\u0259","\u1d4b":"\u025b","\u1d4c":"\u025c","\u1d4d":"g","\u1d4f":"k","\u1d50":"m","\u1d51":"\u014b","\u1d52":"o","\u1d53":"\u0254","\u1d54":"\u1d16","\u1d55":"\u1d17","\u1d56":"p","\u1d57":"t","\u1d58":"u","\u1d59":"\u1d1d","\u1d5a":"\u026f","\u1d5b":"v","\u1d5c":"\u1d25","\u1d5d":"\u03b2","\u1d5e":"\u03b3","\u1d5f":"\u03b4","\u1d60":"\u03c6","\u1d61":"\u03c7","\u2070":"0","\u2071":"i","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u207a":"+","\u207b":"\u2212","\u207c":"=","\u207d":"(","\u207e":")","\u207f":"n","\u2120":"SM","\u2122":"TM","\u3192":"\u4e00","\u3193":"\u4e8c","\u3194":"\u4e09","\u3195":"\u56db","\u3196":"\u4e0a","\u3197":"\u4e2d","\u3198":"\u4e0b","\u3199":"\u7532","\u319a":"\u4e59","\u319b":"\u4e19","\u319c":"\u4e01","\u319d":"\u5929","\u319e":"\u5730","\u319f":"\u4eba","\u02c0":"\u0294","\u02c1":"\u0295","\u06e5":"\u0648","\u06e6":"\u064a"},SUPERSCRIPTS_REGEXP:new RegExp("[\xaa\xb2\xb3\xb9\xba\u02b0\u02b1\u02b2\u02b3\u02b4\u02b5\u02b6\u02b7\u02b8\u02e0\u02e1\u02e2\u02e3\u02e4\u1d2c\u1d2d\u1d2e\u1d30\u1d31\u1d32\u1d33\u1d34\u1d35\u1d36\u1d37\u1d38\u1d39\u1d3a\u1d3c\u1d3d\u1d3e\u1d3f\u1d40\u1d41\u1d42\u1d43\u1d44\u1d45\u1d46\u1d47\u1d48\u1d49\u1d4a\u1d4b\u1d4c\u1d4d\u1d4f\u1d50\u1d51\u1d52\u1d53\u1d54\u1d55\u1d56\u1d57\u1d58\u1d59\u1d5a\u1d5b\u1d5c\u1d5d\u1d5e\u1d5f\u1d60\u1d61\u2070\u2071\u2074\u2075\u2076\u2077\u2078\u2079\u207a\u207b\u207c\u207d\u207e\u207f\u2120\u2122\u3192\u3193\u3194\u3195\u3196\u3197\u3198\u3199\u319a\u319b\u319c\u319d\u319e\u319f\u02c0\u02c1\u06e5\u06e6]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(t,e,i){if(t.tmp.group_context.tip.condition){if(t.tmp.group_context.tip.condition.test){var r;if("empty-label"===t.tmp.group_context.tip.condition.test)r=!e;else if("empty-label-no-decor"===t.tmp.group_context.tip.condition.test)r=!e||-1<e.indexOf("%s");else if("comma-safe"===t.tmp.group_context.tip.condition.test){var s=!e,n=e.slice(0,1).match(Tt.ALL_ROMANESQUE_REGEXP);t.tmp.just_did_number;r=s||!(!n||i)}t.tmp.group_context.tip.force_suppress=!r,t.tmp.group_context.tip.condition.not&&(t.tmp.group_context.tip.force_suppress=!t.tmp.group_context.tip.force_suppress)}}else e.slice(-1).match(/[0-9]/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles"],TITLE_SPLIT_REGEXP:(r=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*\u2014\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"],{match:new RegExp("("+r.join("|")+")","g"),matchfirst:new RegExp("^("+r.join("|")+")"),split:new RegExp("(?:"+r.join("|")+")")}),TITLE_SPLIT:function(t){if(!t)return t;for(var e=t.match(Tt.TITLE_SPLIT_REGEXP.match),i=t.split(Tt.TITLE_SPLIT_REGEXP.split),r=i.length-2;-1<r;r--)i[r]=i[r].trim(),i=i[r]&&i[r].slice(-1).toLowerCase()!==i[r].slice(-1)?(i[r]=i[r]+e[r]+i[r+1],i.slice(0,r+1).concat(i.slice(r+2))):i.slice(0,r+1).concat([e[r]]).concat(i.slice(r+1));return i}};function g(t){var e=t.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!e||e[2].match(/^[\u0370-\u03FF]$/)&&!e[3]?t:e[1]+e[2].toUpperCase()+e[3]}function b(s,t){if(!t)return"";s.doppel=f.split(t);var n={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"\u2018":{opener:"\u2018",closer:"\u2019"},"\u201c":{opener:"\u201c",closer:"\u201d"}};function r(t,e){return-1<["\u201c","\u2018",' "'," '"].indexOf(t)?function r(t,e){if(0===s.quoteState.length||t===s.quoteState[s.quoteState.length-1].opener)return s.quoteState.push({opener:n[t].opener,closer:n[t].closer,pos:e}),!1;var i=s.quoteState[s.quoteState.length-1].pos;return s.quoteState.pop(),s.quoteState.push({opener:n[t].opener,closer:n[t].closer,positions:e}),i}(t,e):function i(t,e){if(!(0<s.quoteState.length&&t===s.quoteState[s.quoteState.length-1].closer))return e;s.quoteState.pop()}(t,e)}function e(t,e){var i=t.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(i)return r(i[1],e)}s.doppel.strings.length&&s.doppel.strings[0].trim()&&(s.doppel.strings[0]=s.capitaliseWords(s.doppel.strings[0],0,s.doppel.tags[0]));for(var i=0,a=s.doppel.tags.length;i<a;i++){var o=s.doppel.tags[i],l=s.doppel.strings[i+1];if(null!==s.tagState&&(d[o]?s.tagState.push(d[o]):s.tagState.length&&o===s.tagState[s.tagState.length-1]&&s.tagState.pop()),null!==s.afterPunct&&o.match(/[\!\?\:]$/)&&(s.afterPunct=!0),0===s.tagState.length?s.doppel.strings[i+1]=s.capitaliseWords(l,i+1,s.doppel,s.doppel.tags[i+1]):s.doppel.strings[i+1].trim()&&(s.lastWordPos=null),null!==s.quoteState)if((p=e(o,i))||0===p){var u=s.doppel.origStrings[p+1].slice(0,1);s.doppel.strings[p+1]=u+s.doppel.strings[p+1].slice(1),s.lastWordPos=null}s.isFirst&&l.trim()&&(s.isFirst=!1),s.afterPunct&&l.trim()&&(s.afterPunct=!1)}if(s.quoteState)for(i=0,a=s.quoteState.length;i<a;i++){var p;if(void 0!==(p=s.quoteState[i].pos)){u=s.doppel.origStrings[p+1].slice(0,1);s.doppel.strings[p+1]=u+s.doppel.strings[p+1].slice(1)}}if(s.lastWordPos){var c=m.split(s.doppel.strings[s.lastWordPos.strings]),h=c.strings[s.lastWordPos.words];1<h.length&&h.toLowerCase().match(s.skipWordsRex)&&(h=g(h),c.strings[s.lastWordPos.words]=h),s.doppel.strings[s.lastWordPos.strings]=m.join(c)}return f.join(s.doppel)}function y(t,e,i){var r=t;t=i?t.toLowerCase():t;var s,n,a=[];s=e?(t=t.split("").reverse().join(""),Tt.PARTICLE_GIVEN_REGEXP):Tt.PARTICLE_FAMILY_REGEXP;for(var o=t.match(s);o;){var l,u=e?o[1].split("").reverse().join(""):o[1];if(!(n=!!(l=!!(l=!!o&&u)&&u.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&l.toUpperCase()!==l))break;r=e?(a.push(r.slice(-1*u.length)),r.slice(0,-1*u.length)):(a.push(r.slice(0,u.length)),r.slice(u.length)),o=(t=o[2]).match(s)}if(e){t=t.split("").reverse().join(""),a.reverse();for(var p=1,c=a.length;p<c;p++)" "==a[p].slice(0,1)&&(a[p-1]+=" ");for(p=0,c=a.length;p<c;p++)" "==a[p].slice(0,1)&&(a[p]=a[p].slice(1));t=r.slice(0,t.length)}else t=r.slice(-1*t.length);return[n,t,a]}"undefined"==typeof console?(Tt.debug=function(t){dump("CSL: "+t+"\n")},Tt.error=function(t){dump("CSL error: "+t+"\n")}):(Tt.debug=function(t){console.log("CSL: "+t)},Tt.error=function(t){console.log("CSL error: "+t)}),Tt.XmlJSON=function(t){this.dataObj=t,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", ","substitute-use-first":"1","use-last":"1"},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},Tt.XmlJSON.prototype.clean=function(t){return t},Tt.XmlJSON.prototype.getStyleId=function(t,e){var i="id";e&&(i="title");for(var r="",s=t.children,n=0,a=s.length;n<a;n++)if("info"===s[n].name)for(var o=s[n].children,l=0,u=o.length;l<u;l++)o[l].name===i&&(r=o[l].children[0]);return r},Tt.XmlJSON.prototype.children=function(t){return!(!t||!t.children.length)&&t.children.slice()},Tt.XmlJSON.prototype.nodename=function(t){return t?t.name:null},Tt.XmlJSON.prototype.attributes=function(t){var e={};for(var i in t.attrs)e["@"+i]=t.attrs[i];return e},Tt.XmlJSON.prototype.content=function(t){var e="";if(!t||!t.children)return e;for(var i=0,r=t.children.length;i<r;i+=1)"string"==typeof t.children[i]&&(e+=t.children[i]);return e},Tt.XmlJSON.prototype.namespace={},Tt.XmlJSON.prototype.numberofnodes=function(t){return t&&"number"==typeof t.length?t.length:0},Tt.XmlJSON.prototype.getAttributeValue=function(t,e,i){var r="";return i&&(e=i+":"+e),t&&t.attrs&&(r=t.attrs[e]?t.attrs[e]:""),r},Tt.XmlJSON.prototype.getNodeValue=function(t,e){var i="";if(e)for(var r=0,s=t.children.length;r<s;r+=1)t.children[r].name===e&&(i=t.children[r].children.length?t.children[r]:"");else t&&(i=t);return i&&i.children&&1==i.children.length&&"string"==typeof i.children[0]&&(i=i.children[0]),i},Tt.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,r,s){"@"===r.slice(0,1)&&(r=r.slice(1));for(var n=0,a=t.children.length;n<a;n+=1)t.children[n].name===e&&t.children[n].attrs.name===i&&(t.children[n].attrs[r]=s)},Tt.XmlJSON.prototype.deleteNodeByNameAttribute=function(t,e){var i,r;for(i=0,r=t.children.length;i<r;i+=1)t.children[i]&&"string"!=typeof t.children[i]&&t.children[i].attrs.name==e&&(t.children=t.children.slice(0,i).concat(t.children.slice(i+1)))},Tt.XmlJSON.prototype.deleteAttribute=function(t,e){"undefined"!=typeof t.attrs[e]&&t.attrs.pop(e)},Tt.XmlJSON.prototype.setAttribute=function(t,e,i){return t.attrs[e]=i,!1},Tt.XmlJSON.prototype.nodeCopy=function(t,e){if(!e)e={};if("object"===$(e)&&"undefined"==typeof e.length)for(var i in t)"string"==typeof t[i]?e[i]=t[i]:"object"===$(t[i])&&("undefined"==typeof t[i].length?e[i]=this.nodeCopy(t[i],{}):e[i]=this.nodeCopy(t[i],[]));else for(var r=0,s=t.length;r<s;r+=1)"string"==typeof t[r]?e[r]=t[r]:e[r]=this.nodeCopy(t[r],{});return e},Tt.XmlJSON.prototype.getNodesByName=function(t,e,i,r){if(!r)r=[];if(!t||!t.children)return r;e===t.name&&(i?i===t.attrs.name&&r.push(t):r.push(t));for(var s=0,n=t.children.length;s<n;s+=1)"object"===$(t.children[s])&&this.getNodesByName(t.children[s],e,i,r);return r},Tt.XmlJSON.prototype.nodeNameIs=function(t,e){return void 0!==t&&e==t.name},Tt.XmlJSON.prototype.makeXml=function(t){return"string"==typeof t&&(t="<"===t.slice(0,1)?this.jsonStringWalker.walkToObject(t):JSON.parse(t)),t},Tt.XmlJSON.prototype.insertChildNodeAfter=function(t,e,i,r){for(var s=0,n=t.children.length;s<n;s+=1)if(e===t.children[s]){t.children=t.children.slice(0,s).concat([r]).concat(t.children.slice(s+1));break}return t},Tt.XmlJSON.prototype.insertPublisherAndPlace=function(t){if("group"===t.name){for(var e=!0,i=["publisher","publisher-place"],r=0,s=t.children.length;r<s;r+=1){var n=i.indexOf(t.children[r].attrs.variable);if(!("text"===t.children[r].name&&-1<n)||t.children[r].attrs.prefix||t.children[r].attrs.suffix){e=!1;break}i=i.slice(0,n).concat(i.slice(n+1))}e&&!i.length&&(t.attrs["has-publisher-and-publisher-place"]=!0)}for(r=0,s=t.children.length;r<s;r+=1)"object"===$(t.children[r])&&this.insertPublisherAndPlace(t.children[r])},Tt.XmlJSON.prototype.isChildOfSubstitute=function(t){if(0<t.length){var e=t.slice();return"substitute"===e.pop()||this.isChildOfSubstitute(e)}return!1},Tt.XmlJSON.prototype.addMissingNameNodes=function(t,e){if(e=e||[],"names"===t.name&&!this.isChildOfSubstitute(e)){for(var i=!0,r=0,s=t.children.length;r<s;r++)if("name"===t.children[r].name){i=!1;break}i&&(t.children=[{name:"name",attrs:{},children:[]}].concat(t.children))}e.push(t.name);for(r=0,s=t.children.length;r<s;r+=1)"object"===$(t.children[r])&&this.addMissingNameNodes(t.children[r],e);e.pop()},Tt.XmlJSON.prototype.addInstitutionNodes=function(t){if("names"===t.name){for(var e={},i=-1,r=0,s=t.children.length;r<s;r+=1){if("name"==t.children[r].name){for(var n in t.children[r].attrs)e[n]=t.children[r].attrs[n];e.delimiter=t.children[r].attrs.delimiter,e.and=t.children[r].attrs.and,i=r;for(var a=0,o=t.children[r].children.length;a<o;a+=1)if("family"===t.children[r].children[a].attrs.name)for(var n in t.children[r].children[a].attrs)e[n]=t.children[r].children[a].attrs[n]}if("institution"==t.children[r].name){i=-1;break}}if(-1<i){var l=this.nodeCopy(this.institution);for(r=0,s=Tt.INSTITUTION_KEYS.length;r<s;r+=1){var u=Tt.INSTITUTION_KEYS[r];"undefined"!=typeof e[u]&&(l.children[0].attrs[u]=e[u]),e.delimiter&&(l.attrs.delimiter=e.delimiter),e.and&&(l.attrs.and="text")}t.children=t.children.slice(0,i+1).concat([l]).concat(t.children.slice(i+1))}}for(r=0,s=t.children.length;r<s;r+=1)"string"!=typeof t.children[r]&&this.addInstitutionNodes(t.children[r])},Tt.XmlJSON.prototype.flagDateMacros=function(t){for(var e=0,i=t.children.length;e<i;e+=1)"macro"===t.children[e].name&&this.inspectDateMacros(t.children[e])&&(t.children[e].attrs["macro-has-date"]="true")},Tt.XmlJSON.prototype.inspectDateMacros=function(t){if(!t||!t.children)return!1;if("date"===t.name)return!0;for(var e=0,i=t.children.length;e<i;e+=1)if(this.inspectDateMacros(t.children[e]))return!0;return!1},Tt.stripXmlProcessingInstruction=function(t){return t?t=(t=(t=(t=t.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):t},Tt.parseXml=function(t){var e={children:[]},s=[e.children];function c(t){return t.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(t,e){var i=parseInt(e,10);return String.fromCharCode(i)}).replace(/&#x([a-f0-9]{1,6});/gi,function(t,e){var i=parseInt(e,16);return String.fromCharCode(i)})}function h(t){var e=RegExp("^<([^\t />]+)"),i=t.match(e);return i?i[1]:null}function n(t){var e={};e.name=h(t),e.attrs={};var i,r,s,n,a=function p(t){var e=t.match(/([^\'\"=\x09 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(e)for(var i=0,r=e.length;i<r;i++)e[i]=e[i].replace(/=.*/,"");return e}(t);if(a)for(var o=0,l=a.length;o<l;o++){var u={name:a[o],value:(i=t,r=a[o],void 0,n=void 0,s=RegExp("^.*[\t ]+"+r+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),n=i.match(s),n?n[1].slice(1,-1):null)};e.attrs[u.name]=c(u.value)}return e.children=[],e}function a(t){s.slice(-1)[0].push(t)}function i(t){var e;-1<t.slice(1).indexOf("<")?((e=n(t.slice(0,t.indexOf(">")+1))).children=[function i(t){return c(t.match(/^.*>([^<]*)<.*$/)[1])}(t)],a(e)):"/>"===t.slice(-2)?(e=n(t),"term"===h(t)&&e.children.push(""),a(e)):"</"===t.slice(0,2)?s.pop():(a(e=n(t)),function r(t){s.push(t.children)}(e))}for(var r=function u(t){for(var e=(t=t.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[\x09 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),i=null,r=0,s=e.length;r<s;r++)0<r&&(e[r]="<"+e[r]),r<e.length-1&&(e[r]=e[r]+">"),"number"!=typeof i&&("<style "!==e[r].slice(0,7)&&"<locale "!=e[r].slice(0,8)||(i=r));for(r=(e=e.slice(i)).length-2;-1<r;r--)if(-1===e[r].slice(1).indexOf("<")){var n=e[r].slice(0,5);"/>"!==e[r].slice(-2)&&("<term"===n?"</term"===e[r+1].slice(0,6)&&(e[r]=e[r]+e[r+1],e=e.slice(0,r+1).concat(e.slice(r+2))):-1<["<sing","<mult"].indexOf(n)&&"/>"!==e[r].slice(-2)&&"<"===e[r+1].slice(0,1)&&(e[r]=e[r]+e[r+1],e=e.slice(0,r+1).concat(e.slice(r+2))))}return e}(t),o=0,l=r.length;o<l;o++){i(r[o])}return e.children[0]},Tt.XmlDOM=function(t){this.dataObj=t,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t,e){var i;return"undefined"!=typeof ActiveXObject?((i=new ActiveXObject("MSXML.DomDocument")).async=!1,i.loadXML(t),i):"undefined"!=typeof XMLHttpRequest?(e=e||"text/xml",(i=new XMLHttpRequest).open("GET","data:"+e+";charset=utf-8,"+encodeURIComponent(t),!1),i.overrideMimeType&&i.overrideMimeType(e),i.send(null),i.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(t):void 0},this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)}):this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)},this.importNode=function(t,e){return"undefined"==typeof t.importNode?this._importNode(t,e,!0):t.importNode(e,!0)},this._importNode=function(t,e,i){switch(e.nodeType){case 1:var r=t.createElement(e.nodeName);if(e.attributes&&0<e.attributes.length)for(var s=0,n=e.attributes.length;s<n;)r.setAttribute(e.attributes[s].nodeName,e.getAttribute(e.attributes[s++].nodeName));if(i&&e.childNodes&&0<e.childNodes.length)for(s=0,n=e.childNodes.length;s<n;)r.appendChild(this._importNode(t,e.childNodes[s++],i));return r}},this.parser=new DOMParser;var e=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),i=e.getElementsByTagName("institution");this.institution=i.item(0);var r=e.getElementsByTagName("institution-part");this.institutionpart=r.item(0),this.ns="http://purl.org/net/xbiblio/csl"},Tt.XmlDOM.prototype.clean=function(t){return t=(t=(t=(t=(t=t.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},Tt.XmlDOM.prototype.getStyleId=function(t,e){var i="",r="id";e&&(r="title");var s=t.getElementsByTagName(r);return s&&s.length&&(s=s.item(0)),s&&(i=s.textContent),i=(i=i||s.innerText)||s.innerHTML},Tt.XmlDOM.prototype.children=function(t){var e,i,r,s;if(t){for(s=[],i=0,r=(e=t.childNodes).length;i<r;i+=1)"#text"!=e[i].nodeName&&s.push(e[i]);return s}return[]},Tt.XmlDOM.prototype.nodename=function(t){return t.nodeName},Tt.XmlDOM.prototype.attributes=function(t){var e,i,r,s,n;if(e=new Object,t&&this.hasAttributes(t))for(s=0,n=(i=t.attributes).length;s<n;s+=1)e["@"+(r=i[s]).name]=r.value;return e},Tt.XmlDOM.prototype.content=function(t){return"undefined"!=typeof t.textContent?t.textContent:"undefined"!=typeof t.innerText?t.innerText:t.txt},Tt.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},Tt.XmlDOM.prototype.numberofnodes=function(t){return t?t.length:0},Tt.XmlDOM.prototype.getAttributeName=function(t){return t.name},Tt.XmlDOM.prototype.getAttributeValue=function(t,e,i){var r="";return i&&(e=i+":"+e),t&&this.hasAttributes(t)&&t.getAttribute(e)&&(r=t.getAttribute(e)),r},Tt.XmlDOM.prototype.getNodeValue=function(t,e){var i=null;if(e){var r=t.getElementsByTagName(e);0<r.length&&(i="undefined"!=typeof r[0].textContent?r[0].textContent:"undefined"!=typeof r[0].innerText?r[0].innerText:r[0].text)}return null===i&&t&&t.childNodes&&(0==t.childNodes.length||1==t.childNodes.length&&"#text"==t.firstChild.nodeName)&&(i="undefined"!=typeof t.textContent?t.textContent:"undefined"!=typeof t.innerText?t.innerText:t.text),null===i&&(i=t),i},Tt.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,r,s){var n,a,o,l;for("@"===r.slice(0,1)&&(r=r.slice(1)),n=0,a=(o=t.getElementsByTagName(e)).length;n<a;n+=1)(l=o[n]).getAttribute("name")==i&&l.setAttribute(r,s)},Tt.XmlDOM.prototype.deleteNodeByNameAttribute=function(t,e){var i,r,s,n;for(i=0,r=(n=t.childNodes).length;i<r;i+=1)(s=n[i])&&s.nodeType!=s.TEXT_NODE&&this.hasAttributes(s)&&s.getAttribute("name")==e&&t.removeChild(n[i])},Tt.XmlDOM.prototype.deleteAttribute=function(t,e){t.removeAttribute(e)},Tt.XmlDOM.prototype.setAttribute=function(t,e,i){return t.ownerDocument||(t=t.firstChild),-1<["function","unknown"].indexOf($(t.setAttribute))&&t.setAttribute(e,i),!1},Tt.XmlDOM.prototype.nodeCopy=function(t){return t.cloneNode(!0)},Tt.XmlDOM.prototype.getNodesByName=function(t,e,i){var r,s,n,a,o;for(r=[],a=0,o=(s=t.getElementsByTagName(e)).length;a<o;a+=1)n=s.item(a),(!i||this.hasAttributes(n)&&n.getAttribute("name")==i)&&r.push(n);return r},Tt.XmlDOM.prototype.nodeNameIs=function(t,e){return e==t.nodeName},Tt.XmlDOM.prototype.makeXml=function(t){return t=(t=t||"<docco><bogus/></docco>").replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(t,"application/xml").firstChild},Tt.XmlDOM.prototype.insertChildNodeAfter=function(t,e,i,r){var s;return s=this.importNode(e.ownerDocument,r),t.replaceChild(s,e),t},Tt.XmlDOM.prototype.insertPublisherAndPlace=function(t){for(var e=t.getElementsByTagName("group"),i=0,r=e.length;i<r;i+=1){for(var s=e.item(i),n=[],a=0,o=s.childNodes.length;a<o;a+=1)1!==s.childNodes.item(a).nodeType&&n.push(a);if(s.childNodes.length-n.length==2){var l=[];for(a=0,o=2;a<o;a+=1)if(!(-1<n.indexOf(a))){for(var u=s.childNodes.item(a),p=[],c=0,h=u.childNodes.length;c<h;c+=1)1!==u.childNodes.item(c).nodeType&&p.push(c);if(u.childNodes.length-p.length==0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}-1<l.indexOf("publisher")&&-1<l.indexOf("publisher-place")&&s.setAttribute("has-publisher-and-publisher-place",!0)}}},Tt.XmlDOM.prototype.isChildOfSubstitute=function(t){return!!t.parentNode&&("substitute"===t.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(t.parentNode))},Tt.XmlDOM.prototype.addMissingNameNodes=function(t){for(var e=t.getElementsByTagName("names"),i=0,r=e.length;i<r;i+=1){var s=e.item(i),n=s.getElementsByTagName("name");if(!(n&&0!==n.length||this.isChildOfSubstitute(s))){var a=s.ownerDocument.createElement("name");s.appendChild(a)}}},Tt.XmlDOM.prototype.addInstitutionNodes=function(t){var e,i,r,s,n,a,o,l;for(o=0,l=(e=t.getElementsByTagName("names")).length;o<l;o+=1)if(0!=(n=(i=e.item(o)).getElementsByTagName("name")).length&&0==i.getElementsByTagName("institution").length){s=(r=this.importNode(t.ownerDocument,this.institution)).getElementsByTagName("institution-part").item(0),a=n.item(0),i.insertBefore(r,a.nextSibling);for(var u=0,p=Tt.INSTITUTION_KEYS.length;u<p;u+=1){var c=Tt.INSTITUTION_KEYS[u];(d=a.getAttribute(c))&&s.setAttribute(c,d)}var h=a.getElementsByTagName("name-part");for(u=0,p=h.length;u<p;u+=1)if("family"===h[u].getAttribute("name"))for(var f=0,m=Tt.INSTITUTION_KEYS.length;f<m;f+=1){var d;c=Tt.INSTITUTION_KEYS[f];(d=h[u].getAttribute(c))&&s.setAttribute(c,d)}}},Tt.XmlDOM.prototype.flagDateMacros=function(t){var e,i,r,s=t.getElementsByTagName("macro");for(e=0,i=s.length;e<i;e+=1)(r=s.item(e)).getElementsByTagName("date").length&&r.setAttribute("macro-has-date","true")},Tt.setupXml=function(t){var e={},i=null;if(void 0!==t?i="string"==typeof t?(e="<"===(t=t.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?Tt.parseXml(t):JSON.parse(t),new Tt.XmlJSON(e)):"undefined"!=typeof t.getAttribute?new Tt.XmlDOM(t):"undefined"!=typeof t.toXMLString?new Tt.XmlE4X(t):new Tt.XmlJSON(t):Tt.error("unable to parse XML input"),!i)throw"citeproc-js error: unable to parse CSL style or locale object";return i},Tt.getSortCompare=function(i){if(Tt.stringCompare)return Tt.stringCompare;var r,s={sensitivity:"base",ignorePunctuation:!0,numeric:!0};i=i||"en-US",r=function r(t,e){return t.toLocaleLowerCase().localeCompare(e.toLocaleLowerCase(),i,s)};var n=function n(t){return t.replace(/^[\[\]\'\"]*/g,"")},a=function t(){return!!r("[x","x")&&function(t,e){return r(n(t),n(e))}}();return function o(t,e){return a?a(t,e):r(t,e)}},Tt.ambigConfigDiff=function(t,e){var i,r,s,n;if(t.names.length!==e.names.length)return 1;for(i=0,r=t.names.length;i<r;i+=1){if(t.names[i]!==e.names[i])return 1;for(s=0,n=t.givens[i];s<n;s+=1)if(t.givens[i][s]!==e.givens[i][s])return 1}return t.disambiguate!=e.disambiguate?1:t.year_suffix!==e.year_suffix?1:0},Tt.cloneAmbigConfig=function(t,e){var i,r,s,n,a,o={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(i=0,r=t.names.length;i<r;i+=1)a=t.names[i],o.names[i]=a;for(i=0,r=t.givens.length;i<r;i+=1){for(a=[],s=0,n=t.givens[i].length;s<n;s+=1)a.push(t.givens[i][s]);o.givens.push(a)}return e?(o.year_suffix=e.year_suffix,o.disambiguate=e.disambiguate):(o.year_suffix=t.year_suffix,o.disambiguate=t.disambiguate),o},Tt.getAmbigConfig=function(){var t;return t=(t=this.tmp.disambig_request)||this.tmp.disambig_settings,Tt.cloneAmbigConfig(t)},Tt.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},Tt.getMinVal=function(){return this.tmp["et-al-min"]},Tt.tokenExec=function(e,t,i){var r,s;r=e.next,s=!1;var n=function n(t){return t?(this.tmp.jump.replace("succeed"),e.succeed):(this.tmp.jump.replace("fail"),e.fail)};e.test&&(r=n.call(this,e.test(t,i)));for(var a=0,o=e.execs.length;a<o;a++)(s=e.execs[a].call(e,this,t,i))&&(r=s);return r},Tt.expandMacro=function(t,e){var i,r,s;i=t.postponed_macro;var n=t.strings.sort_direction;t=new Tt.Token("group",Tt.START);var a=!1,o=!1;if((r=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",i)).length&&(o=this.cslXml.getAttributeValue(r[0],"cslid"),a=this.cslXml.getAttributeValue(r[0],"macro-has-date")),a&&(i=i+"@"+this.build.current_default_locale,p=function p(t){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!0)},t.execs.push(p)),-1<this.build.macro_stack.indexOf(i))throw'CSL processor error: call to macro "'+i+'" would cause an infinite loop';if(this.build.macro_stack.push(i),t.cslid=o,Tt.MODULE_MACROS[i]&&(t.juris=i,this.opt.update_mode=Tt.POSITION),Tt.Node.group.build.call(t,this,e,!0),!this.cslXml.getNodeValue(r))throw'CSL style error: undefined macro "'+i+'"';var l,u=Tt.getMacroTarget.call(this,i);if(u&&(Tt.buildMacro.call(this,u,r),Tt.configureMacro.call(this,u)),!this.build.extension){var p=(l=i,function(t,e,i){for(var r=0;r<t.macros[l].length;)r=Tt.tokenExec.call(t,t.macros[l][r],e,i)}),c=new Tt.Token("text",Tt.SINGLETON);c.execs.push(p),e.push(c)}(s=new Tt.Token("group",Tt.END)).strings.sort_direction=n,a&&(p=function p(t){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!1)},s.execs.push(p)),t.juris&&(s.juris=i),Tt.Node.group.build.call(s,this,e,!0),this.build.macro_stack.pop()},Tt.getMacroTarget=function(t){var e=!1;return this.build.extension?e=this[this.build.root+this.build.extension].tokens:this.macros[t]||(e=[],this.macros[t]=e),e},Tt.buildMacro=function(t,e){Tt.makeBuilder(this,t)("undefined"==typeof e.length?e:e[0])},Tt.configureMacro=function(t){this.build.extension||this.configureTokenList(t)},Tt.XmlToToken=function(t,e,i,r){var s,n,a,o,l,u;if(s=t.cslXml.nodename(this),!t.build.skip||t.build.skip===s)if(s){if(!Tt.Node[t.cslXml.nodename(this)])throw'Undefined node name "'+s+'".';if([],a=t.cslXml.attributes(this),o=Tt.setDecorations.call(this,t,a),l=new Tt.Token(s,e),e!==Tt.END||"if"===s||"else-if"===s||"layout"===s){for(var p in a)if(a.hasOwnProperty(p)){if(e===Tt.END&&"@language"!==p&&"@locale"!==p)continue;if(a.hasOwnProperty(p))if(Tt.Attributes[p])try{Tt.Attributes[p].call(l,t,""+a[p])}catch(c){throw Tt.error(c),"CSL processor error, "+p+" attribute: "+c}else Tt.debug('warning: undefined attribute "'+p+'" in style')}l.decorations=o,-1<Tt.DATE_VARIABLES.indexOf(a["@variable"])&&r.push(l.variables)}else e===Tt.END&&a["@variable"]&&(l.hasVariable=!0,-1<Tt.DATE_VARIABLES.indexOf(a["@variable"])&&(l.variables=r.pop()));u=i||t[t.build.area].tokens,Tt.Node[s].build.call(l,t,u,!0)}else(n=t.cslXml.content(this))&&(t.build.text=n)},Tt.DateParser=function(){for(var t=[["\u660e\u6cbb",1867],["\u5927\u6b63",1911],["\u662d\u548c",1925],["\u5e73\u6210",1988]],e={},i=0,r=t.length;i<r;i++){var s=t[i][0],n=t[i][1];e[s]=n}var a=[],C={};for(i=0,r=t.length;i<r;i++){var o=t[i];n=o[0];a.push(n),C[o[0]]=o[1]}var l=a.join("|"),P=new RegExp("(?:"+l+")(?:[0-9]+)"),R=new RegExp("(?:"+l+")(?:[0-9]+)","g"),D=/(\u6708|\u5E74)/g,L=/\u65E5/g,M=/\u301c/g,u="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",B=new RegExp(u.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),U=new RegExp(u.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),F=new RegExp(u.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var t=0,e=this.monthStrings.length;t<e;t++)this.monthSets.push([this.monthStrings[t]]);this.monthAbbrevs=[];for(t=0,e=this.monthSets.length;t<e;t++){this.monthAbbrevs.push([]);for(var i=0,r=this.monthSets[t].length;i<r;i++)this.monthAbbrevs[t].push(this.monthSets[t][0].slice(0,3))}this.monthRexes=[];for(t=0,e=this.monthAbbrevs.length;t<e;t++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[t].join("|")+")"))},this.addDateParserMonths=function(t){if("string"==typeof t&&(t=t.split(/\s+/)),12===t.length||16===t.length){for(var e=0,i=t.length;e<i;e++){for(var r=null,s=!1,n=3,a={},o=0,l=this.monthAbbrevs.length;o<l;o++){if(a[o]={},o===e){for(var u=0,p=this.monthAbbrevs[e].length;u<p;u++)if(this.monthAbbrevs[e][u]===t[e].slice(0,this.monthAbbrevs[e][u].length)){s=!0;break}}else for(u=0,p=this.monthAbbrevs[o].length;u<p;u++)if(r=this.monthAbbrevs[o][u].length,this.monthAbbrevs[o][u]===t[e].slice(0,r)){for(;this.monthSets[o][u].slice(0,r)===t[e].slice(0,r);){if(r>t[e].length||r>this.monthSets[o][u].length){Tt.debug("unable to disambiguate month string in date parser: "+t[e]);break}r+=1}n=r,a[o][u]=r}for(var c in a)for(var h in a[c])r=a[c][h],c=parseInt(c,10),h=parseInt(h,10),this.monthAbbrevs[c][h]=this.monthSets[c][h].slice(0,r)}s||(this.monthSets[e].push(t[e]),this.monthAbbrevs[e].push(t[e].slice(0,n)))}this.monthRexes=[],this.monthRexStrs=[];for(e=0,i=this.monthAbbrevs.length;e<i;e++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[e].join("|")+")");if(18===this.monthAbbrevs.length)for(e=12,i=14;e<i;e++)this.monthRexes[e+4]=new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")"),this.monthRexStrs[e+4]="^(?:"+this.monthAbbrevs[e].join("|")+")"}else Tt.debug("month [+season] list of "+t.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(t){t["date-parts"]=[],t["date-parts"].push([]);for(var e,i=0,r=0,s=3;r<s&&t[e=["year","month","day"][r]];r++)i+=1,t["date-parts"][0].push(t[e]),delete t[e];t["date-parts"].push([]);for(r=0,s=i;r<s&&t[e=["year_end","month_end","day_end"][r]];r++)t["date-parts"][1].push(t[e]),delete t[e];return t["date-parts"][0].length!==t["date-parts"][1].length&&t["date-parts"].pop(),t},this.convertDateObjectToString=function(t){for(var e=[],i=0;i<3&&t[Tt.DATE_PARTS_ALL[i]];i+=1)e.push(t[Tt.DATE_PARTS_ALL[i]]);return e.join("-")},this._parseNumericDate=function(t,e,i,r){i=i||"";for(var s=r.split(e),n=0,a=s.length;n<a;n++)if(4===s[n].length){t["year"+i]=s[n].replace(/^0*/,""),s=n?s.slice(0,n):s.slice(1);break}for(n=0,a=s.length;n<a;n++)s[n]=parseInt(s[n],10);1===s.length||2===s.length&&!s[1]?t["month"+i]=""+s[0]:2===s.length&&(12<s[this.monthGuess]?(t["month"+i]=""+s[this.dayGuess],t["day"+i]=""+s[this.monthGuess]):(t["month"+i]=""+s[this.monthGuess],t["day"+i]=""+s[this.dayGuess]))},this.parseDateToObject=function(t){var e,i=t,r=-1,s=-1,n=!1;if(t){if("-"===t.slice(0,1)&&(n=!0,t=t.slice(1)),t.match(/^[0-9]{1,3}$/))for(;t.length<4;)t="0"+t;if(y=(t=(t=""+t).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(D)){var a=(t=(t=(t=(t=(t=(t=t.replace(/\s+/g,"")).replace(L,"")).replace(D,"-")).replace(M,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(P);e=[];var o=t.match(R);if(o){for(var l=[],u=0,p=o.length;u<p;u++)l=l.concat(o[u].match(/([^0-9]+)([0-9]+)/).slice(1));for(u=0,p=a.length;u<p;u++)if(e.push(a[u]),u!==p-1){var c=2*u;e.push(l[c]),e.push(l[1+c])}}else e=a;for(u=1,p=e.length;u<p;u+=3)e[u+1]=C[e[u]]+parseInt(e[u+1],10),e[u]="";r=(t=(t=(t=(t=e.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),s=t.indexOf("-")}}var h,f,m="",d="",g={};if('"'===(t=t.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===t.slice(-1))return g.literal=t.slice(1,-1),g;-1<r&&-1<s?e=3<t.split("/").length?(h="-",f="/",(t=t.replace(/\_/g,"-")).split(F)):(h="/",f="-",(t=t.replace(/\_/g,"/")).split(U)):(f=h="-",e=(t=(t=t.replace(/\//g,"-")).replace(/\_/g,"-")).split(B));var b=[];for(u=0,p=e.length;u<p;u++){var y;(y=e[u].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&b.push(y[1])}var v=b.indexOf(h),_=[],x=!1;-1<v?(_.push([0,v]),_.push([v+1,b.length]),x=!0):_.push([0,b.length]);var w="";for(u=0,p=_.length;u<p;u++){var A=_[u],E=b.slice(A[0],A[1]);t:for(var O=0,T=E.length;O<T;O++){var S=E[O];if(-1<S.indexOf(f))this._parseNumericDate(g,f,w,S);else if(S.match(/[0-9]{4}/))g["year"+w]=S.replace(/^0*/,"");else{"~"!==S&&"?"!==S&&"c"!==S&&!S.match(/^cir/)||(g.circa=!0);for(var I=0,k=this.monthRexes.length;I<k;I++)if(S.toLocaleLowerCase().match(this.monthRexes[I])){g["month"+w]=""+(parseInt(I,10)+1);continue t}S.match(/^[0-9]+$/)&&(m=S),S.toLocaleLowerCase().match(/^bc/)&&m?(g["year"+w]=""+-1*m,m=""):S.toLocaleLowerCase().match(/^ad/)&&m?(g["year"+w]=""+m,m=""):!S.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||g["season"+w]||(d=S)}}m&&(g["day"+w]=m,m=""),d&&!g["season"+w]&&(g["season"+w]=d.trim(),d=""),w="_end"}if(x)for(O=0,T=Tt.DATE_PARTS_ALL.length;O<T;O++){var N=Tt.DATE_PARTS_ALL[O];g[N]&&!g[N+"_end"]?g[N+"_end"]=g[N]:!g[N]&&g[N+"_end"]&&(g[N]=g[N+"_end"])}(!g.year||g.year&&g.day&&!g.month)&&(g={literal:i});var Q=["year","month","day","year_end","month_end","day_end"];for(u=0,p=Q.length;u<p;u++){var j=Q[u];"string"==typeof g[j]&&g[j].match(/^[0-9]+$/)&&(g[j]=parseInt(g[j],10))}return n&&-1<Object.keys(g).indexOf("year")&&(g.year=-1*g.year),g},this.parseDateToArray=function(t){return this.convertDateObjectToArray(this.parseDateToObject(t))},this.parseDateToString=function(t){return this.convertDateObjectToString(this.parseDateToObject(t))},this.parse=function(t){return this.parseDateToObject(t)},this.setOrderMonthDay(),this.resetDateParserMonths()},Tt.DateParser=new Tt.DateParser,Tt.Engine=function(t,e,i,r){var s;for(var n in this.processor_version=Tt.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=t,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},writable:!0,configurable:!0}),t.variableWrapper&&(Tt.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(Tt.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),Tt.retrieveStyleModule&&(this.sys.retrieveStyleModule=Tt.retrieveStyleModule),Tt.getAbbreviation&&(this.sys.getAbbreviation=Tt.getAbbreviation),this.sys.stringCompare&&(Tt.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=Tt.AbbreviationSegments,this.parallel=new Tt.Parallel(this),this.transform=new Tt.Transform(this),this.setParseNames=function(t){this.opt["parse-names"]=t},this.opt=new Tt.Engine.Opt,this.tmp=new Tt.Engine.Tmp,this.build=new Tt.Engine.Build,this.fun=new Tt.Engine.Fun(this),this.configure=new Tt.Engine.Configure,this.citation_sort=new Tt.Engine.CitationSort,this.bibliography_sort=new Tt.Engine.BibliographySort,this.citation=new Tt.Engine.Citation(this),this.bibliography=new Tt.Engine.Bibliography,this.intext=new Tt.Engine.InText,this.output=new Tt.Output.Queue(this),this.dateput=new Tt.Output.Queue(this),this.cslXml=Tt.setupXml(e),Tt.SYS_OPTIONS){var a=Tt.SYS_OPTIONS[n];"boolean"==typeof this.sys[a]&&(this.opt.development_extensions[a]=this.sys[a])}this.opt.development_extensions.uppercase_subtitles&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(t,e){var i=this.cslXml.children(t);this.cslXml.setAttribute(t,"cslid",this.build.cslNodeId),this.opt.nodenames.push(e),this.build.cslNodeId+=1;for(var r=0,s=this.cslXml.numberofnodes(i);r<s;r+=1)(e=this.cslXml.nodename(i[r]))&&this.setCslNodeIds(i[r],e)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),"undefined"==typeof this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt["class"]=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.static_statute_locator=!0,this.opt.development_extensions.handle_parallel_articles=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0),i&&(i=i.replace("_","-"),i=Tt.normalizeLocaleStr(i)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=Tt.normalizeLocaleStr(this.opt["default-locale"][0])),i&&r&&(this.opt["default-locale"]=[i]),i&&!r&&this.opt["default-locale"][0]&&(i=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(i=i||"en-US",this.opt["default-locale"].push("en-US")),i=i||this.opt["default-locale"][0],s=Tt.localeResolve(i),this.opt.lang=s.best,this.opt["default-locale"][0]=s.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),-1<"dale|".localeCompare("daleb",this.opt["default-locale-sort"])?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(s),this.locale[this.opt.lang].opts["skip-words-regexp"]=function l(t){return t=t.slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+t.join("|")+")(?=[!?:]*\\s+|-|$))","g")}(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new Tt.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new Tt.Registry(this),this.macros={},this.build.area="citation";var o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.build.area="bibliography";o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.build.area="intext";o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.juris={},this.configureTokenLists(),this.disambiguate=new Tt.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=Tt.DateParser,this.fun.flipflopper=new Tt.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=Tt.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=Tt.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},Tt.Engine.prototype.setCloseQuotesArray=function(){var t;(t=[]).push(this.getTerm("close-quote")),t.push(this.getTerm("close-inner-quote")),t.push('"'),t.push("'"),this.opt.close_quotes_array=t},Tt.makeBuilder=function(l,u){var p=[],c=[];return function h(t,e,i){i=i||[],"undefined"==typeof(t=t||[]).length&&(t=[t]);for(var r=0;r<t.length;r++){var s=t[r];null!==l.cslXml.nodename(s)&&(e&&"date"===l.cslXml.nodename(s)&&(Tt.Util.fixDateNode.call(l,e,r,s),s=l.cslXml.children(e)[r]),l.cslXml.numberofnodes(l.cslXml.children(s))?(o=s,c.push(o),Tt.XmlToToken.call(o,l,Tt.START,u,p),h(l.cslXml.children(s),s,i),a=c.pop(),Tt.XmlToToken.call(a,l,Tt.END,u,p)):(n=s,Tt.XmlToToken.call(n,l,Tt.SINGLETON,u,p)))}var n,a,o}},Tt.Engine.prototype.buildTokenLists=function(t,e){this.cslXml.getNodeValue(t)&&Tt.makeBuilder(this,e)("undefined"==typeof t.length?t:t[0])},Tt.Engine.prototype.setStyleAttributes=function(){var t,e,i={};for(e in i.name=this.cslXml.nodename(this.cslXml.dataObj),t=this.cslXml.attributes(this.cslXml.dataObj))t.hasOwnProperty(e)&&Tt.Attributes[e].call(i,this,t[e])},Tt.Engine.prototype.getTerm=function(t,e,i,r,s,n){var a;t&&t.match(/[A-Z]/)&&t===t.toUpperCase()&&(Tt.debug("Warning: term key is in uppercase form: "+t),t=t.toLowerCase()),a=n?this.opt["default-locale"][0]:this.opt.lang;var o=Tt.Engine.getField(Tt.LOOSE,this.locale[a].terms,t,e,i,r);if(o||"range-delimiter"!==t||(o="\u2013"),void 0===o){if(s===Tt.STRICT)throw'Error in getTerm: term "'+t+'" does not exist.';s===Tt.TOLERANT&&(o="")}return o&&(this.tmp.cite_renders_content=!0),o},Tt.Engine.prototype.getDate=function(t,e){var i;return i=e?this.opt["default-locale"]:this.opt.lang,!!this.locale[i].dates[t]&&this.locale[i].dates[t]},Tt.Engine.prototype.getOpt=function(t){return"undefined"!=typeof this.locale[this.opt.lang].opts[t]&&this.locale[this.opt.lang].opts[t]},Tt.Engine.prototype.getVariable=function(t,e,i,r){return Tt.Engine.getField(Tt.LOOSE,t,e,i,r)},Tt.Engine.prototype.getDateNum=function(t,e){return void 0===t?0:t[e]},Tt.Engine.getField=function(t,e,i,r,s,n){var a,o,l,u,p,c;if(a="","undefined"==typeof e[i]){if(t===Tt.STRICT)throw'Error in getField: term "'+i+'" does not exist.';return undefined}for(c=n&&e[i][n]?e[i][n]:e[i],o=[],"symbol"===r?o=["symbol","short"]:"verb-short"===r?o=["verb-short","verb"]:"long"!==r&&(o=[r]),p=(o=o.concat(["long"])).length,u=0;u<p;u+=1)if(l=o[u],"string"==typeof c||"number"==typeof c)a=c;else if("undefined"!=typeof c[l]){a="string"==typeof c[l]||"number"==typeof c[l]?c[l]:"number"==typeof s?c[l][s]:c[l][0];break}return a},Tt.Engine.prototype.configureTokenLists=function(){var t,e;for(e=Tt.AREAS.length,t=0;t<e;t+=1){var i=this[Tt.AREAS[t]].tokens;this.configureTokenList(i)}return this.version=Tt.version,this.state},Tt.Engine.prototype.configureTokenList=function(t){var e,i,r,s,n,a;for(e=["year","month","day"],s=t.length-1;-1<s;s+=-1){if("date"===(i=t[s]).name&&Tt.END===i.tokentype&&(r=[]),"date-part"===i.name&&i.strings.name)for(a=e.length,n=0;n<a;n+=1)e[n]===i.strings.name&&r.push(i.strings.name);"date"===i.name&&Tt.START===i.tokentype&&(r.reverse(),i.dateparts=r),i.next=s+1,i.name&&Tt.Node[i.name].configure&&Tt.Node[i.name].configure.call(i,this,s)}},Tt.Engine.prototype.refetchItems=function(t){for(var e=[],i=0,r=t.length;i<r;i+=1)e.push(this.refetchItem(""+t[i]));return e},Tt.ITERATION=0,Tt.Engine.prototype.retrieveItem=function(t){var e,i;if(this.tmp.loadedItemIDs[t])return this.registry.refhash[t];if(this.tmp.loadedItemIDs[t]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var r=0,s=this.opt["default-locale"].length;r<s;r+=1)this.opt["default-locale"][r]=this.opt["default-locale"][r].toLowerCase();for(r=0,s=this.opt["locale-translit"].length;r<s;r+=1)this.opt["locale-translit"][r]=this.opt["locale-translit"][r].toLowerCase();for(r=0,s=this.opt["locale-translat"].length;r<s;r+=1)this.opt["locale-translat"][r]=this.opt["locale-translat"][r].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(Tt.ITERATION+=1,e=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+t))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(e.multi){if(e.multi._keys)for(var n in e.multi._keys)for(var a in e.multi._keys[n])a!==a.toLowerCase()&&(e.multi._keys[n][a.toLowerCase()]=e.multi._keys[n][a],delete e.multi._keys[n][a]);if(e.multi.main)for(var n in e.multi.main)e.multi.main[n]=e.multi.main[n].toLowerCase()}for(r=0,s=Tt.NAME_VARIABLES.length;s<r;r+=1){var o=Tt.NAME_VARIABLES[r];if(e[o]&&e[o].multi)for(var l=0,u=e[o].length;l<u;l+=1){var p=e[o][l];if(p.multi){if(p.multi._key)for(var a in p.multi._key)a!==a.toLowerCase()&&(p.multi._key[a.toLowerCase()]=p.multi._key[a],delete p.multi._key[a]);p.multi.main&&(p.multi.main=p.multi.main.toLowerCase())}}}}e.language&&e.language.match(/[><]/)&&("<"===(i=e.language.match(/(.*?)([<>])(.*)/))[2]?(e["language-name"]=i[1],e["language-name-original"]=i[3]):(e["language-name"]=i[3],e["language-name-original"]=i[1]),this.opt.multi_layout?e["language-name-original"]&&(e.language=e["language-name-original"]):e["language-name"]&&(e.language=e["language-name"]));e.page&&(e["page-first"]=e.page,"\\"!==(i=(""+e.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(e["page-first"]=i[0]));for(var a in this.opt.development_extensions.field_hack&&e.note&&Tt.parseNoteFieldHacks(e,!1,this.opt.development_extensions.allow_field_hack_date_override),e)if(-1<Tt.DATE_VARIABLES.indexOf(a.replace(/^alt-/,""))){var c=e[a];c&&(this.opt.development_extensions.raw_date_parsing&&(!c.raw||c["date-parts"]&&0!==c["date-parts"].length||(c=this.fun.dateparser.parseDateToObject(c.raw))),e[a]=this.dateParseArray(c))}if(this.opt.development_extensions.static_statute_locator&&e.type&&-1<["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)){var h,f=["type","title","jurisdiction","genre","volume","container-title"],m=[];for(r=0,s=f.length;r<s;r+=1)e[h=f[r]]&&m.push(e[h]);for(r=0,s=(f=["original-date","issued"]).length;r<s;r+=1)if(e[h=f[r]]&&e[h].year){var d=e[h].year;m.push(d);break}e.legislation_id=m.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"==typeof e.authority&&(e.authority=[{literal:e.authority,multi:{_key:{}}}],e.multi&&e.multi._keys&&e.multi._keys.authority))for(var a in e.authority[0].multi._key={},e.multi._keys.authority)e.authority[0].multi._key[a]={literal:e.multi._keys.authority[a]};if(e["title-short"]||(e["title-short"]=e.shortTitle),this.opt.development_extensions.main_title_from_short_title){var g="fr"===this.opt["default-locale"][0].slice(0,2).toLowerCase();Tt.extractTitleAndSubtitle.call(this,e,g)}var b,y=-1<["bill","legal_case","legislation","gazette","regulation"].indexOf(e.type);if(this.opt.development_extensions.force_jurisdiction&&y&&(e.jurisdiction||(e.jurisdiction="us")),!y&&e.title&&this.sys.getAbbreviation){e.jurisdiction||!0,b=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e.title):e.title;var v=this.transform.loadAbbreviation(e.jurisdiction,"title",b,e.type);this.transform.abbrevs[v].title&&this.transform.abbrevs[v].title[b]&&(e["title-short"]=this.transform.abbrevs[v].title[b])}if(e["container-title-short"]||(e["container-title-short"]=e.journalAbbreviation),e["container-title"]&&this.sys.getAbbreviation){b=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e["container-title"]):e["container-title"];v=this.transform.loadAbbreviation(e.jurisdiction,"container-title",b);this.transform.abbrevs[v]["container-title"]&&this.transform.abbrevs[v]["container-title"][b]&&(e["container-title-short"]=this.transform.abbrevs[v]["container-title"][b])}if(e.jurisdiction&&(e.country=e.jurisdiction.split(":")[0]),this.registry.refhash[t]){if(JSON.stringify(this.registry.refhash[t])!=JSON.stringify(e)){for(var a in this.registry.refhash[t])delete this.registry.refhash[t][a];this.tmp.taintedItemIDs[e.id]=!0,Object.assign(this.registry.refhash[t],e)}}else this.registry.refhash[t]=e;return this.registry.refhash[t]},Tt.Engine.prototype.refetchItem=function(t){return this.registry.refhash[t]},Tt.Engine.prototype.refetchItem=function(t){return this.registry.refhash[t]},Tt.Engine.prototype.setOpt=function(t,e,i){"style"===t.name||"cslstyle"===t.name?(this.opt.inheritedAttributes[e]=i,this.citation.opt.inheritedAttributes[e]=i,this.bibliography.opt.inheritedAttributes[e]=i):-1<["citation","bibliography"].indexOf(t.name)?this[t.name].opt.inheritedAttributes[e]=i:t.strings[e]=i},Tt.Engine.prototype.inheritOpt=function(t,e,i,r){if("undefined"!=typeof t.strings[e])return t.strings[e];var s=this[this.tmp.root].opt.inheritedAttributes[i||e];return void 0!==s?s:r},Tt.Engine.prototype.remapSectionVariable=function(t){for(var e=0,i=t.length;e<i;e+=1){var r=t[e][0],s=t[e][1];if(-1<["bill","gazette","legislation","regulation","treaty"].indexOf(r.type)){if(s.locator)s.locator=s.locator.trim(),(a=s.locator.match(Tt.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(s.label?s.locator=Tt.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator);var n=null;if(r.section)r.section=r.section.trim(),n=(a=r.section.match(Tt.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?a[0].trim():(r.section="sec. "+r.section,"sec.");if(r.section)if(s.locator){var a,o=" ";(a=s.locator.match(/^([^ ]*)\s*(.*)/))?("p."===a[1]&&"p."!==n&&(s.locator=a[2]),-1<["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))&&(o="")):o="",s.locator=r.section+o+s.locator}else s.locator=r.section;s.label=""}}},Tt.Engine.prototype.setNumberLabels=function(t){if(t.number&&-1<["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)&&this.opt.development_extensions.static_statute_locator&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var e=""+t.number,i=(e=e.split("\\").join("")).split(/\s+/)[0],r=Tt.STATUTE_SUBDIV_STRINGS[i];if(r){var s=e.split(Tt.STATUTE_SUBDIV_PLAIN_REGEX);if(1<s.length){for(var n=[],a=1,o=s.length;a<o;a+=1)n.push(s[a].replace(/\s*$/,"").replace(/^\s*/,""));e=n.join(" ")}else e=s[0];this.tmp.shadow_numbers.number.label=r,this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!0}},Tt.substituteOne=function(i){return function(t,e){return e?i.replace("%%STRING%%",e):""}},Tt.substituteTwo=function(e){return function(t){var i=e.replace("%%PARAM%%",t);return function(t,e){return e?i.replace("%%STRING%%",e):""}}},Tt.Mode=function(t){var e,i,r,s,n,a;for(r in e={},i=Tt.Output.Formats[t])if("@"===r.slice(0,1)){if(s=!1,n=i[r],a=r.split("/"),"string"==typeof n&&-1<n.indexOf("%%STRING%%"))s=-1<n.indexOf("%%PARAM%%")?Tt.substituteTwo(n):Tt.substituteOne(n);else if("boolean"!=typeof n||n){if("function"!=typeof n)throw"CSL.Compiler: Bad "+t+" config entry for "+r+": "+n;s=n}else s=Tt.Output.Formatters.passthrough;1===a.length?e[a[0]]=s:2===a.length&&(e[a[0]]||(e[a[0]]={}),e[a[0]][a[1]]=s)}else e[r]=i[r];return e},Tt.setDecorations=function(t,e){var i,r;for(r in i=[],Tt.FORMAT_KEY_SEQUENCE){var s;e[s=Tt.FORMAT_KEY_SEQUENCE[r]]&&(i.push([s,e[s]]),delete e[s])}return i},Tt.Doppeler=function(t,s){var n=new RegExp("("+t+")","g"),a=new RegExp(t,"g");this.split=function(t){s&&(t=s(t));var e=t.match(n);if(!e)return{tags:[],strings:[t]};for(var i=t.split(a),r=e.length-1;-1<r;r--){"number"==typeof e[r]&&(e[r]=""),"'"===e[r]&&0<i[r+1].length&&(i[r+1]=e[r]+i[r+1],e[r]="")}return{tags:e,strings:i,origStrings:i.slice()}},this.join=function(t){for(var e=t.strings.slice(-1),i=t.tags.length-1;-1<i;i--)e.push(t.tags[i]),e.push(t.strings[i]);return e.reverse(),e.join("")}},Tt.Engine.prototype.normalDecorIsOrphan=function(t,e){if("normal"===e[1]){for(var i,r=!1,s=(i="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(t.alldecor):t.alldecor).length-1;-1<s;s+=-1)for(var n=i[s].length-1;-1<n;n+=-1)i[s][n][0]===e[0]&&"normal"!==i[s][n][1]&&(r=!0);if(!r)return!0}return!1},Tt.Engine.prototype.getCitationLabel=function(t){var e="",i=this.getTrigraphParams(),r=i[0],s=this.getTerm("reference","short",0);void 0===s&&(s="reference"),s=(s=s.replace(".","")).slice(0,1).toUpperCase()+s.slice(1);for(var n=0,a=Tt.NAME_VARIABLES.length;n<a;n+=1){var o=Tt.NAME_VARIABLES[n];if(t[o]){var l=t[o];r=l.length>i.length?i[i.length-1]:i[l.length-1];for(var u=0,p=l.length;u<p&&u!==r.authors.length;u+=1){var c=this.nameOutput.getName(l[u],"locale-translit",!0).name;c&&c.family?s=(s=c.family).replace(/^([ \'\u2019a-z]+\s+)/,""):c&&c.literal&&(s=c.literal);var h=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(h&&(s=s.slice(h[1].length)),!(s=s.replace(Tt.ROMANESQUE_NOT_REGEXP,"")))break;1<(s=s.slice(0,r.authors[u])).length?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():1===s.length&&(s=s.toUpperCase()),e+=s}break}}if(!e&&t.title){var f=this.locale[this.opt.lang].opts["skip-words"],m=t.title.split(/\s+/);for(n=m.length-1;-1<n;n--)-1<f.indexOf(m[n])&&(m=m.slice(0,n).concat(m.slice(n+1)));var d=m.join("");1<(d=d.slice(0,i[0].authors[0])).length?d=d.slice(0,1).toUpperCase()+d.slice(1).toLowerCase():1===d.length&&(d=d.toUpperCase()),e=d}var g="0000";return t.issued&&t.issued.year&&(g=""+t.issued.year),e+=g=g.slice(-1*r.year)},Tt.Engine.prototype.getTrigraphParams=function(){var t=[],e=this.opt.trigraph.split(":");if(!this.opt.trigraph||"A"!==this.opt.trigraph.slice(0,1))throw"Bad trigraph definition: "+this.opt.trigraph;for(var i=0,r=e.length;i<r;i+=1){for(var s=e[i],n={authors:[],year:0},a=0,o=s.length;a<o;a+=1)switch(s.slice(a,a+1)){case"A":n.authors.push(1);break;case"a":n.authors[n.authors.length-1]+=1;break;case"0":n.year+=1;break;default:throw"Invalid character in trigraph definition: "+this.opt.trigraph}t.push(n)}return t},Tt.Engine.prototype.setOutputFormat=function(t){this.opt.mode=t,this.fun.decorate=Tt.Mode(t),this.output[t]||(this.output[t]={},this.output[t].tmp={})},Tt.Engine.prototype.getSortFunc=function(){return function(t,e){return t=t.split("-"),e=e.split("-"),t.length<e.length?1:t.length>e.length?-1:(t=t.slice(-1)[0],e=e.slice(-1)[0],t.length<e.length?1:t.length>e.length?-1:0)}},Tt.Engine.prototype.setLangTagsForCslSort=function(t){var e,i;if(t)for(this.opt["locale-sort"]=[],e=0,i=t.length;e<i;e+=1)this.opt["locale-sort"].push(t[e]);this.opt["locale-sort"].sort(this.getSortFunc())},Tt.Engine.prototype.setLangTagsForCslTransliteration=function(t){var e,i;if(this.opt["locale-translit"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translit"].push(t[e]);this.opt["locale-translit"].sort(this.getSortFunc())},Tt.Engine.prototype.setLangTagsForCslTranslation=function(t){var e,i;if(this.opt["locale-translat"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translat"].push(t[e]);this.opt["locale-translat"].sort(this.getSortFunc())},Tt.Engine.prototype.setLangPrefsForCites=function(t,e){var i=this.opt["cite-lang-prefs"];e=e||function e(t){return t.toLowerCase()};for(var r=["Persons","Institutions","Titles","Journals","Publishers","Places"],s=0,n=r.length;s<n;s+=1){var a=e(r[s]),o=r[s].toLowerCase();if(t[a]){for(var l=[];1<t[a].length;)l.push(t[a].pop());var u={orig:1,translit:2,translat:3};for(2===l.length&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)t[a].push(l.pop());for(var p=i[o];p.length;)p.pop();for(var c=0,h=t[a].length;c<h;c+=1)p.push(t[a][c])}}},Tt.Engine.prototype.setLangPrefsForCiteAffixes=function(t){if(t&&48===t.length){for(var e,i=this.opt.citeAffixes,r=0,s=["persons","institutions","titles","journals","publishers","places"],n=["translit","orig","translit","translat"],a=0,o=s.length;a<o;a+=1)for(var l=0,u=n.length;l<u;l+=1)e="",r%8==4&&(i[s[a]]["locale-"+n[l]].prefix||i[s[a]]["locale-"+n[l]].suffix)||(e=t[r]?t[r]:"",i[s[a]]["locale-"+n[l]].prefix=e,e=t[r]?t[r+1]:"",i[s[a]]["locale-"+n[l]].suffix=e),r+=2;this.opt.citeAffixes=i}},Tt.Engine.prototype.setAutoVietnameseNamesOption=function(t){this.opt["auto-vietnamese-names"]=!!t},Tt.Engine.prototype.setAbbreviations=function(t){this.sys.setAbbreviations&&this.sys.setAbbreviations(t)},Tt.Engine.prototype.setSuppressTrailingPunctuation=function(t){this.citation.opt.suppressTrailingPunctuation=!!t},Tt.Output={},Tt.Output.Queue=function(t){this.levelname=["top"],this.state=t,this.queue=[],this.empty=new Tt.Token("empty");var e={};e.empty=this.empty,this.formats=new Tt.Stack(e),this.current=new Tt.Stack(this.queue)},Tt.Output.Queue.prototype.pop=function(){var t=this.current.value();return t.length?t.pop():t.blobs.pop()},Tt.Output.Queue.prototype.getToken=function(t){return this.formats.value()[t]},Tt.Output.Queue.prototype.mergeTokenStrings=function(t,e){var i,r,s;if(s=i=this.formats.value()[t],r=this.formats.value()[e]){i||((i=new Tt.Token(t,Tt.SINGLETON)).decorations=[]),s=new Tt.Token(t,Tt.SINGLETON);var n="";for(var n in i.strings)i.strings.hasOwnProperty(n)&&(s.strings[n]=i.strings[n]);for(var n in r.strings)r.strings.hasOwnProperty(n)&&(s.strings[n]=r.strings[n]);s.decorations=i.decorations.concat(r.decorations)}return s},Tt.Output.Queue.prototype.addToken=function(t,e,i){var r,s;if(r=new Tt.Token("output"),"string"==typeof i&&(i=this.formats.value()[i]),i&&i.strings){for(s in i.strings)i.strings.hasOwnProperty(s)&&(r.strings[s]=i.strings[s]);r.decorations=i.decorations}"string"==typeof e&&(r.strings.delimiter=e),this.formats.value()[t]=r},Tt.Output.Queue.prototype.pushFormats=function(t){(t=t||{}).empty=this.empty,this.formats.push(t)},Tt.Output.Queue.prototype.popFormats=function(){this.formats.pop()},Tt.Output.Queue.prototype.startTag=function(t,e){var i={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(e=this.empty,t="empty"),i[t]=e,this.pushFormats(i),this.openLevel(t)},Tt.Output.Queue.prototype.endTag=function(t){this.closeLevel(t),this.popFormats()},Tt.Output.Queue.prototype.openLevel=function(t){var e,i;if("object"===$(t))e=new Tt.Blob(undefined,t);else if(void 0===t)e=new Tt.Blob(undefined,this.formats.value().empty,"empty");else{if(!this.formats.value()||!this.formats.value()[t])throw'CSL processor error: call to nonexistent format token "'+t+'"';e=new Tt.Blob(undefined,this.formats.value()[t],t)}i=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.prefix=this.checkNestedBrace.update(e.strings.prefix)),i.push(e),this.current.push(e)},Tt.Output.Queue.prototype.closeLevel=function(t){t&&t!==this.current.value().levelname&&Tt.error("Level mismatch error:  wanted "+t+" but found "+this.current.value().levelname);var e=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.suffix=this.checkNestedBrace.update(e.strings.suffix))},Tt.Output.Queue.prototype.append=function(t,e,i,r,s){var n,a,o,l=!0;if(i&&(r=!0),this.state.tmp["doing-macro-with-date"]&&!i){if("macro-with-date"!==e)return!1;"macro-with-date"===e&&(e="empty")}if(void 0===t)return!1;if("number"==typeof t&&(t=""+t),!i&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(a=!1,e?"literal"===e?l=!(n=!0):n="string"==typeof e?this.formats.value()[e]:e:n=this.formats.value().empty,!n)throw"CSL processor error: unknown format token name: "+e;if(n.strings&&"undefined"==typeof n.strings.delimiter&&(n.strings.delimiter=""),"string"==typeof t&&t.length&&(t=t.replace(/ ([:;?!\u00bb])/g,"\u202f$1").replace(/\u00ab /g,"\xab\u202f"),this.last_char_rendered=t.slice(-1),t=t.replace(/\s+'/g," '"),i||(t=t.replace(/^'/g," '")),r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),a=new Tt.Blob(t,n),void 0===(o=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),o=this.current.value()),"string"==typeof a.blobs&&(r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),i||this.state.parallel.AppendBlobPointer(o),"string"==typeof t){if("string"==typeof a.blobs&&" "!==a.blobs.slice(0,1)){for(var u="",p=a.blobs;-1<Tt.TERMINAL_PUNCTUATION.indexOf(p.slice(0,1));)u+=p.slice(0,1),p=p.slice(1);p&&u&&(a.strings.prefix=a.strings.prefix+u,a.blobs=p)}a.strings["text-case"]&&(a.blobs=Tt.Output.Formatters[a.strings["text-case"]](this.state,t)),this.state.tmp.strip_periods&&!s&&(a.blobs=a.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var c=a.decorations.length-1;-1<c;c+=-1)"@quotes"===a.decorations[c][0]&&"false"!==a.decorations[c][1]&&(a.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),a.blobs.match(Tt.ROMANESQUE_REGEXP)||"@font-style"===a.decorations[c][0]&&(a.decorations=a.decorations.slice(0,c).concat(a.decorations.slice(c+1)));o.push(a),this.state.fun.flipflopper.processTags(a)}else l?o.push(a):o.push(t);return!0},Tt.Output.Queue.prototype.string=function(t,e,i){var r,s=Tt.getSafeEscape(this.state),n=e.slice(),a=[];if(0===n.length)return a;var o,l,u,p,c="";i?c=i.strings.delimiter:(t.tmp.count_offset_characters=!1,t.tmp.offset_characters=0),i&&i.new_locale&&(i.old_locale=t.opt.lang,t.opt.lang=i.new_locale);for(var h=0,f=n.length;h<f;h+=1){if((o=n[h]).strings.first_blob&&(t.tmp.count_offset_characters=o.strings.first_blob),"string"==typeof o.blobs){if("number"==typeof o.num)a.push(o);else if(o.blobs){o.particle&&(o.blobs=o.particle+o.blobs,o.particle="");var m=(r=s(o.blobs)).length;if(!t.tmp.suppress_decorations)for(b=0,y=o.decorations.length;b<y;b+=1)"@showid"!==(p=o.decorations[b])[0]&&(t.normalDecorIsOrphan(o,p)||(r=t.fun.decorate[p[0]][p[1]].call(o,t,r,p[2])));if(r&&r.length){if(r=s(o.strings.prefix)+r+s(o.strings.suffix),t.opt.development_extensions.csl_reverse_lookup_support&&!t.tmp.suppress_decorations)for(b=0,y=o.decorations.length;b<y;b+=1)"@showid"===(p=o.decorations[b])[0]&&(r=t.fun.decorate[p[0]][p[1]].call(o,t,r,p[2]));a.push(r),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=m+o.strings.suffix.length+o.strings.prefix.length)}}}else if(o.blobs.length){var d=t.output.string(t,o.blobs,o);if(i&&"string"!==d&&1<d.length&&o.strings.delimiter)for(var g=!1,b=0,y=d.length;b<y;b++)"string"!=typeof d[b]?g=!0:g&&(d[b]=o.strings.delimiter+d[b]);a=a.concat(d)}o.strings.first_blob&&t.registry.registry[o.strings.first_blob]&&(t.registry.registry[o.strings.first_blob].offset=t.tmp.offset_characters,t.tmp.count_offset_characters=!1)}for(h=0,f=a.length-1;h<f;h+=1)"number"!=typeof a[h].num||"number"!=typeof a[h+1].num||a[h+1].UGLY_DELIMITER_SUPPRESS_HACK||(a[h].strings.suffix=a[h].strings.suffix+(c||""),a[h+1].successor_prefix="",a[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var v=0;for(h=0,f=a.length;h<f;h+=1)"string"==typeof a[h]&&(v=parseInt(h,10)+1,h<a.length-1&&"object"===$(a[h+1])&&(c&&!a[h+1].UGLY_DELIMITER_SUPPRESS_HACK&&(a[h]+=s(c)),a[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(i&&(i.decorations.length||i.strings.suffix))v=a.length;else if(i&&i.strings.prefix)for(h=0,f=a.length;h<f;h++)if("undefined"!=typeof a[h].num){0===(v=h)&&(a[h].strings.prefix=i.strings.prefix+a[h].strings.prefix);break}var _=t.output.renderBlobs(a.slice(0,v),c,!1,i);if(_&&i&&(i.decorations.length||i.strings.suffix||i.strings.prefix)){if(!t.tmp.suppress_decorations)for(h=0,f=i.decorations.length;h<f;h+=1)p=i.decorations[h],-1<["@cite","@bibliography","@display","@showid"].indexOf(p[0])||t.normalDecorIsOrphan(o,p)||"string"==typeof _&&(_=t.fun.decorate[p[0]][p[1]].call(i,t,_,p[2]));if(r=_,l=i.strings.suffix,r&&r.length&&(r=s(u=i.strings.prefix)+r+s(l),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=u.length+l.length)),_=r,!t.tmp.suppress_decorations)for(h=0,f=i.decorations.length;h<f;h+=1)p=i.decorations[h],-1!==["@cite","@bibliography","@display","@showid"].indexOf(p[0])&&"string"==typeof _&&(_=t.fun.decorate[p[0]][p[1]].call(i,t,_,p[2]))}var x=a.slice(v,a.length);return!x.length&&_?a=[_]:x.length&&!_?a=x:_&&x.length&&(a=[_].concat(x)),void 0===i?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),t.tmp.suppress_decorations&&(a=t.output.renderBlobs(a,undefined,!1))):"boolean"==typeof i&&(a=t.output.renderBlobs(a,undefined,!0)),i&&i.new_locale&&(t.opt.lang=i.old_locale),a},Tt.Output.Queue.prototype.clearlevel=function(){var t,e,i;for(i=(t=this.current.value()).blobs.length,e=0;e<i;e+=1)t.blobs.pop()},Tt.Output.Queue.prototype.renderBlobs=function(t,e,i,r){var s,n,a,o,l,u,p,c,h,f,m;if(m=Tt.getSafeEscape(this.state),e=e||"",s=this.state,[],a=n="",u=t.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===u&&"object"===$(t[0])&&r)return t[0].strings.prefix=r.strings.prefix+t[0].strings.prefix,t[0].strings.suffix=t[0].strings.suffix+r.strings.suffix,t[0].decorations=t[0].decorations.concat(r.decorations),t[0].params=r.params,t[0];var d=!0;for(l=0;l<u;l+=1)d=t[l].checkNext?(t[l].checkNext(t[l+1],d),!1):!t[l+1]||!t[l+1].splice_prefix;var g=!0;for(l=t.length-1;0<l;l+=-1)t[l].checkLast?g&&t[l].checkLast(t[l-1])&&(g=!1):g=!0;for(u=t.length,l=0;l<u;l+=1)if(n&&(a=e),"string"==typeof(o=t[l]))n+=m(a),n+=o,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=a.length);else if(i)n=n?[n,o]:[o];else if(o.status!==Tt.SUPPRESS){var b=(h=o.particle?o.particle+o.num:o.formatter.format(o.num,o.gender)).replace(/<[^>]*>/g,"").length;this.append(h,"empty",!0);var y=this.pop(),v=s.tmp.count_offset_characters;if(h=this.string(s,[y],!1),s.tmp.count_offset_characters=v,o.strings["text-case"]&&(h=Tt.Output.Formatters[o.strings["text-case"]](this.state,h)),h&&this.state.tmp.strip_periods&&(h=h.replace(/\.([^a-z]|$)/g,"$1")),!s.tmp.suppress_decorations)for(c=o.decorations.length,p=0;p<c;p+=1)f=o.decorations[p],s.normalDecorIsOrphan(o,f)||(h=s.fun.decorate[f[0]][f[1]].call(o,s,h,f[2]));h=m(o.strings.prefix)+h+m(o.strings.suffix);var _="";o.status===Tt.END?_=m(o.range_prefix):o.status===Tt.SUCCESSOR?_=m(o.successor_prefix):o.status===Tt.START?_=0<l&&!o.suppress_splice_prefix?m(o.splice_prefix):"":o.status===Tt.SEEN&&(_=m(o.splice_prefix)),n+=_,n+=h,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=_.length+o.strings.prefix.length+b+o.strings.suffix.length)}return n},Tt.Output.Queue.purgeEmptyBlobs=function(t){if("object"===$(t)&&"object"===$(t.blobs)&&t.blobs.length)for(var e=t.blobs.length-1;-1<e;e--){Tt.Output.Queue.purgeEmptyBlobs(t.blobs[e]);var i=t.blobs[e];if(!i||!i.blobs||!i.blobs.length){for(var r=[];t.blobs.length-1>e;)r.push(t.blobs.pop());for(t.blobs.pop();r.length;)t.blobs.push(r.pop())}}},Tt.Output.Queue.adjust=function(h){var t={";":!0,":":!0},e={".":!0,"!":!0,"?":!0},v={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},i={},r={},f={},m={};for(var s in v)f[s]=!0,m[s]=!0,t[s]||(i[s]=!0),e[s]||(r[s]=!0);m[" "]=!0,m["\xa0"]=!0;var _={};for(var s in v)for(var n in v[s])_[n]||(_[n]={}),_[n][s]=v[s][n];function d(t){return"number"==typeof t.num||t.blobs&&1===t.blobs.length&&"number"==typeof t.blobs[0].num}function g(t){return"number"==typeof t.num||!(!t.blobs||"object"!==$(t.blobs))&&(!!g(t.blobs[t.blobs.length-1])||void 0)}function b(t,e){var i=!1,r=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(e&&r.push("@quotes"),t.decorations)for(var s=0,n=t.decorations.length;s<n;s++)if(-1<r.indexOf(t.decorations[s][0])){i=!0;break}return i}function y(t){if(t.decorations)for(var e=0,i=t.decorations.length;e<i;e++)if("@quotes"===t.decorations[e][0]&&"false"!==t.decorations[e][1])return!0;return"object"===$(t.blobs)&&y(t.blobs[t.blobs.length-1])}function x(t,e){var i=e.strings.suffix.slice(-1);i||"string"!=typeof e.blobs||(i=e.blobs.slice(-1));var r=_[t][i];return!(!r||1!==r.length)||"object"===$(e.blobs)&&!!x(t,e.blobs[e.blobs.length-1])}function w(t,e){if(!f[e])return!1;if("string"==typeof t.blobs)return t.blobs.slice(-1)===e;var i=t.blobs[t.blobs.length-1];return!!i&&(i.strings.suffix.slice(-1)?i.strings.suffix.slice(-1)==e:w(i,e))}function A(t,e,i,r,s){var n="blobs"===e?t:t.strings,a="blobs"===r?i:i.strings,o=n[e].slice(-1),l=a[r].slice(0,1);function u(){a[r]=a[r].slice(1)}function p(){n[e]=n[e].slice(0,-1)}function c(t){a[r]=t+a[r]}function h(t){n[e]+=t}var f=s?function d(){return v[o]}:function g(){return _[l]};var m=s?function b(){var t=v[o][l];"string"==typeof t?(p(),u(),c(t)):(c(o),p())}:function y(){var t=_[l][o];"string"==typeof t?(p(),u(),h(t)):(h(l),u())};o===l?(s?p:u)():f()&&m()}function u(t){var e=t.strings.suffix.slice(0,1);if("string"==typeof t.blobs)for(;i[e];)A(t,"blobs",t,"suffix"),e=t.strings.suffix.slice(0,1);else for(;i[e];)A(t.blobs[t.blobs.length-1],"suffix",t,"suffix"),e=t.strings.suffix.slice(0,1)}function p(t){if("string"==typeof t.blobs)for(var e=t.blobs.slice(-1);r[e];)A(t,"blobs",t,"suffix",!0),e=t.blobs.slice(-1);else for(e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1);r[e];)A(t.blobs[t.blobs.length-1],"suffix",t,"suffix",!0),e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1)}this.upward=function a(t){if(t.blobs&&"string"==typeof t.blobs)f[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"===$(t)&&"object"===$(t.blobs)&&t.blobs.length)for(var e=b(t,!0),i=t.blobs.length-1;-1<i;i--){this.upward(t.blobs[i]);var r=t.strings,s=t.blobs[i].strings;if(0===i){" "===r.prefix.slice(-1)&&" "===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1));var n=s.prefix.slice(0,1);e||!m[n]||r.prefix||(r.prefix+=n,s.prefix=s.prefix.slice(1))}if(i===t.blobs.length-1){n=s.suffix.slice(-1);!e&&-1<[" "].indexOf(n)&&(r.suffix.slice(0,1)!==n&&(r.suffix=n+r.suffix),s.suffix=s.suffix.slice(0,-1))}r.delimiter&&0<i&&m[r.delimiter.slice(-1)]&&r.delimiter.slice(-1)===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1))}},this.leftward=function c(t){if("object"===$(t)&&"object"===$(t.blobs)&&t.blobs.length)for(var e=t.blobs.length-1;-1<e;e--)if(this.leftward(t.blobs[e]),e<t.blobs.length-1&&!t.strings.delimiter){var i=t.blobs[e],r=i.strings.suffix.slice(-1),s=t.blobs[e+1],n=s.strings.prefix.slice(0,1),a="number"==typeof r||"number"==typeof n;if(!(b(i)||b(s))&&!a&&f[n]&&!a){var o=n===i.strings.suffix.slice(-1),l=!i.strings.suffix&&"string"==typeof i.blobs&&i.blobs.slice(-1)===n;o||l?s.strings.prefix=s.strings.prefix.slice(1):A(i,"suffix",s,"prefix")}}},this.downward=function E(t){if(t.blobs&&"string"==typeof t.blobs)f[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"===$(t)&&"object"===$(t.blobs)&&t.blobs.length){for(var e=t.strings,i=0,r=t.blobs.length;i<r;i++)if(d(t.blobs[i])){!0;break}if(e.delimiter&&f[e.delimiter.slice(0,1)]){var s=e.delimiter.slice(0,1);for(i=t.blobs.length-2;-1<i;i--){(a=t.blobs[i].strings).suffix.slice(-1)!==s&&(a.suffix+=s)}e.delimiter=e.delimiter.slice(1)}for(i=t.blobs.length-1;-1<i;i--){var n=t.blobs[i],a=t.blobs[i].strings,o=b(n,!0),l=d(n);if(i===t.blobs.length-1){var u=e.suffix.slice(0,1),p=!1;f[u]&&!(p=x(u,n))&&h&&(p=y(n)),p&&f[u]&&(g(n)||("string"==typeof n.blobs?A(n,"blobs",t,"suffix"):A(n,"suffix",t,"suffix"),"."===e.suffix.slice(0,1)&&(a.suffix+=e.suffix.slice(0,1),e.suffix=e.suffix.slice(1)))),"\xa0"===a.suffix.slice(-1)&&" "===e.suffix.slice(0,1)&&(e.suffix=e.suffix.slice(1)),m[a.suffix.slice(0,1)]&&("string"==typeof n.blobs&&n.blobs.slice(-1)===a.suffix.slice(0,1)&&(a.suffix=a.suffix.slice(1)),a.suffix.slice(-1)===e.suffix.slice(0,1)&&(e.suffix=e.suffix.slice(0,-1))),w(t,t.strings.suffix.slice(0,1))&&(t.strings.suffix=t.strings.suffix.slice(1))}else if(e.delimiter)m[e.delimiter.slice(0,1)]&&e.delimiter.slice(0,1)===a.suffix.slice(-1)&&(t.blobs[i].strings.suffix=t.blobs[i].strings.suffix.slice(0,-1));else{var c=t.blobs[i+1].strings;d(n)||o||!m[a.suffix.slice(-1)]||a.suffix.slice(-1)!==c.prefix.slice(0,1)||(c.prefix=c.prefix.slice(1))}l||o||!f[a.suffix.slice(0,1)]||"string"!=typeof n.blobs||A(n,"blobs",n,"suffix"),this.downward(t.blobs[i])}}},this.fix=function O(t){if("object"===$(t)&&"object"===$(t.blobs)&&t.blobs.length){for(var e,i=0,r=t.blobs.length;i<r;i++){for(var s=t.blobs[i],n=!1,a=0,o=s.decorations.length;a<o;a++){var l=s.decorations[a];"@quotes"===l[0]&&"false"!==l[1]&&(n=!0)}n&&(h?u(s):p(s)),e=this.fix(t.blobs[i]),s.blobs&&"string"==typeof s.blobs&&(e=s.blobs.slice(-1))}return e}}},Tt.Engine.Opt=function(){this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=Tt.NONE,this.bib_mode=Tt.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.static_statute_locator=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.handle_parallel_articles=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1},Tt.Engine.Tmp=function(){this.names_max=new Tt.Stack,this.names_base=new Tt.Stack,this.givens_base=new Tt.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new Tt.Stack(0,Tt.LITERAL),this.element_rendered_ok=!1,this.element_trace=new Tt.Stack("style"),this.nameset_counter=0,this.group_context=new Tt.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:undefined,label_form:undefined,parallel_conditions:undefined,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new Tt.Stack(0,Tt.LITERAL),this.decorations=new Tt.Stack,this.tokenstore_stack=new Tt.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new Tt.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new Tt.AmbigConfig,this.bib_sort_keys=[],this.prefix=new Tt.Stack("",Tt.LITERAL),this.suffix=new Tt.Stack("",Tt.LITERAL),this.delimiter=new Tt.Stack("",Tt.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},Tt.Engine.Fun=function(t){this.match=new Tt.Util.Match,this.suffixator=new Tt.Util.Suffixator(Tt.SUFFIX_CHARS),this.romanizer=new Tt.Util.Romanizer,this.ordinalizer=new Tt.Util.Ordinalizer(t),this.long_ordinalizer=new Tt.Util.LongOrdinalizer},Tt.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new Tt.Stack(0,Tt.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},Tt.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},Tt.Engine.Citation=function(t){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new Tt.Registry.Comparifier(t,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},Tt.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},Tt.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=Tt.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},Tt.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},Tt.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},Tt.Engine.prototype.previewCitationCluster=function(t,e,i,r){var s=this.opt.mode;this.setOutputFormat(r),t.citationID&&delete t.citationID;var n=this.processCitationCluster(t,e,i,Tt.PREVIEW);return this.setOutputFormat(s),n[1]},Tt.Engine.prototype.appendCitationCluster=function(t){for(var e=[],i=this.registry.citationreg.citationByIndex.length,r=0;r<i;r+=1){var s=this.registry.citationreg.citationByIndex[r];e.push([""+s.citationID,s.properties.noteIndex])}return this.processCitationCluster(t,e,[])[1]},Tt.Engine.prototype.processCitationCluster=function(t,e,i,r){var s,n,a,o,l,u,p,c,h,f,m,d,g,b,y,v,_;if(this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(t),r===Tt.PREVIEW){y=this.registry.citationreg.citationByIndex.slice(),v=this.registry.reflist.slice();for(var x=e.concat(i),w={},A=[],E=0,O=x.length;E<O;E+=1)for(o=0,l=(s=this.registry.citationreg.citationById[x[E][0]]).citationItems.length;o<l;o+=1)w[s.citationItems[o].id]=!0,A.push(""+s.citationItems[o].id);for(o=0,l=t.citationItems.length;o<l;o+=1)w[t.citationItems[o].id]=!0,A.push(""+t.citationItems[o].id);_={};for(E=0,O=v.length;E<O;E+=1)if(!w[v[E].id]){var T=this.registry.registry[v[E].id].ambig,S=this.registry.ambigcites[T];if(S)for(o=0,l=S.length;o<l;o+=1)_[S[o]]=Tt.cloneAmbigConfig(this.registry.registry[S[o]].disambig)}}this.tmp.taintedCitationIDs={};var I=[],k={};for(E=0,O=t.citationItems.length;E<O;E+=1){for(var N in m={},t.citationItems[E])m[N]=t.citationItems[E][N];var Q;if((f=this.retrieveItem(""+m.id)).id&&this.transform.loadAbbreviation("default","hereinafter",f.id),m=Tt.parseLocator.call(this,m),this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable([[f,m]]),this.opt.development_extensions.locator_label_parse)if(m.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(f.type)&&(!m.label||"page"===m.label))if(Q=Tt.LOCATOR_LABELS_REGEXP.exec(m.locator)){var j=Tt.LOCATOR_LABELS_MAP[Q[2]];this.getTerm(j)&&(m.label=j,m.locator=Q[3])}var C=[f,m];I.push(C),t.citationItems[E].item=f}t.sortedItems=I;var P,R=[],D={};for(E=0,O=e.length;E<O;E+=1){if(n=e[E],this.opt.development_extensions.strict_inputs){if(D[n[0]])throw"Previously referenced citationID "+n[0]+" encountered in citationsPre";if(n[1]){if(P>n[1])throw"Note index sequence is not sane at citationsPre["+E+"]";P=n[1]}}this.registry.citationreg.citationById[n[0]].properties.noteIndex=n[1],R.push(this.registry.citationreg.citationById[n[0]]),D[n[0]]=this.registry.citationreg.citationById[n[0]]}if(t.properties||(t.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs){if(D[t.citationID])throw"Citation with previously referenced citationID "+t.citationID;if(t.properties.noteIndex){if(P>t.properties.noteIndex)throw"Note index sequence is not sane for citation "+t.citationID;P=t.properties.noteIndex}}for(R.push(t),D[t.citationID]=t,E=0,O=i.length;E<O;E+=1){if(a=i[E],this.opt.development_extensions.strict_inputs){if(D[a[0]])throw"Previously referenced citationID "+a[0]+" encountered in citationsPost";if(a[1]){if(P>a[1])throw"Note index sequence is not sane at postCitation["+E+"]";P=a[1]}}this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],R.push(this.registry.citationreg.citationById[a[0]]),D[a[0]]=this.registry.citationreg.citationById[a[0]]}this.registry.citationreg.citationByIndex=R,this.registry.citationreg.citationById=D,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===Tt.POSITION&&(g=[],d=[],b={});var L,M=[];for(E=0,O=R.length;E<O;E+=1){for(R[E].properties.index=E,o=0,l=R[E].sortedItems.length;o<l;o+=1)m=R[E].sortedItems[o],this.registry.citationreg.citationsByItemId[m[1].id]||(this.registry.citationreg.citationsByItemId[m[1].id]=[],M.push(""+m[1].id)),-1===this.registry.citationreg.citationsByItemId[m[1].id].indexOf(R[E])&&this.registry.citationreg.citationsByItemId[m[1].id].push(R[E]);this.opt.update_mode===Tt.POSITION&&(R[E].properties.noteIndex?d.push(R[E]):(R[E].properties.noteIndex=0,g.push(R[E])))}if(r!==Tt.ASSUME_ALL_ITEMS_REGISTERED&&this.updateItems(M,null,null,!0),!this.opt.citation_number_sort&&I&&1<I.length&&0<this.citation_sort.tokens.length){for(E=0,O=I.length;E<O;E+=1)I[E][1].sortkeys=Tt.getSortKeys.call(this,I[E][0],"citation_sort");if(this.opt.grouped_sort&&!t.properties.unsorted){for(E=0,O=I.length;E<O;E+=1){var B=I[E][1].sortkeys;this.tmp.authorstring_request=!0;var U=this.registry.registry[I[E][0].id].disambig;this.tmp.authorstring_request=!0,Tt.getAmbiguousCite.call(this,I[E][0],U);var F=this.registry.authorstrings[I[E][0].id];this.tmp.authorstring_request=!1,I[E][1].sortkeys=[F].concat(B)}I.sort(this.citation.srt.compareCompositeKeys);var G=!1,q=!1,z=!1;for(E=0,O=I.length;E<O;E+=1)I[E][1].sortkeys[0]!==G&&(z=I[E][1].sortkeys[0],q=I[E][1].sortkeys[1]),I[E][1].sortkeys[0]=""+q+E,G=z}t.properties.unsorted||I.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.update_mode===Tt.POSITION)for(E=0;E<2;E+=1){var V={},X={};for(o=0,l=(L=[g,d][E]).length;o<l;o+=1){var H=L[o];for(L[o].properties.noteIndex||(L[o].properties.noteIndex=0),L[o].properties.noteIndex=parseInt(L[o].properties.noteIndex,10),0<o&&L[o-1].properties.noteIndex>L[o].properties.noteIndex&&(b={},V={},X={}),u=0,p=H.sortedItems.length;u<p;u+=1)this.registry.registry[H.sortedItems[u][1].id].parallel||(b[H.properties.noteIndex]?b[H.properties.noteIndex]+=1:b[H.properties.noteIndex]=1);for(u=0,p=L[o].sortedItems.length;u<p;u+=1){var Y,J=(m=L[o].sortedItems[u])[0].id,W=m[1].locator,K=m[1].label;if(m[0].legislation_id&&(J=m[0].legislation_id),0<u&&(Y=H.sortedItems[u-1][0].legislation_id?H.sortedItems[u-1][0].legislation_id:H.sortedItems[u-1][1].id),r!==Tt.PREVIEW||H.citationID==t.citationID){var $,Z={};if(Z.position=m[1].position,Z["first-reference-note-number"]=m[1]["first-reference-note-number"],Z["near-note"]=m[1]["near-note"],m[1]["first-reference-note-number"]=0,m[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[J]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var tt=this.registry.registry[J]["citation-count"],et=this.registry.citationreg.citationsByItemId[J].length;if(this.registry.registry[J]["citation-count"]=this.registry.citationreg.citationsByItemId[J].length,"number"==typeof tt){if(tt<2!=et<2)for(var it=0,rt=this.registry.citationreg.citationsByItemId[J].length;it<rt;it++)k[this.registry.registry[J].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[J][it].citationID]=!0}else for(it=0,rt=this.registry.citationreg.citationsByItemId[J].length;it<rt;it++)k[this.registry.registry[J].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[J][it].citationID]=!0}if("undefined"==typeof V[J]&&"author-only"!==H.properties.mode)V[J]=H.properties.noteIndex,this.registry.registry[J]&&(this.registry.registry[J]["first-reference-note-number"]=H.properties.noteIndex),X[J]=H.properties.noteIndex,m[1].position=Tt.POSITION_FIRST;else{var st,nt,at,ot,lt=!1,ut=!1;if(0<o){try{var pt=1;"author-only"===L[o-1].properties.mode&&1<o&&(pt=2),$=L[o-pt].sortedItems.slice(-1)[0][1].id}catch(Ot){var ct="CSL Error\n";throw ct+="  "+Ot,ct+="  in citation object "+L[o-1].citationID+" at index "+(o-1)}L[o-1].sortedItems[0].slice(-1)[0].legislation_id&&($=L[o-1].sortedItems[0].slice(-1)[0].legislation_id)}if(0<o&&0===parseInt(u,10)&&L[o-1].properties.noteIndex!==L[o].properties.noteIndex){var ht=L[o-1].sortedItems,ft=!1,mt=L[o-1].sortedItems[0][0].id;for(L[o-1].sortedItems[0][0].legislation_id&&(mt=L[o-1].sortedItems[0][0].legislation_id),(mt==J&&L[o-1].properties.noteIndex>=L[o].properties.noteIndex-1||L[o-1].sortedItems[0][1].id==this.registry.registry[m[1].id].parallel)&&(1!==b[L[o-1].properties.noteIndex]&&0!==L[o-1].properties.noteIndex||(ft=!0)),c=0,h=ht.slice(1).length;c<h;c+=1){var dt=ht.slice(1)[c];this.registry.registry[dt[1].id].parallel&&this.registry.registry[dt[1].id].parallel!=this.registry.registry[dt[1].id]||(ft=!1)}ft?lt=!0:ut=!0}else 0<u&&Y==J?lt=!0:0===u&&0<o&&L[o-1].properties.noteIndex==L[o].properties.noteIndex&&L[o-1].sortedItems.length&&$==J?lt=!0:ut=!0;if(lt&&(nt=(st=0<u?H.sortedItems[u-1][1]:L[o-1].sortedItems[0][1]).locator?(at=st.label?st.label:"",""+st.locator+at):st.locator,ot=W?""+W+(K||""):W),lt&&nt&&!ot&&(ut=!(lt=!1)),lt&&(!nt&&ot?m[1].position=Tt.POSITION_IBID_WITH_LOCATOR:nt||ot?nt&&ot===nt?m[1].position=Tt.POSITION_IBID:nt&&ot&&ot!==nt?m[1].position=Tt.POSITION_IBID_WITH_LOCATOR:ut=!(lt=!1):m[1].position=Tt.POSITION_IBID),ut&&(m[1].position=Tt.POSITION_SUBSEQUENT),(ut||lt)&&("author-only"===H.properties.mode&&(m[1].position=Tt.POSITION_FIRST),V[J]!=H.properties.noteIndex&&(m[1]["first-reference-note-number"]=V[J],this.registry.registry[J]))){var gt=this.registry.citationreg.citationsByItemId[J][0].properties.noteIndex,bt=H.properties.noteIndex;this.registry.registry[J]["first-reference-note-number"]=bt<gt?bt:gt}}if(H.properties.noteIndex){var yt=parseInt(H.properties.noteIndex,10)-parseInt(X[J],10);m[1].position!==Tt.POSITION_FIRST&&yt<=this.citation.opt["near-note-distance"]&&(m[1]["near-note"]=!0),X[J]=H.properties.noteIndex}if(H.citationID!=t.citationID)for(c=0,h=Tt.POSITION_TEST_VARS.length;c<h;c+=1){var vt=Tt.POSITION_TEST_VARS[c];m[1][vt]!==Z[vt]&&(this.registry.registry[J]&&"first-reference-note-number"===vt&&(k[this.registry.registry[J].ambig]=!0,this.tmp.taintedItemIDs[J]=!0),this.tmp.taintedCitationIDs[H.citationID]=!0)}this.sys.variableWrapper&&(m[1].index=H.properties.index,m[1].noteIndex=H.properties.noteIndex)}else"undefined"==typeof V[m[1].id]&&(V[J]=H.properties.noteIndex),X[J]=H.properties.noteIndex}}}if(this.opt.citation_number_sort&&I&&1<I.length&&0<this.citation_sort.tokens.length&&!t.properties.unsorted){for(E=0,O=I.length;E<O;E+=1)I[E][1].sortkeys=Tt.getSortKeys.call(this,I[E][0],"citation_sort");I.sort(this.citation.srt.compareCompositeKeys)}for(var N in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(N)&&(L=this.registry.citationreg.citationsByItemId[N]))for(E=0,O=L.length;E<O;E+=1)this.tmp.taintedCitationIDs[L[E].citationID]=!0;var _t=[];if(r===Tt.PREVIEW){try{_t=this.process_CitationCluster.call(this,t.sortedItems,t)}catch(Ot){Tt.error("Error running CSL processor for preview: "+Ot)}this.registry.citationreg.citationByIndex=y,this.registry.citationreg.citationById={};for(E=0,O=y.length;E<O;E+=1)this.registry.citationreg.citationById[y[E].citationID]=y[E];var xt=[];for(E=0,O=v.length;E<O;E+=1)xt.push(""+v[E].id);for(var N in this.updateItems(xt,null,null,!0),_)_.hasOwnProperty(N)&&(this.registry.registry[N].disambig=_[N])}else{for(var wt in k)this.disambiguate.run(wt,t);var At;for(var N in this.tmp.taintedCitationIDs)if(N!=t.citationID){var Et=this.registry.citationreg.citationById[N];if(!Et.properties.unsorted){for(E=0,O=Et.sortedItems.length;E<O;E+=1)Et.sortedItems[E][1].sortkeys=Tt.getSortKeys.call(this,Et.sortedItems[E][0],"citation_sort");Et.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=Et.properties.index,this.tmp.citation_note_index=Et.properties.noteIndex,this.tmp.citation_id=""+Et.citationID,(At=[]).push(Et.properties.index),At.push(this.process_CitationCluster.call(this,Et.sortedItems,Et)),At.push(Et.citationID),_t.push(At)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=t.properties.index,this.tmp.citation_note_index=t.properties.noteIndex,this.tmp.citation_id=""+t.citationID,(At=[]).push(e.length),At.push(this.process_CitationCluster.call(this,I,t)),At.push(t.citationID),_t.push(At),_t.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0})}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,_t]},Tt.Engine.prototype.process_CitationCluster=function(t,e){var i="";if(this.parallel.StartCitation(t),e&&e.properties&&"composite"===e.properties.mode){e.properties.mode="author-only";var r=Tt.getCitationCluster.call(this,t,e);e.properties.mode="suppress-author";var s="";e.properties.infix&&(this.output.append(e.properties.infix),"object"===$(s=this.output.string(this,this.output.queue))&&(s=s.join("")));var n=Tt.getCitationCluster.call(this,t,e);e.properties.mode="composite",r&&s&&-1<Tt.SWAPPING_PUNCTUATION.concat(["\u2019","'"]).indexOf(s[0])&&(r+=s,s=!1),i=[r,s,n].filter(function(t){return t}).join(" ")}else i=Tt.getCitationCluster.call(this,t,e);return i},Tt.Engine.prototype.makeCitationCluster=function(t){var e,i,r,s,n,a;for(e=[],s=t.length,r=0;r<s;r+=1){for(var o in n={},t[r])n[o]=t[r][o];if(a=this.retrieveItem(""+n.id),this.opt.development_extensions.locator_label_parse&&n.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(a.type)&&(!n.label||"page"===n.label)){var l=Tt.LOCATOR_LABELS_REGEXP.exec(n.locator);if(l){var u=Tt.LOCATOR_LABELS_MAP[l[2]];this.getTerm(u)&&(n.label=u,n.locator=l[3])}}n.locator&&(n.locator=(""+n.locator).replace(/\s+$/,"")),i=[a,n],e.push(i)}if(this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable(e),e&&1<e.length&&0<this.citation_sort.tokens.length){for(s=e.length,r=0;r<s;r+=1)e[r][1].sortkeys=Tt.getSortKeys.call(this,e[r][0],"citation_sort");e.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],this.parallel.StartCitation(e),Tt.getCitationCluster.call(this,e)},Tt.getAmbiguousCite=function(t,e,i,r){var s=this.tmp.group_context.tip,n={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,parallel_conditions:s.parallel_conditions,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};this.tmp.disambig_request=e||!1;var a={position:1,"near-note":!0};r&&(a.locator=r.locator,a.label=r.label),this.registry.registry[t.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[t.id]&&this.registry.citationreg.citationsByItemId[t.id].length&&i&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(a["first-reference-note-number"]=this.registry.registry[t.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation",this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null;var o=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,Tt.getCite.call(this,t,a,null,!1);for(var l=0,u=this.output.queue.length;l<u;l+=1)Tt.Output.Queue.purgeEmptyBlobs(this.output.queue[l]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var p=0,c=this.output.queue.length;p<c;p+=1)this.output.adjust.upward(this.output.queue[p]),this.output.adjust.leftward(this.output.queue[p]),this.output.adjust.downward(this.output.queue[p]),this.output.adjust.fix(this.output.queue[p]);var h=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=o,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.group_context.replace(n),h},Tt.getSpliceDelimiter=function(t,e,i){if(undefined!==this.citation.opt["after-collapse-delimiter"])t?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==Tt.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[i-1]){var r=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[i-1]];r&&r.delimiter&&(this.tmp.splice_delimiter=r.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},Tt.getCitationCluster=function(t,e){var i,r,s,n,a,o,l,u,p,c,h,f,m,d,g,b,y,v,_,x,w,A="";this.output.checkNestedBrace=new Tt.checkNestedBrace(this),e&&(_=e.citationID,x="author-only"===e.properties.mode&&!!e.properties.mode,"note"!==this.opt.xclass&&(w="suppress-author"===e.properties.mode&&!!e.properties.mode),e.properties.prefix&&(A=Tt.checkPrefixSpaceAppend(this,e.properties.prefix))),t=t||[],this.tmp.last_primary_names_string=!1,y=Tt.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",i="",r=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[];var E=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+A),O=!1;if("note"===this.opt.xclass&&this.citation.opt.suppressTrailingPunctuation&&(O=!0),_&&this.registry.citationreg.citationById[_].properties["suppress-trailing-punctuation"]&&(O=!0),"note"===this.opt.xclass){for(var T=[],S=!1,I=!1,k=[],N=0,Q=t.length;N<Q;N+=1){var j=t[N][0].type,C=t[N][0].title,P=t[N][1].position,R=t[N][0].id;C&&"legal_case"===j&&R!==I&&P&&(C===S&&0!==T.length||(k=[],T.push(k)),k.push(t[N][1])),S=C,P,I=R}for(N=0,Q=T.length;N<Q;N+=1)if(!((k=T[N]).length<2)){var D=k.slice(-1)[0].locator;if(D)for(var L=0,M=k.length-1;L<M;L+=1)k[L].locator&&(D=!1);D&&(k[0].locator=D,delete k.slice(-1)[0].locator,k[0].label=k.slice(-1)[0].label,k.slice(-1)[0].label&&delete k.slice(-1)[0].label)}}for(s=[],n=t.length,t[0]&&t[0][1]&&(x?(delete t[0][1]["suppress-author"],t[0][1]["author-only"]=!0):w&&(delete t[0][1]["author-only"],t[0][1]["suppress-author"]=!0)),a=0;a<n;a+=1){f=t[a][0],o=t[a][1],o=Tt.parseLocator.call(this,o),l=this.tmp.have_collapsed;var B=!1;if(0<a&&t[a-1][1]&&(B=!!t[a-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var U=this.output;this.output=new Tt.Output.Queue(this),this.output.adjust=new Tt.Output.Queue.adjust,Tt.getAmbiguousCite.call(this,f,null,!1,o),this.output=U}if(this.tmp.in_cite_predecessor=!1,0<a?Tt.getCite.call(this,f,o,""+t[a-1][0].id,!0):(this.tmp.term_predecessor=!1,Tt.getCite.call(this,f,o,null,!0)),this.tmp.cite_renders_content||(v={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+f.id,citationItems_pos:a,error_code:Tt.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(v)),a===t.length-1&&this.parallel.ComposeSet(),u.splice_delimiter=Tt.getSpliceDelimiter.call(this,B,l,a),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),0<a){var F=(b=t[a-1][1]).suffix&&-1<[".",","].indexOf(b.suffix.slice(-1)),G=!b.suffix&&o.prefix&&-1<[".",","].indexOf(o.prefix.slice(0,1));if(F||G){var q=u.splice_delimiter.indexOf(" ");u.splice_delimiter=-1<q&&!G?u.splice_delimiter.slice(q):""}}if(u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,s.push(u),o["author-only"])break}this.tmp.has_purged_parallel=!1,this.parallel.PruneOutputQueue(this),h=this.output.queue.slice();var z="";e&&(z=Tt.checkSuffixSpacePrepend(this,e.properties.suffix));var V=this.citation.opt.layout_suffix,X=this.tmp.cite_locales[this.tmp.cite_locales.length-1];X&&this.tmp.cite_affixes[this.tmp.area][X]&&this.tmp.cite_affixes[this.tmp.area][X].suffix&&(V=this.tmp.cite_affixes[this.tmp.area][X].suffix),-1<Tt.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(V.slice(0,1))&&(V=V.slice(0,1)),V=this.output.checkNestedBrace.update(z+V);for(N=0,Q=this.output.queue.length;N<Q;N+=1)Tt.Output.Queue.purgeEmptyBlobs(this.output.queue[N]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(O||(this.output.queue[this.output.queue.length-1].strings.suffix=V),this.output.queue[0].strings.prefix=E)),this.opt.development_extensions.clean_up_csl_flaws)for(L=0,M=this.output.queue.length;L<M;L+=1)this.output.adjust.upward(this.output.queue[L]),this.output.adjust.leftward(this.output.queue[L]),this.output.adjust.downward(this.output.queue[L]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[L]);for(a=0,n=h.length;a<n;a+=1){var H=[];if(this.output.queue=[h[a]],this.tmp.suppress_decorations=s[a].suppress_decorations,this.tmp.splice_delimiter=s[a].splice_delimiter,h[a].parallel_delimiter&&(this.tmp.splice_delimiter=h[a].parallel_delimiter),this.tmp.have_collapsed=s[a].have_collapsed,p=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof p){if(this.tmp.suppress_decorations=!1,!p){if(this.opt.development_extensions.throw_on_empty)throw(K=new Error("Citation would render no content")).code="ECSEMPTY",K;p="[NO_PRINTED_FORM]"}return p}if("object"===$(p)&&0===p.length&&!o["suppress-author"])if(this.tmp.has_purged_parallel)p.push("");else{var Y=0===a?y(this.citation.opt.layout_prefix):"",J=a===h.length-1?y(this.citation.opt.layout_suffix):"";p.push(Y+"[CSL STYLE ERROR: reference with no printed form.]"+J)}if(H.length&&"string"==typeof p[0]){p.reverse();var W=p.pop();W&&","===W.slice(0,1)?H.push(W):"string"==typeof H.slice(-1)[0]&&","===H.slice(-1)[0].slice(-1)?H.push(" "+W):W&&H.push(y(this.tmp.splice_delimiter)+W)}else p.reverse(),void 0!==(c=p.pop())&&(H.length&&"string"==typeof H[H.length-1]&&(H[H.length-1]+=c.successor_prefix),H.push(c));for(m=p.length,d=0;d<m;d+=1)"string"!=typeof(g=p[d])?void 0!==(c=p.pop())&&H.push(c):H.push(y(this.tmp.splice_delimiter)+g);0!==H.length||t[a][1]["suppress-author"]||1,1<H.length&&"string"!=typeof H[0]&&(H=[this.output.renderBlobs(H)]),H.length&&("string"==typeof H[0]?0<a&&(H[0]=y(this.tmp.splice_delimiter)+H[0]):H[0].splice_prefix=0<a?this.tmp.splice_delimiter:""),r=r.concat(H)}if((i+=this.output.renderBlobs(r))&&!this.tmp.suppress_decorations)for(n=this.citation.opt.layout_decorations.length,a=0;a<n;a+=1)"normal"!==(u=this.citation.opt.layout_decorations[a])[1]&&(o&&o["author-only"]||(i=this.fun.decorate[u[0]][u[1]](this,i)));if(this.tmp.suppress_decorations=!1,!i){var K;if(this.opt.development_extensions.throw_on_empty)throw(K=new Error("Citation would render no content")).code="ECSEMPTY",K;i="[NO_PRINTED_FORM]"}return i},Tt.getCite=function(t,e,i,r){var s,n,a=this.tmp.area;for(e&&e["author-only"]&&this.intext&&0<this.intext.tokens.length&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.parallel.StartCite(t,e,i),Tt.citeStart.call(this,t,e,r),s=0,this.tmp.name_node={},this.nameOutput=new Tt.NameOutput(this,t,e);s<this[this.tmp.area].tokens.length;)s=Tt.tokenExec.call(this,this[this.tmp.area].tokens[s],t,e);return Tt.citeEnd.call(this,t,e),this.parallel.CloseCite(this),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(n={index:this.tmp.bibliography_pos,itemID:""+t.id,error_code:Tt.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(n)),this.tmp.area=a,""+t.id},Tt.citeStart=function(t,e,i){if(i||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[t.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[t.id].disambig,this.tmp.disambig_settings=this.registry.registry[t.id].disambig):this.tmp.disambig_settings=new Tt.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[t.id]){if(this.tmp.disambig_restore=Tt.cloneAmbigConfig(this.registry.registry[t.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[t.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[t.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[t.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[t.id].disambig.givens.slice();for(var r=0,s=this.tmp.disambig_settings.givens.length;r<s;r+=1)this.tmp.disambig_settings.givens[r]=this.registry.registry[t.id].disambig.givens[r].slice();for(r=0,s=this.tmp.disambig_request.givens.length;r<s;r+=1)this.tmp.disambig_request.givens[r]=this.registry.registry[t.id].disambig.givens[r].slice()}}else this.tmp.disambig_restore=new Tt.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&e&&!e.position&&this.registry.registry[t.id]&&(this.tmp.disambig_restore=Tt.cloneAmbigConfig(this.registry.registry[t.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},Tt.citeEnd=function(t,e){if(this.tmp.disambig_restore&&this.registry.registry[t.id]){this.registry.registry[t.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[t.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var i=0,r=this.registry.registry[t.id].disambig.givens.length;i<r;i+=1)this.registry.registry[t.id].disambig.givens[i]=this.tmp.disambig_restore.givens[i].slice()}if(this.tmp.disambig_restore=!1,e&&e.suffix?this.tmp.last_suffix_used=e.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var s=[];for(i=this.tmp.issued_date.list.length-1;i>this.tmp.issued_date.pos;i+=-1)s.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),i=s.length-1;-1<i;i+=-1)this.tmp.issued_date.list.push(s.pop());this.parallel.use_parallels&&(this.parallel.cite.issued=!1)}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},Tt.Engine.prototype.makeBibliography=function(t){var e,i,r,s,n,a,o;if(!1,!t&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(t={exclude:[]},this.bibliography.opt.exclude_types)for(var l in this.bibliography.opt.exclude_types){var u=this.bibliography.opt.exclude_types[l];t.exclude.push({field:"type",value:u})}if(this.bibliography.opt.exclude_with_fields)for(var l in this.bibliography.opt.exclude_with_fields){var p=this.bibliography.opt.exclude_with_fields[l];t.exclude.push({field:p,value:!0})}}if(!this.bibliography.tokens.length)return!1;"string"==typeof t&&(this.opt.citation_number_slug=t,t=!1),a=(e=Tt.getBibliographyEntries.call(this,t))[0],o=e[1];var c=e[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:a,bibliography_errors:this.tmp.bibliography_errors.slice(),done:c},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),0,s=this.registry.reflist.length,n=0;n<s;n+=1)(r=this.registry.reflist[n]).offset>i.maxoffset&&(i.maxoffset=r.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,o]},Tt.getBibliographyEntries=function(t){var e,i,r,s,n,a,o,l,u,p,c,h,f,m,d,g,b,y,v,_,x,w,A;function E(t,e){return t===e}function O(t,e){return"boolean"!=typeof t&&t?"string"==typeof e?E(t,e):!!e&&function i(t,e){for(p=e.length,c=0;c<p;c+=1)if(E(t,e[c]))return!0;return!1}(t,e):t?!!e:!e}if(e=[],_=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,i=t&&t.page_start&&t.page_length?this.registry.getSortedIds():this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,b={},t&&t.page_start&&t.page_length&&!(A=0)!==t.page_start)for(d=0,g=i.length;d<g&&(b[i[d]]=!0,t.page_start!=i[d]);d+=1);var T=[];for(d=0,g=i.length;d<g;d+=1){if(t&&t.page_start&&t.page_length){if(b[i[d]])continue;if(l=this.refetchItem(i[d]),A===t.page_length)break}else if(b[(l=i[d]).id])continue;if(t){if(r=!0,t.include){for(r=!1,x=0,w=t.include.length;x<w;x+=1)if(O((u=t.include[x]).value,l[u.field])){r=!0;break}}else if(t.exclude){for(s=!1,x=0,w=t.exclude.length;x<w;x+=1)if(O((u=t.exclude[x]).value,l[u.field])){s=!0;break}s&&(r=!1)}else if(t.select){for(n=!(r=!1),x=0,w=t.select.length;x<w;x+=1)O((u=t.select[x]).value,l[u.field])||(n=!1);n&&(r=!0)}if(t.quash){for(n=!0,x=0,w=t.quash.length;x<w;x+=1)O((u=t.quash[x]).value,l[u.field])||(n=!1);n&&(r=!1)}if(!r)continue}if((a=new Tt.Token("group",Tt.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",a),l.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=l.system_id:this.output.current.value().system_id=l.id,y=[[{id:""+l.id},l]],f=[],!this.registry.registry[l.id].master||t&&t.page_start&&t.page_length)this.registry.registry[l.id].siblings||(this.parallel.StartCitation(y),this.tmp.term_predecessor=!1,f.push(""+Tt.getCite.call(this,l)),t&&t.page_start&&t.page_length&&(A+=1));else{for(m=!0,this.parallel.StartCitation(y),this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,f.push(""+Tt.getCite.call(this,l)),b[l.id]=!0,x=0,w=this.registry.registry[l.id].siblings.length;x<w;x+=1){var S=this.registry.registry[l.id].siblings[x];v=this.refetchItem(S),f.push(""+Tt.getCite.call(this,v)),b[v.id]=!0}this.parallel.ComposeSet(),this.parallel.PruneOutputQueue()}for(_.push(""),this.tmp.bibliography_pos+=1,T.push(f),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(m||!this.output.queue[0].blobs[0].blobs[0].strings?(h=this.output.queue[0].blobs,m=!1):h=this.output.queue[0].blobs[0].blobs,h[0].strings.prefix=this.bibliography.opt.layout_prefix+h[0].strings.prefix),x=0,w=this.output.queue.length;x<w;x+=1)Tt.Output.Queue.purgeEmptyBlobs(this.output.queue[x]);for(x=0,w=this.output.queue.length;x<w;x+=1)this.output.adjust.upward(this.output.queue[x]),this.output.adjust.leftward(this.output.queue[x]),this.output.adjust.downward(this.output.queue[x],!0),this.output.adjust.fix(this.output.queue[x]);if(!(o=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===Tt.NUMERIC){var I=e.length+1+". [CSL STYLE ERROR: reference with no printed form.]";o=Tt.Output.Formats[this.opt.mode]["@bibliography/entry"](this,I)}o&&e.push(o)}var k=!1;if(t&&t.page_start&&t.page_length){var N=i.slice(-1)[0],Q=T.slice(-1)[0];N&&Q&&N!=Q||(k=!0)}return this.tmp.disambig_override=!1,[T,e,k]},Tt.Engine.prototype.setCitationId=function(t,e){var i,r,s;if(i=!1,!t.citationID||e){for(r=Math.floor(1e14*Math.random());;){if(s=0,!this.registry.citationreg.citationById[r]){t.citationID="a"+r.toString(32);break}r+=1===(s=!s&&r<5e13?1:-1)?1:-1}i=""+r}return this.registry.citationreg.citationById[t.citationID]=t,i},Tt.Engine.prototype.rebuildProcessorState=function(t,e,i){e=e||"html";for(var r={},s=[],n=0,a=(t=t||[]).length;n<a;n+=1)for(var o=0,l=t[n].citationItems.length;o<l;o+=1){var u=""+t[n].citationItems[o].id;r[u]||s.push(u),r[u]=!0}this.updateItems(s);var p=[],c=[],h=[],f=this.opt.mode;this.setOutputFormat(e);for(n=0,a=t.length;n<a;n+=1){var m=this.processCitationCluster(t[n],p,c,Tt.ASSUME_ALL_ITEMS_REGISTERED);p.push([t[n].citationID,t[n].properties.noteIndex]);for(o=0,l=m[1].length;o<l;o+=1){var d=m[1][o][0];h[d]=[p[d][0],p[d][1],m[1][o][1]]}}return this.updateUncitedItems(i),this.setOutputFormat(f),h},Tt.Engine.prototype.restoreProcessorState=function(t){var e,i,r,s,n,a,o,l,u,p;l=[],u=[];var c=[],h={};for(e=0,i=(t=t||[]).length;e<i;e+=1)h[t[e].citationID]&&this.setCitationId(t[e],!0),h[t[e].citationID]=!0,c.push(t[e].properties.index);var f=t.slice();for(f.sort(function(t,e){return t.properties.index<e.properties.index?-1:t.properties.index>e.properties.index?1:0}),e=0,i=f.length;e<i;e+=1)f[e].properties.index=e;for(e=0,i=f.length;e<i;e+=1){for(p=[],r=0,s=f[e].citationItems.length;r<s;r+=1)"undefined"==typeof(n=f[e].citationItems[r]).sortkeys&&(n.sortkeys=[]),o=[a=this.retrieveItem(""+n.id),n],p.push(o),f[e].citationItems[r].item=a,u.push(""+n.id);f[e].properties.unsorted||p.sort(this.citation.srt.compareCompositeKeys),f[e].sortedItems=p,this.registry.citationreg.citationById[f[e].citationID]=f[e]}for(this.updateItems(u),e=0,i=t.length;e<i;e+=1)l.push([""+t[e].citationID,t[e].properties.noteIndex]);var m=[];return t&&t.length?m=this.processCitationCluster(t[0],[],l.slice(1)):(this.registry=new Tt.Registry(this),this.tmp=new Tt.Engine.Tmp,this.disambiguate=new Tt.Disambiguation(this)),m},Tt.Engine.prototype.updateItems=function(t,e,i,r){var s=this.tmp.area,n=this.tmp.root,a=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",r||(this.tmp.loadedItemIDs={}),this.registry.init(t),i)for(var o in this.registry.ambigcites)this.registry.ambigsTouched[o]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=s,this.tmp.root=n,this.registry.getSortedIds()},Tt.Engine.prototype.updateUncitedItems=function(t,e){var i,r=this.tmp.area,s=this.tmp.root,n=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},"object"==$(t=t||[]))if("undefined"==typeof t.length)for(var a in i=t,t=[],i)t.push(a);else if("number"==typeof t.length){i={};for(var o=0,l=t.length;o<l;o+=1)i[t[o]]=!0}return this.registry.init(t,!0),this.registry.dopurge(i),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=n,this.tmp.area=r,this.tmp.root=s,this.registry.getSortedIds()},Tt.localeResolve=function(t,e){var i,r;return e=e||"en-US",i={},r=(t=t||e).split(/[\-_]/),i.base=Tt.LANG_BASES[r[0]],"undefined"==typeof i.base?{base:e,best:t,bare:r[0]}:(1===r.length&&(i.generic=!0),1===r.length||"x"===r[1]?i.best=i.base.replace("_","-"):i.best=r.slice(0,2).join("-"),i.base=i.base.replace("_","-"),i.bare=r[0],i)},Tt.Engine.prototype.localeConfigure=function(t,e){var i;if((!e||!this.locale[t.best])&&("en-US"===t.best?(i=Tt.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(i,"en-US",t.best)):"en-US"!==t.best&&(t.base!==t.best&&(i=Tt.setupXml(this.sys.retrieveLocale(t.base)),this.localeSet(i,t.base,t.best)),i=Tt.setupXml(this.sys.retrieveLocale(t.best)),this.localeSet(i,t.best,t.best)),this.localeSet(this.cslXml,"",t.best),this.localeSet(this.cslXml,t.bare,t.best),t.base!==t.best&&this.localeSet(this.cslXml,t.base,t.best),this.localeSet(this.cslXml,t.best,t.best),"undefined"==typeof this.locale[t.best].terms["page-range-delimiter"]&&(-1<["fr","pt"].indexOf(t.best.slice(0,2).toLowerCase())?this.locale[t.best].terms["page-range-delimiter"]="-":this.locale[t.best].terms["page-range-delimiter"]="\u2013"),"undefined"==typeof this.locale[t.best].terms["year-range-delimiter"]&&(this.locale[t.best].terms["year-range-delimiter"]="\u2013"),"undefined"==typeof this.locale[t.best].terms["citation-range-delimiter"]&&(this.locale[t.best].terms["citation-range-delimiter"]="\u2013"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var r=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,n=r.length;s<n;s+=1)for(var a=0,o=this.opt[r[s]].length;a<o;a+=1)this.opt[r[s]][a]=this.opt[r[s]][a].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},Tt.Engine.prototype.localeSet=function(t,e,i){var r,s,n,a,o,l,u,p,c,h,f,m;if(e=e.replace("_","-"),i=i.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(e=e.toLowerCase(),i=i.toLowerCase()),this.locale[i]||(this.locale[i]={},this.locale[i].terms={},this.locale[i].opts={},this.locale[i].opts["skip-words"]=Tt.SKIP_WORDS,this.locale[i].opts["leading-noise-words"]||(this.locale[i].opts["leading-noise-words"]=[]),this.locale[i].dates={},this.locale[i].ord={"1.0.1":!1,keys:{}},this.locale[i]["noun-genders"]={}),s=t.makeXml(),t.nodeNameIs(t.dataObj,"locale"))s=t.dataObj;else for(n=t.getNodesByName(t.dataObj,"locale"),o=0,f=t.numberofnodes(n);o<f;o+=1)if(r=n[o],t.getAttributeValue(r,"lang","xml")===e){s=r;break}for(n=t.getNodesByName(s,"type"),j=0,C=t.numberofnodes(n);j<C;j+=1){var d=n[j],g=t.getAttributeValue(d,"name"),b=t.getAttributeValue(d,"gender");this.opt.gender[g]=b}if(t.getNodesByName(s,"term","ordinal").length){for(var y in this.locale[i].ord.keys)delete this.locale[i].terms[y];this.locale[i].ord={"1.0.1":!1,keys:{}}}n=t.getNodesByName(s,"term");var v={"last-digit":{},"last-two-digits":{},"whole-number":{}},_=!1,x={};for(o=0,f=t.numberofnodes(n);o<f;o+=1){if(l=n[o],"sub verbo"===(p=t.getAttributeValue(l,"name"))&&(p="sub-verbo"),"ordinal"===p.slice(0,7)){if("ordinal"===p)_=!0;else{var w,A=t.getAttributeValue(l,"match"),E=p.slice(8);w=(w=t.getAttributeValue(l,"gender-form"))||"neuter",A||(A="last-two-digits","0"===E.slice(0,1)&&(A="last-digit")),"0"===E.slice(0,1)&&(E=E.slice(1)),v[A][E]||(v[A][E]={}),v[A][E][w]=p}this.locale[i].ord.keys[p]=!0}"undefined"==typeof this.locale[i].terms[p]&&(this.locale[i].terms[p]={}),w=!(u="long"),t.getAttributeValue(l,"form")&&(u=t.getAttributeValue(l,"form")),t.getAttributeValue(l,"gender-form")&&(w=t.getAttributeValue(l,"gender-form")),t.getAttributeValue(l,"gender")&&(this.locale[i]["noun-genders"][p]=t.getAttributeValue(l,"gender")),w?(this.locale[i].terms[p][w]={},this.locale[i].terms[p][w][u]=[],m=this.locale[i].terms[p][w],x[p]=!0):(this.locale[i].terms[p][u]=[],m=this.locale[i].terms[p]),t.numberofnodes(t.getNodesByName(l,"multiple"))?(m[u][0]=t.getNodeValue(l,"single"),-1<m[u][0].indexOf("%s")&&(this.opt.hasPlaceholderTerm=!0),m[u][1]=t.getNodeValue(l,"multiple"),-1<m[u][1].indexOf("%s")&&(this.opt.hasPlaceholderTerm=!0)):(m[u]=t.getNodeValue(l),-1<m[u].indexOf("%s")&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[i].terms.supplement||(this.locale[i].terms.supplement={}),this.locale[i].terms.supplement["long"]||(this.locale[i].terms.supplement["long"]=["supplement","supplements"]),_){for(var O in x){var T={},S=0;for(var I in this.locale[i].terms[O])-1<["masculine","feminine"].indexOf(I)?T[I]=this.locale[i].terms[O][I]:S+=1;if(!S)if(T.feminine)for(var I in T.feminine)this.locale[i].terms[O][I]=T.feminine[I];else if(T.masculine)for(var I in T.masculine)this.locale[i].terms[O][I]=T.masculine[I]}this.locale[i].ord["1.0.1"]=v}for(p in this.locale[i].terms)for(j=0,C=2;j<C;j+=1)if(w=Tt.GENDERS[j],this.locale[i].terms[p][w])for(u in this.locale[i].terms[p])this.locale[i].terms[p][w][u]||(this.locale[i].terms[p][w][u]=this.locale[i].terms[p][u]);for(n=t.getNodesByName(s,"style-options"),o=0,f=t.numberofnodes(n);o<f;o+=1)for(h in c=n[o],a=t.attributes(c))if(a.hasOwnProperty(h))if("@punctuation-in-quote"===h||"@limit-day-ordinals-to-day-1"===h)"true"===a[h]?this.locale[i].opts[h.slice(1)]=!0:this.locale[i].opts[h.slice(1)]=!1;else if("@jurisdiction-preference"===h){var k=a[h].split(/\s+/);this.locale[i].opts[h.slice(1)]=k}else if("@skip-words"===h){var N=a[h].split(/\s*,\s*/);this.locale[i].opts[h.slice(1)]=N}else if("@leading-noise-words"===h){var Q=a[h].split(/\s*,\s*/);this.locale[i].opts["leading-noise-words"]=Q}else if("@name-as-sort-order"===h){this.locale[i].opts["name-as-sort-order"]={};for(var j=0,C=(P=a[h].split(/\s+/)).length;j<C;j+=1)this.locale[i].opts["name-as-sort-order"][P[j]]=!0}else if("@name-as-reverse-order"===h){this.locale[i].opts["name-as-reverse-order"]={};for(j=0,C=(P=a[h].split(/\s+/)).length;j<C;j+=1)this.locale[i].opts["name-as-reverse-order"][P[j]]=!0}else if("@name-never-short"===h){this.locale[i].opts["name-never-short"]={};var P;for(j=0,C=(P=a[h].split(/\s+/)).length;j<C;j+=1)this.locale[i].opts["name-never-short"][P[j]]=!0}for(n=t.getNodesByName(s,"date"),o=0,f=t.numberofnodes(n);o<f;o+=1){var R=n[o];this.locale[i].dates[t.getAttributeValue(R,"form")]=R}},Tt.getLocaleNames=function(t,e){var o=Tt.setupXml(t);function i(t,e){var i=["base","best"];if(e)for(var r=Tt.localeResolve(e),s=0,n=i.length;s<n;s++)r[i[s]]&&-1===t.indexOf(r[i[s]])&&t.push(r[i[s]])}var l=["en-US"];function r(t){for(var e=o.getNodesByName(o.dataObj,t),i=0,r=e.length;i<r;i++){var s=o.getAttributeValue(e[i],"locale");if(s)for(var n=0,a=(s=s.split(/ +/)).length;n<a;n++)this.extendLocaleList(l,s[n])}}i(l,e);var s=o.getNodesByName(o.dataObj,"style")[0],n=o.getAttributeValue(s,"default-locale");i(l,n);for(var a=0,u=["layout","if","else-if","condition"].length;a<u;a++)r(o);return l},Tt.Node={},Tt.Node.bibliography={build:function(t,e){if(this.tokentype===Tt.START){t.build.area="bibliography",t.build.root="bibliography",t.build.extension="";var i=function i(t){t.tmp.area="bibliography",t.tmp.root="bibliography",t.tmp.extension=""};this.execs.push(i)}e.push(this)}},Tt.Node.choose={build:function(t,e){var i;this.tokentype===Tt.START&&(i=function i(t){t.tmp.jump.push(undefined,Tt.LITERAL)}),this.tokentype===Tt.END&&(i=function i(t){t.tmp.jump.pop()}),this.execs.push(i),e.push(this)},configure:function(t,e){this.tokentype===Tt.END?(t.configure.fail.push(e),t.configure.succeed.push(e)):(t.configure.fail.pop(),t.configure.succeed.pop())}},Tt.Node.citation={build:function(t,e){if(this.tokentype===Tt.START){t.build.area="citation",t.build.root="citation",t.build.extension="";var i=function i(t){t.tmp.area="citation",t.tmp.root="citation",t.tmp.extension=""};this.execs.push(i)}if(this.tokentype===Tt.END){if(t.opt.grouped_sort="in-text"===t.opt.xclass&&t.citation.opt.collapse&&t.citation.opt.collapse.length||t.citation.opt.cite_group_delimiter&&t.citation.opt.cite_group_delimiter.length&&t.opt.update_mode!==Tt.POSITION&&t.opt.update_mode!==Tt.NUMERIC,t.opt.grouped_sort&&t.citation_sort.opt.sort_directions.length){var r=t.citation_sort.opt.sort_directions[0].slice();t.citation_sort.opt.sort_directions=[r].concat(t.citation_sort.opt.sort_directions)}t.citation.srt=new Tt.Registry.Comparifier(t,"citation_sort")}e.push(this)}},Tt.Node["#comment"]={build:function(){}},Tt.Node.date={build:function(t,e){var s,n,a,o,l,u,p,c,h,f;this.tokentype!==Tt.START&&this.tokentype!==Tt.SINGLETON||(t.dateput.string(t,t.dateput.queue),t.tmp.date_token=Tt.Util.cloneToken(this),t.tmp.date_token.strings.prefix="",t.tmp.date_token.strings.suffix="",t.dateput.openLevel(this),t.build.date_parts=[],t.build.date_variables=this.variables,t.build.extension||Tt.Util.substituteStart.call(this,t,e),s=t.build.extension?Tt.dateMacroAsSortKey:function s(t,e,i){var r;if(t.tmp.element_rendered_ok=!1,t.tmp.donesies=[],t.tmp.dateparts=[],r=[],!this.variables.length||t.tmp.just_looking&&"accessed"===this.variables[0])t.tmp.date_object=!1;else{for(void 0===(n=e[this.variables[0]])&&(n={"date-parts":[[0]]},t.opt.development_extensions.locator_date_and_revision&&i&&"locator-date"===this.variables[0]&&i["locator-date"]&&(n=i["locator-date"])),t.tmp.date_object=n,a=this.dateparts.length,o=0;o<a;o+=1)l=this.dateparts[o],"undefined"!=typeof t.tmp.date_object[l+"_end"]?r.push(l):"month"===l&&"undefined"!=typeof t.tmp.date_object.season_end&&r.push(l);for(u=[],a=(p=["year","month","day"]).length,o=0;o<a;o+=1)-1<r.indexOf(p[o])&&u.push(p[o]);for(r=u.slice(),c=2,a=r.length,o=0;o<a;o+=1)if(l=r[o],h=t.tmp.date_object[l],f=t.tmp.date_object[l+"_end"],h!==f){c=o;break}t.tmp.date_collapse_at=r.slice(c)}},this.execs.push(s),s=function s(t,e){if(e[this.variables[0]]&&(t.parallel.StartVariable(this.variables[0]),t.output.startTag("date",this),"issued"===this.variables[0]&&"legal_case"===e.type&&!t.tmp.extension&&""+e["collection-number"]==""+t.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var i in t.tmp.date_object)if(t.tmp.date_object.hasOwnProperty(i)&&"year"===i.slice(0,4)){t.tmp.issued_date={};var r=t.output.current.mystack.slice(-2)[0].blobs;t.tmp.issued_date.list=r,t.tmp.issued_date.pos=r.length-1}},this.execs.push(s)),t.build.extension||this.tokentype!==Tt.END&&this.tokentype!==Tt.SINGLETON||(s=function s(t,e){e[this.variables[0]]&&(t.output.endTag(),t.parallel.CloseVariable(this.variables[0]))},this.execs.push(s)),e.push(this),this.tokentype!==Tt.END&&this.tokentype!==Tt.SINGLETON||t.build.extension||Tt.Util.substituteEnd.call(this,t,e)}},Tt.Node["date-part"]={build:function(n,t){var a,o,l,u,p,c,h,f,m,d,g,b,y,v,_,x,w,A,E;this.strings.form||(this.strings.form="long"),n.build.date_parts.push(this.strings.name);var O=n.build.date_variables[0];function T(t,e,i){if(!i)return i;if(i=""+Tt.Util.Dates[this.strings.name][t](n,i,e,this.default_locale),"month"===this.strings.name)if(n.tmp.strip_periods)i=i.replace(/\./g,"");else for(var r=0,s=this.decorations.length;r<s;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){i=i.replace(/\./g,"");break}return i}a=function a(t,e){if(t.tmp.date_object){if(t.tmp.probably_rendered_something=!0,u=!0,c=p="",t.tmp.donesies.push(this.strings.name),t.tmp.date_object.literal&&"year"===this.strings.name&&(t.parallel.AppendToVariable(t.tmp.date_object.literal),t.output.append(t.tmp.date_object.literal,this)),t.tmp.date_object&&(p=t.tmp.date_object[this.strings.name],c=t.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==p||t.tmp.suppress_decorations||(p=!1),h=!t.tmp.suppress_decorations,f=t.tmp.have_collapsed,m="year-suffix"===t[t.tmp.area].opt.collapse||"year-suffix-ranged"===t[t.tmp.area].opt.collapse,d=t.opt["disambiguate-add-year-suffix"],h&&d&&m&&(t.tmp.years_used.push(p),t.tmp.last_years_used.length>=t.tmp.years_used.length&&f&&t.tmp.last_years_used[t.tmp.years_used.length-1]===p&&(p=!1)),void 0!==p){b=g=!1,"year"===this.strings.name&&(parseInt(p,10)<500&&0<parseInt(p,10)&&(b=t.getTerm("ad")),parseInt(p,10)<0&&(g=t.getTerm("bc"),p=-1*parseInt(p,10)),c&&(parseInt(c,10)<500&&0<parseInt(c,10)&&t.getTerm("ad"),parseInt(c,10)<0&&(t.getTerm("bc"),c=-1*parseInt(c,10)))),t.parallel.AppendToVariable(p);for(var i=""+t.tmp.date_object.month;i.length<2;)i="0"+i;i="month-"+i;var r=t.locale[t.opt.lang]["noun-genders"][i];if(this.strings.form){var s=this.strings.form;"day"===this.strings.name&&"ordinal"===s&&t.locale[t.opt.lang].opts["limit-day-ordinals-to-day-1"]&&""+p!="1"&&(s="numeric"),p=T.call(this,s,r,p),c=T.call(this,s,r,c)}if(t.output.openLevel("empty"),t.tmp.date_collapse_at.length){for(y=!0,l=t.tmp.date_collapse_at.length,o=0;o<l;o+=1)if(E=t.tmp.date_collapse_at[o],-1===t.tmp.donesies.indexOf(E)){y=!1;break}if(y){if(""+c!="0"){if(0===t.dateput.queue.length&&(u=!0),t.opt["year-range-format"]&&"expanded"!==t.opt["year-range-format"]&&!t.tmp.date_object.day&&!t.tmp.date_object.month&&!t.tmp.date_object.season&&"year"===this.strings.name&&p&&c){c=t.fun.year_mangler(p+"-"+c,!0);var n=t.getTerm("year-range-delimiter");c=c.slice(c.indexOf(n)+1)}t.dateput.append(c,this),u&&(t.dateput.current.value().blobs[0].strings.prefix="")}t.output.append(p,this),(v=t.output.current.value()).blobs[v.blobs.length-1].strings.suffix="",this.strings["range-delimiter"]?t.output.append(this.strings["range-delimiter"]):t.output.append(t.getTerm("year-range-delimiter"),"empty"),t.dateput.closeLevel(),_=t.dateput.current.value(),v.blobs=v.blobs.concat(_),t.dateput.string(t,t.dateput.queue),t.dateput.openLevel(t.tmp.date_token),t.tmp.date_collapse_at=[]}else t.output.append(p,this),-1<t.tmp.date_collapse_at.indexOf(this.strings.name)&&""+c!="0"&&(0===t.dateput.queue.length&&(u=!0),t.dateput.openLevel("empty"),t.dateput.append(c,this),u&&(t.dateput.current.value().blobs[0].strings.prefix=""),g&&t.dateput.append(g),b&&t.dateput.append(b),t.dateput.closeLevel())}else t.output.append(p,this);g&&t.output.append(g),b&&t.output.append(b),t.output.closeLevel()}else"month"===this.strings.name&&t.tmp.date_object.season&&((p=""+t.tmp.date_object.season)&&p.match(/^[1-4]$/)?(t.tmp.group_context.tip.variable_success=!0,t.output.append(t.getTerm("season-0"+p),this)):p&&t.output.append(p,this));t.tmp.value=[],!e[O]||!p&&!t.tmp.have_collapsed||t.opt.has_year_suffix||"year"!==this.strings.name||t.tmp.just_looking||t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.has_done_year_suffix&&(t.tmp.has_done_year_suffix=!0,w=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),x=new Tt.NumericBlob(!1,w,this,e.id),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,A=new Tt.Util.Suffixator(Tt.SUFFIX_CHARS),x.setFormatter(A),"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(x.range_prefix=t.getTerm("citation-range-delimiter")),t[t.tmp.area].opt.cite_group_delimiter?x.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter:t[t.tmp.area].opt["year-suffix-delimiter"]?x.successor_prefix=t[t.tmp.area].opt["year-suffix-delimiter"]:x.successor_prefix=t[t.tmp.area].opt.layout_delimiter,x.UGLY_DELIMITER_SUPPRESS_HACK=!0,t.output.append(x,"literal"))}},this.execs.push(a),t.push(this)}},Tt.Node["else-if"]={build:function(t,e){Tt.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){Tt.Conditions.Configure.call(this,t,e)}},Tt.Node["else"]={build:function(t,e){e.push(this)},configure:function(t,e){this.tokentype===Tt.START&&(t.configure.fail[t.configure.fail.length-1]=e)}},Tt.Node["et-al"]={build:function(t,e){if("citation"===t.build.area||"bibliography"===t.build.area){var i=function i(t){"string"==typeof(t.tmp.etal_node=this).strings.term&&(t.tmp.etal_term=this.strings.term)};this.execs.push(i)}e.push(this)}},Tt.Node.group={build:function(h,t,e){var u,i,f;if(this.realGroup=e,this.tokentype===Tt.START&&(Tt.Util.substituteStart.call(this,h,t),h.build.substitute_level.value()&&h.build.substitute_level.replace(h.build.substitute_level.value()+1),this.juris||t.push(this),(i=[]).push(u=function u(t){if(t.output.startTag("group",this),this.strings.label_form_override&&(t.tmp.group_context.tip.label_form||(t.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(t.tmp.group_context.tip.label_capitalize_if_first||(t.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){var e=!1,i=!1;t.tmp.group_context.mystack.length&&(t.output.current.value().parent=t.tmp.group_context.tip.output_tip);var r=t.tmp.group_context.tip.label_form;r=r||this.strings.label_form_override;var s=t.tmp.group_context.tip.label_capitalize_if_first;s=s||this.strings.label_capitalize_if_first,t.tmp.group_context.tip.condition?(e=t.tmp.group_context.tip.condition,i=t.tmp.group_context.tip.force_suppress):this.strings.reject?(e={test:this.strings.reject,not:!0},i=!0,[]):this.strings.require&&(e={test:this.strings.require,not:!1},[]),t.tmp.group_context.push({old_term_predecessor:t.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:t.tmp.group_context.tip.variable_success,output_tip:t.output.current.tip,label_form:r,label_capitalize_if_first:s,parallel_conditions:this.strings.set_parallel_condition,condition:e,force_suppress:i,done_vars:t.tmp.group_context.tip.done_vars.slice()})}}),this.execs=i.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(h.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(u=function u(t,e){if(e.publisher&&e["publisher-place"]){var i=e.publisher.split(/;\s*/),r=e["publisher-place"].split(/;\s*/);1<i.length&&i.length===r.length&&(t.publisherOutput=new Tt.PublisherOutput(t,this),t.publisherOutput["publisher-list"]=i,t.publisherOutput["publisher-place-list"]=r)}},this.execs.push(u))),this.juris)){var r=new Tt.Token("choose",Tt.START);Tt.Node.choose.build.call(r,h,t);var s=new Tt.Token("if",Tt.START);f=this.juris,u=function(t){if(!h.sys.retrieveStyleModule||!Tt.MODULE_MACROS[f]||!t.jurisdiction)return!1;var e=h.getJurisdictionList(t.jurisdiction);if(!h.opt.jurisdictions_seen[e[0]]){var i=h.retrieveAllStyleModules(e);for(var r in i){h.juris[r]={};for(var s=Tt.setupXml(i[r]),n=0,a=(p=s.getNodesByName(s.dataObj,"law-module")).length;n<a;n++){var o=s.getAttributeValue(p[n],"types");if(o){h.juris[r].types={};for(var l=0,u=(o=o.split(/\s+/)).length;l<u;l++)h.juris[r].types[o[l]]=!0}}var p;for(h.juris[r].types||(h.juris[r].types=Tt.MODULE_TYPES),n=0,a=(p=s.getNodesByName(s.dataObj,"macro")).length;n<a;n++){var c=s.getAttributeValue(p[n],"name");Tt.MODULE_MACROS[c]?(h.juris[r][c]=[],h.buildTokenLists(p[n],h.juris[r][c]),h.configureTokenList(h.juris[r][c])):Tt.debug('CSL: skipping non-modular macro name "'+c+'" in module context')}}}for(n=0,a=e.length;n<a;n++)if(r=e[n],h.juris[r]&&h.juris[r].types[t.type])return t["best-jurisdiction"]=r,!0;return!1},s.tests||(s.tests=[]),s.tests.push(u),s.test=h.fun.match.any(s,h,s.tests),t.push(s);var n=new Tt.Token("text",Tt.SINGLETON);u=function u(t,e,i){var r=0;if(t.juris[e["best-jurisdiction"]][this.juris])for(;r<t.juris[e["best-jurisdiction"]][this.juris].length;)r=Tt.tokenExec.call(t,t.juris[e["best-jurisdiction"]][this.juris][r],e,i)},n.juris=this.juris,n.execs.push(u),t.push(n);var a=new Tt.Token("if",Tt.END);Tt.Node["if"].build.call(a,h,t);var o=new Tt.Token("else",Tt.START);Tt.Node["else"].build.call(o,h,t)}if(this.tokentype===Tt.END&&(h.build["publisher-special"]&&(h.build["publisher-special"]=!1,u=function u(t){t.publisherOutput&&(t.publisherOutput.render(),t.publisherOutput=!1)},this.execs.push(u)),u=function u(t,e){if(t.output.endTag(),this.realGroup){var i=t.tmp.group_context.pop();if("bibliography_sort"===t.tmp.area){var r=i.done_vars.indexOf("citation-number");this.strings.sort_direction&&-1<r&&1==t.tmp.group_context.length()&&(this.strings.sort_direction===Tt.DESCENDING?t.bibliography_sort.opt.citation_number_sort_direction=Tt.DESCENDING:t.bibliography_sort.opt.citation_number_sort_direction=Tt.ASCENDING,i.done_vars=i.done_vars.slice(0,r).concat(i.done_vars.slice(r+1)))}if(t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.force_suppress=i.force_suppress),!i.force_suppress&&(i.variable_success||i.term_intended&&!i.variable_attempt)){this.isJurisLocatorLabel||(t.tmp.group_context.tip.variable_success=!0);var s=t.output.current.value().blobs,n=t.output.current.value().blobs.length-1;if(!t.tmp.just_looking&&"undefined"!=typeof i.parallel_conditions){var a={blobs:s,conditions:i.parallel_conditions,id:e.id,pos:n};t.parallel.parallel_conditional_blobs_list.push(a)}}else{if(t.tmp.term_predecessor=i.old_term_predecessor,t.tmp.group_context.tip.variable_attempt=i.variable_attempt,i.force_suppress&&!t.tmp.group_context.tip.condition){t.tmp.group_context.tip.variable_attempt=!0,t.tmp.group_context.tip.variable_success=i.variable_success_parent;for(var o=0,l=i.done_vars.length;o<l;o++)-1<t.tmp.done_vars.indexOf(i.done_vars[o])&&(t.tmp.done_vars=t.tmp.done_vars.slice(0,o).concat(t.tmp.done_vars.slice(o+1)))}t.output.current.value().blobs&&t.output.current.value().blobs.pop()}}},this.execs.push(u),this.juris)){var l=new Tt.Token("else",Tt.END);Tt.Node["else"].build.call(l,h,t);var p=new Tt.Token("choose",Tt.END);Tt.Node.choose.build.call(p,h,t)}this.tokentype===Tt.END&&(this.juris||t.push(this),h.build.substitute_level.value()&&h.build.substitute_level.replace(h.build.substitute_level.value()-1),Tt.Util.substituteEnd.call(this,h,t))}},Tt.Node["if"]={build:function(t,e){Tt.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){Tt.Conditions.Configure.call(this,t,e)}},Tt.Node.conditions={build:function(t){this.tokentype===Tt.START&&t.tmp.conditions.addMatch(this.match),this.tokentype===Tt.END&&t.tmp.conditions.matchCombine()}},Tt.Node.condition={build:function(t){if(this.tokentype===Tt.SINGLETON){var e=t.fun.match[this.match](this,t,this.tests);t.tmp.conditions.addTest(e)}}},Tt.Conditions={},Tt.Conditions.TopNode=function(t){var e;this.tokentype!==Tt.START&&this.tokentype!==Tt.SINGLETON||(this.locale&&(t.opt.lang=this.locale),this.tests&&this.tests.length?this.test=t.fun.match[this.match](this,t,this.tests):t.tmp.conditions=new Tt.Conditions.Engine(t,this),e=function e(t){t.tmp.condition_counter++},this.execs.push(e)),this.tokentype!==Tt.END&&this.tokentype!==Tt.SINGLETON||(e=function e(t){t.tmp.condition_counter--,0<t.tmp.condition_lang_counter_arr.length&&(t.tmp.condition_lang_counter_arr.slice(-1)[0]===t.tmp.condition_counter&&(t.opt.lang=t.tmp.condition_lang_val_arr.pop(),t.tmp.condition_lang_counter_arr.pop()));return this.locale_default&&(t.output.current.value().old_locale=this.locale_default,t.output.closeLevel("empty"),t.opt.lang=this.locale_default),this[t.tmp.jump.value()]},this.execs.push(e),this.locale_default&&(t.opt.lang=this.locale_default))},Tt.Conditions.Configure=function(t,e){this.tokentype===Tt.START?(this.fail=t.configure.fail.slice(-1)[0],this.succeed=this.next,t.configure.fail[t.configure.fail.length-1]=e):this.tokentype===Tt.SINGLETON?(this.fail=this.next,this.succeed=t.configure.succeed.slice(-1)[0],t.configure.fail[t.configure.fail.length-1]=e):(this.succeed=t.configure.succeed.slice(-1)[0],this.fail=this.next)},Tt.Conditions.Engine=function(t,e){this.token=e,this.state=t},Tt.Conditions.Engine.prototype.addTest=function(t){this.token.tests||(this.token.tests=[]),this.token.tests.push(t)},Tt.Conditions.Engine.prototype.addMatch=function(t){this.token.match=t},Tt.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},Tt.Node.info={build:function(t){this.tokentype===Tt.START?t.build.skip="info":t.build.skip=!1}},Tt.Node.institution={build:function(t,e){if(-1<[Tt.SINGLETON,Tt.START].indexOf(this.tokentype)){var i=function i(t){"string"==typeof this.strings.delimiter?t.tmp.institution_delimiter=this.strings.delimiter:t.tmp.institution_delimiter=t.tmp.name_delimiter,"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")?t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&":"none"===t.inheritOpt(this,"and")&&(this.and_term=t.tmp.institution_delimiter),"undefined"==typeof this.and_term&&t.tmp.and_term&&(this.and_term=t.getTerm("and","long",0)),Tt.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.institution_delimiter&&(this.and_prefix_multiple=t.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.institution_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},"undefined"!=typeof this.and_term?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new Tt.Blob(t.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new Tt.Blob(t.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),t.nameOutput.institution=this};this.execs.push(i)}e.push(this)},configure:function(t){-1<[Tt.SINGLETON,Tt.START].indexOf(this.tokentype)&&(t.build.has_institution=!0)}},Tt.Node["institution-part"]={build:function(t,e){var i;"long"===this.strings.name?i=this.strings["if-short"]?function i(t){t.nameOutput.institutionpart["long-with-short"]=this}:function i(t){t.nameOutput.institutionpart["long"]=this}:"short"===this.strings.name&&(i=function i(t){t.nameOutput.institutionpart["short"]=this}),this.execs.push(i),e.push(this)}},Tt.Node.key={build:function(t,e){var s;e=t[t.build.root+"_sort"].tokens;var i=new Tt.Token("key",Tt.START);t.tmp.root=t.build.root,i.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),s=function s(t){t.tmp.done_vars=[]},i.execs.push(s),s=function s(t){t.output.openLevel("empty")},i.execs.push(s);var r=[];if(this.strings.sort_direction===Tt.DESCENDING?(r.push(1),r.push(-1)):(r.push(-1),r.push(1)),t[t.build.area].opt.sort_directions.push(r),-1<Tt.DATE_VARIABLES.indexOf(this.variables[0])&&(t.build.date_key=!0),s=function s(t){t.tmp.sort_key_flag=!0,t.inheritOpt(this,"et-al-min")&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),t.inheritOpt(this,"et-al-use-first")&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"boolean"==typeof t.inheritOpt(this,"et-al-use-last")&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"))},i.execs.push(s),e.push(i),this.variables.length){var n=this.variables[0];if(-1<Tt.NAME_VARIABLES.indexOf(n)){var a=new Tt.Token("names",Tt.START);a.tokentype=Tt.START,a.variables=this.variables,Tt.Node.names.build.call(a,t,e);var o=new Tt.Token("name",Tt.SINGLETON);o.tokentype=Tt.SINGLETON,o.strings["name-as-sort-order"]="all",o.strings["sort-separator"]=" ",o.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),o.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),o.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),Tt.Node.name.build.call(o,t,e);var l=new Tt.Token("institution",Tt.SINGLETON);l.tokentype=Tt.SINGLETON,Tt.Node.institution.build.call(l,t,e);var u=new Tt.Token("names",Tt.END);u.tokentype=Tt.END,Tt.Node.names.build.call(u,t,e)}else{var p=new Tt.Token("text",Tt.SINGLETON);if(p.strings.sort_direction=this.strings.sort_direction,p.dateparts=this.dateparts,-1<Tt.NUMERIC_VARIABLES.indexOf(n))s="citation-number"===n?function s(t,e){if("bibliography_sort"===t.tmp.area&&(this.strings.sort_direction===Tt.DESCENDING?t.bibliography_sort.opt.citation_number_sort_direction=Tt.DESCENDING:t.bibliography_sort.opt.citation_number_sort_direction=Tt.ASCENDING),"citation_sort"===t.tmp.area&&t.bibliography_sort.tmp.citation_number_map)var i=t.bibliography_sort.tmp.citation_number_map[t.registry.registry[e.id].seq];else i=t.registry.registry[e.id].seq;i=i&&Tt.Util.padding(""+i),t.output.append(i,this)}:function s(t,e){var i=!1;i=(i=e[n])&&Tt.Util.padding(i),t.output.append(i,this)};else if("citation-label"===n)s=function s(t,e){var i=t.getCitationLabel(e);t.output.append(i,this)};else if(-1<Tt.DATE_VARIABLES.indexOf(n))s=Tt.dateAsSortKey,p.variables=this.variables;else if("title"===n){s=t.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else s=function s(t,e){var i=e[n];t.output.append(i,"empty")};p.execs.push(s),e.push(p)}}else{var c=new Tt.Token("text",Tt.SINGLETON);c.strings.sort_direction=this.strings.sort_direction,c.postponed_macro=this.postponed_macro,Tt.expandMacro.call(t,c,e)}var h=new Tt.Token("key",Tt.END);s=function s(t){var e=t.output.string(t,t.output.queue);t.sys.normalizeUnicode&&(e=t.sys.normalizeUnicode(e)),""===(e=e?e.split(" ").join(t.opt.sort_sep)+t.opt.sort_sep:"")&&(e=undefined),"string"==typeof e&&!t.tmp.empty_date||(e=undefined,t.tmp.empty_date=!1),t[t[t.tmp.area].root+"_sort"].keys.push(e),t.tmp.value=[]},h.execs.push(s),t.build.date_key&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t[t.build.area].opt.sort_directions.push([-1,1]),s=function s(t,e){var i=t.registry.registry[e.id].disambig.year_suffix;i=i||0;var r=Tt.Util.padding(""+i);t[t.tmp.area].keys.push(r)},h.execs.push(s)),t.build.date_key=!1),s=function s(t){t.tmp["et-al-min"]=undefined,t.tmp["et-al-use-first"]=undefined,t.tmp["et-al-use-last"]=undefined,t.tmp.sort_key_flag=!1},h.execs.push(s),e.push(h)}},Tt.Node.label={build:function(t,e){if(this.strings.term){var s=function s(t,e,i){var r=Tt.evaluateLabel(this,t,e,i);i&&"locator"===this.strings.term&&(t.parallel.StartVariable("label"),t.parallel.AppendToVariable(i.label),i.section_form_override=this.strings.form),r&&(t.tmp.group_context.tip.term_intended=!0),Tt.UPDATE_GROUP_CONTEXT_CONDITION(t,r),-1===r.indexOf("%s")&&(this.strings.capitalize_if_first&&(t.tmp.term_predecessor||"in-text"===t.opt["class"]&&"citation"===t.tmp.area||(r=Tt.Output.Formatters["capitalize-first"](t,r))),t.output.append(r,this)),i&&"locator"===this.strings.term&&t.parallel.CloseVariable()};this.execs.push(s)}else{this.strings.form||(this.strings.form="long");for(var i=t.build.names_variables[t.build.names_variables.length-1],r=t.build.name_label[t.build.name_label.length-1],n=0,a=i.length;n<a;n+=1)r[i[n]]||(r[i[n]]={});if(t.build.name_flag)for(n=0,a=i.length;n<a;n+=1)r[i[n]].after=this;else for(var n=0,a=i.length;n<a;n+=1)r[i[n]].before=this}e.push(this)}},Tt.Node.layout={build:function(t,e){var n,i,r,s,a;function o(){"bibliography"===t.build.area&&(r=new Tt.Token("text",Tt.SINGLETON),n=function(t){var e;e=t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale]?t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale].suffix:t.bibliography.opt.layout_suffix;var i=t.output.current.value();t.opt.using_display?i.blobs[i.blobs.length-1].strings.suffix=e:i.strings.suffix=e,t.bibliography.opt["second-field-align"]&&t.output.endTag("bib_other")},r.execs.push(n),e.push(r))}if(this.tokentype===Tt.START&&(this.locale_raw?t.build.current_default_locale=this.locale_raw:t.build.current_default_locale=t.opt["default-locale"],n=function n(t,e,i){if(t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area){var r=new Tt.Token("group",Tt.START);r.decorations=[["@cite","entry"]],t.output.startTag("cite_entry",r),t.output.current.value().item_id=e.system_id,i&&(t.output.current.value().locator_txt=i.locator_txt,t.output.current.value().suffix_txt=i.suffix_txt)}},this.execs.push(n)),this.tokentype!==Tt.START||t.tmp.cite_affixes[t.build.area]||(n=function n(t,e){t.tmp.done_vars=[],t.opt.suppressedJurisdictions[e.country]&&e.country&&-1===["treaty","patent"].indexOf(e.type)&&t.tmp.done_vars.push("country"),!t.tmp.just_looking&&t.registry.registry[e.id]&&t.registry.registry[e.id].parallel&&t.tmp.done_vars.push("first-reference-note-number"),t.tmp.rendered_name=!1},this.execs.push(n),n=function n(t){t.tmp.sort_key_flag=!1},this.execs.push(n),n=function n(t){t.tmp.nameset_counter=0},this.execs.push(n),n=function n(t,e){var i=new Tt.Token;t.output.openLevel(i)},this.execs.push(n),e.push(this),"citation"===t.build.area&&(i=new Tt.Token("text",Tt.SINGLETON),n=function n(t,e,i){if(i&&i.prefix){var r=Tt.checkPrefixSpaceAppend(t,i.prefix);t.tmp.just_looking||(r=t.output.checkNestedBrace.update(r));var s=Tt.checkIgnorePredecessor(t,r);t.output.append(r,this,!1,s)}},i.execs.push(n),e.push(i))),this.locale_raw&&((a=new Tt.Token("dummy",Tt.START)).locale=this.locale_raw,a.strings.delimiter=this.strings.delimiter,a.strings.suffix=this.strings.suffix,t.tmp.cite_affixes[t.build.area]||(t.tmp.cite_affixes[t.build.area]={})),this.tokentype===Tt.START&&(t.build.layout_flag=!0,this.locale_raw||(t[t.tmp.area].opt.topdecor=[this.decorations],t[t.tmp.area+"_sort"].opt.topdecor=[this.decorations],t[t.build.area].opt.layout_prefix=this.strings.prefix,t[t.build.area].opt.layout_suffix=this.strings.suffix,t[t.build.area].opt.layout_delimiter=this.strings.delimiter,t[t.build.area].opt.layout_decorations=this.decorations,t.tmp.cite_affixes[t.build.area]&&(s=new Tt.Token("else",Tt.START),Tt.Node["else"].build.call(s,t,e))),this.locale_raw)){if(t.build.layout_locale_flag)a.name="else-if",Tt.Attributes["@locale-internal"].call(a,t,this.locale_raw),Tt.Node["else-if"].build.call(a,t,e);else{var l=new Tt.Token("choose",Tt.START);Tt.Node.choose.build.call(l,t,e),a.name="if",Tt.Attributes["@locale-internal"].call(a,t,this.locale_raw),Tt.Node["if"].build.call(a,t,e)}t.tmp.cite_affixes[t.build.area][a.locale]={},t.tmp.cite_affixes[t.build.area][a.locale].delimiter=this.strings.delimiter,t.tmp.cite_affixes[t.build.area][a.locale].suffix=this.strings.suffix}this.tokentype===Tt.END&&(this.locale_raw&&(o(),t.build.layout_locale_flag?(a.name="else-if",a.tokentype=Tt.END,Tt.Attributes["@locale-internal"].call(a,t,this.locale_raw),Tt.Node["else-if"].build.call(a,t,e)):(a.name="if",a.tokentype=Tt.END,Tt.Attributes["@locale-internal"].call(a,t,this.locale_raw),Tt.Node["if"].build.call(a,t,e),t.build.layout_locale_flag=!0)),this.locale_raw||(o(),t.tmp.cite_affixes[t.build.area]&&t.build.layout_locale_flag&&(s=new Tt.Token("else",Tt.END),Tt.Node["else"].build.call(s,t,e),s=new Tt.Token("choose",Tt.END),Tt.Node.choose.build.call(s,t,e)),t.build_layout_locale_flag=!0,"citation"===t.build.area&&(r=new Tt.Token("text",Tt.SINGLETON),n=function n(t,e,i){if(i&&i.suffix){var r=Tt.checkSuffixSpacePrepend(t,i.suffix);t.tmp.just_looking||(r=t.output.checkNestedBrace.update(r)),t.output.append(r,this)}},r.execs.push(n),e.push(r)),n=function n(t){t.output.closeLevel()},this.execs.push(n),n=function n(t,e){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&t.output.endTag()},this.execs.push(n),e.push(this),t.build.layout_flag=!1,t.build.layout_locale_flag=!1))}},Tt.Node.macro={build:function(){}},Tt.Node.alternative={build:function(t,e){if(this.tokentype===Tt.START){var i=new Tt.Token("choose",Tt.START);Tt.Node.choose.build.call(i,t,e);var r=new Tt.Token("if",Tt.START);Tt.Attributes["@alternative-node-internal"].call(r,t),Tt.Node["if"].build.call(r,t,e);var h=function h(t,e){if(t.tmp.oldItem=e,t.tmp.oldLang=t.opt.lang,t.tmp.abort_alternative=!0,e["language-name"]&&e["language-name-original"]){var i=JSON.parse(JSON.stringify(e));i.language=i["language-name"];var r=Tt.localeResolve(i.language,t.opt["default-locale"][0]);if(t.opt.multi_layout)for(var s in t.opt.multi_layout){var n=t.opt.multi_layout[s],a=!1;for(var o in n){var l=n[o];if(r.best===l.best||r.base===l.base||r.bare===l.bare){a=n[0].best;break}}a=a||t.opt["default-locale"][0],t.opt.lang=a}for(var u in i)if(-1===["id","type","language","multi"].indexOf(u)&&"alt-"!==u.slice(0,4))if(i.multi&&i.multi._keys[u]){var p=!0;for(var c in i.multi._keys[u])if(r.bare===c.replace(/^([a-zA-Z]+).*/,"$1")){p=!1;break}p&&delete i[u]}else delete i[u];for(var u in i)"alt-"===u.slice(0,4)?(i[u.slice(4)]=i[u],t.tmp.abort_alternative=!1):i.multi&&i.multi._keys&&!i["alt-"+u]&&i.multi._keys[u]&&(i.multi._keys[u][r.best]?(i[u]=i.multi._keys[u][r.best],t.tmp.abort_alternative=!1):i.multi._keys[u][r.base]?(i[u]=i.multi._keys[u][r.base],t.tmp.abort_alternative=!1):i.multi._keys[u][r.bare]&&(i[u]=i.multi._keys[u][r.bare],t.tmp.abort_alternative=!1))}t.output.openLevel(this),t.registry.refhash[e.id]=i,t.nameOutput=new Tt.NameOutput(t,i)};this.execs.push(h),e.push(this);i=new Tt.Token("choose",Tt.START);Tt.Node.choose.build.call(i,t,e);r=new Tt.Token("if",Tt.START);Tt.Attributes["@alternative-node-internal"].call(r,t);h=function h(t){t.tmp.abort_alternative=!0};r.execs.push(h),Tt.Node["if"].build.call(r,t,e)}else if(this.tokentype===Tt.END){r=new Tt.Token("if",Tt.END);Tt.Node["if"].build.call(r,t,e);i=new Tt.Token("choose",Tt.END);Tt.Node.choose.build.call(i,t,e);h=function h(t,e){t.output.closeLevel(),t.registry.refhash[e.id]=t.tmp.oldItem,t.opt.lang=t.tmp.oldLang,t.nameOutput=new Tt.NameOutput(t,t.tmp.oldItem),t.tmp.abort_alternative=!1};this.execs.push(h),e.push(this);r=new Tt.Token("if",Tt.END);Tt.Node["if"].build.call(r,t,e);i=new Tt.Token("choose",Tt.END);Tt.Node.choose.build.call(i,t,e)}}},Tt.Node["alternative-text"]={build:function(t,e){if(this.tokentype===Tt.SINGLETON){var i=function i(t,e){e=t.refetchItem(e.id);Tt.getCite.call(t,e)};this.execs.push(i)}e.push(this)}},Tt.NameOutput=function(t,e,i){this.debug=!1,this.state=t,this.Item=e,this.item=i,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},Tt.NameOutput.prototype.init=function(t){this.requireMatch=t.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=t,this.variables=t.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var e=0,i=this.variables.length;e<i;e+=1)this.Item[this.variables[e]]&&this.Item[this.variables[e]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[e]]));if((this["et-al"]=undefined,this["with"]=undefined,this.name=undefined,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length)&&this.checkCommonAuthor(this.requireMatch)){for(var e in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var r=this.state.tmp.done_vars.indexOf(this.variables[e]);-1<r&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,r).concat(this.state.tmp.done_vars.slice(e+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}},Tt.NameOutput.prototype.reinit=function(t,e){if(this.requireMatch=t.requireMatch,this.labelVariable=e,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=t.variables;var i=this.state.tmp.value.slice();this.state.tmp.value=[];for(var r=0,s=this.variables.length;r<s;r+=1)this.Item[this.variables[r]]&&this.Item[this.variables[r]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[r]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,Tt.LITERAL),this.state.tmp.value=i}if(this.checkCommonAuthor(this.requireMatch)){for(var r in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var n=this.state.tmp.done_vars.indexOf(this.variables[r]);-1<n&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,n).concat(this.state.tmp.done_vars.slice(r+1)))}this.variables=[]}},Tt.NameOutput.prototype.outputNames=function(){var t=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=Tt.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",f=0,m=this.family.execs.length;f<m;f+=1)this.family.execs[f].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=Tt.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",f=0,m=this.given.execs.length;f<m;f+=1)this.given.execs[f].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.getEtAlConfig(),this.divideAndTransliterateNames(),this.truncatePersonalNameLists(),this.disambigNames(),this.constrainNames(),"count"!==this.name.strings.form){this.setEtAlParameters(),this.setCommonTerm(this.requireMatch),this.state.tmp.name_node={},this.state.tmp.name_node.children=[],this.renderAllNames();var e=[];for(f=0,m=t.length;f<m;f+=1){var i=t[f],r=[],s=!1,n=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){for(var a=0,o=this.institutions[i].length;a<o;a+=1)r.push(this.joinPersonsAndInstitutions([this.persons[i][a],this.institutions[i][a]]));if(this.institutions[i].length){var l=this.nameset_base+this.variable_offset[i];this.freeters[i].length&&(l+=1),s=this.joinInstitutionSets(r,l)}n=this.joinFreetersAndInstitutionSets([this.freeters[i],s])}else n=this._join([this.freeters[i]],"");if(n&&(this.state.tmp.extension||(n=this._applyLabels(n,i)),e.push(n)),this.common_term)break}for(this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),f=0,m=e.length;f<m;f+=1)this.state.output.append(e[f],"literal",!0);!this.state.tmp.just_looking&&0<e.length&&(this.state.tmp.probably_rendered_something=!0),this.state.output.closeLevel("empty");var u=this.state.output.pop();this.state.tmp.name_node.top=u;var p=Tt.Util.cloneToken(this.names);if(this.state.output.append(u,p),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),"authority"!==t[0]){var c=[],h=this.Item[t[0]];if(h)for(var f=0,m=h.length;f<m;f+=1){var d=Tt.Util.Names.getRawName(h[f]);d&&c.push(d)}(c=c.join(", "))&&(this.state.tmp.name_node.string=c)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type&&this.state.tmp.first_name_string){var g=[];g.push(this.state.tmp.first_name_string),this.Item.title&&g.push(this.Item.title),(g=g.join(", "))&&this.state.sys.getAbbreviation&&(this.state.transform.loadAbbreviation("default","classic",g),this.state.transform.abbrevs["default"].classic[g]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs["default"].classic[g],"empty",!0),u=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(u)))}this._collapseAuthor(),this.variables=[]}else!this.state.tmp.extension&&0==this.names_count||(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},Tt.NameOutput.prototype._applyLabels=function(t,e){var i;if(!this.label||!this.label[this.labelVariable])return t;var r=0,s=this.freeters_count[e]+this.institutions_count[e];if(1<s)r=1;else{for(var n=0,a=this.persons[e].length;n<a;n+=1)s+=this.persons_count[e][n];1<s&&(r=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(r=this.label[this.labelVariable].before.strings.plural),i=this._buildLabel(e,r,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(i,this.label[this.labelVariable].before,!0),this.state.output.append(t,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(r=this.label[this.labelVariable].after.strings.plural),i=this._buildLabel(e,r,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(t,"literal",!0),this.state.output.append(i,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()),t},Tt.NameOutput.prototype._buildLabel=function(t,e,i,r){this.common_term&&(t=this.common_term);var s=!1,n=this.label[r][i];return n&&(s=Tt.castLabel(this.state,n,t,e,Tt.TOLERANT)),s},Tt.NameOutput.prototype._collapseAuthor=function(){var t,e,i;0!==this.state.tmp.name_node.top.blobs.length&&(0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),this.state.tmp.offset_characters=i,this.state.registry.authorstrings[this.Item.id]=e):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),e===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=e,-1<this.variables.indexOf(this._first_creator_variable)&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},Tt.NameOutput.prototype.isPerson=function(t){return!(t.literal||!t.given&&t.family&&t.isInstitution)},Tt.NameOutput.prototype.truncatePersonalNameLists=function(){var t,e,i,r;for(t in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(t)&&(this.freeters_count[t]=this.freeters[t].length,this.freeters[t]=this._truncateNameList(this.freeters,t));for(t in this.persons)if(this.persons.hasOwnProperty(t))for(this.institutions_count[t]=this.institutions[t].length,this._truncateNameList(this.institutions,t),this.persons[t]=this.persons[t].slice(0,this.institutions[t].length),this.persons_count[t]=[],s=0,n=this.persons[t].length;s<n;s+=1)this.persons_count[t][s]=this.persons[t][s].length,this.persons[t][s]=this._truncateNameList(this.persons,t,s);if((r=1===this.etal_min&&1===this.etal_use_first&&!this.state.tmp.extension&&!this.state.tmp.just_looking&&t)||this._please_chop)for(e=0,i=this.variables.length;e<i;e+=1){t=this.variables[e],this.freeters[t].length&&(this._please_chop===t?(this.freeters[t]=this.freeters[t].slice(1),this.freeters_count[t]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.freeters[t]=this.freeters[t].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=r));for(var s=0,n=this.persons[t].length;s<n;s++)if(this.persons[t][s].length){if(this._please_chop===t){this.persons[t][s]=this.persons[t][s].slice(1),this.persons_count[t][s]+=-1,this._please_chop=!1;break}if(r&&!this._please_chop){this.freeters[t]=this.persons[t][s].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],[],this._please_chop=r;break}}this.institutions[t].length&&(this._please_chop===t?(this.institutions[t]=this.institutions[t].slice(1),this.institutions_count[t]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.institutions[t]=this.institutions[t].slice(0,1),this.institutions_count[t]=1,[],this._please_chop=r))}for(e=0,i=this.variables.length;e<i;e+=1){this.institutions[t].length&&(this.nameset_offset+=1);for(s=0,n=this.persons[t].length;s<n;s++)this.persons[t][s].length&&(this.nameset_offset+=1)}},Tt.NameOutput.prototype._truncateNameList=function(t,e,i){var r;if(r=void 0===i?t[e]:t[e][i],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&50<r.length&&r.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var s=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;r=r.slice(0,s+1).concat(r.slice(-1))}return r},Tt.NameOutput.prototype.divideAndTransliterateNames=function(){var t,e,i,r,s=this.Item,n=this.variables;for(this.varnames=n.slice(),this.freeters={},this.persons={},this.institutions={},t=0,e=n.length;t<e;t+=1){var a=n[t];this.variable_offset[a]=this.nameset_offset;var o=this._normalizeVariableValue(s,a);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(a,o),this._getPersonsAndInstitutions(a,o),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[a]=[],i=0,r=this.persons[a].length;i<r;i+=1)this.persons[a][i]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[a]=[],this.freeters[a]=this.freeters[a].concat(this.persons[a]),i=0,r=this.persons[a].length;i<r;i+=1)for(var l=0,u=this.persons[a][i].length;l<u;l+=1)this.freeters[a].push(this.persons[a][i][l]);this.persons[a]=[]}}},Tt.NameOutput.prototype._normalizeVariableValue=function(t,e){return"string"==typeof t[e]||"number"==typeof t[e]?(Tt.debug('name variable "'+e+'" is string or number, not array. Attempting to fix.'),[{literal:t[e]+""}]):t[e]?("number"!=typeof t[e].length&&(Tt.debug('name variable "'+e+'" is object, not array. Attempting to fix.'),t[e]=[t[e]]),t[e].slice()):[]},Tt.NameOutput.prototype._getFreeters=function(t,e){if(this.freeters[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var i=e.length-1;-1<i&&this.isPerson(e[i]);i--){(r=this._checkNickname(e.pop()))&&this.freeters[t].push(r)}else for(i=e.length-1;-1<i;i--){var r=e.pop();if(this.isPerson(r))r=this._checkNickname(r);this.freeters[t].push(r)}this.freeters[t].reverse(),this.freeters[t].length&&(this.nameset_offset+=1)},Tt.NameOutput.prototype._getPersonsAndInstitutions=function(t,e){if(this.persons[t]=[],this.institutions[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var i=[],r=!1,s=!0,n=e.length-1;-1<n;n+=-1)if(this.isPerson(e[n])){var a=this._checkNickname(e[n]);a&&i.push(a)}else r=!0,this.institutions[t].push(e[n]),s||(i.reverse(),this.persons[t].push(i),i=[]),s=!1;r&&(i.reverse(),this.persons[t].push(i),this.persons[t].reverse(),this.institutions[t].reverse())}},Tt.NameOutput.prototype._clearValues=function(t){for(var e=t.length-1;-1<e;e+=-1)t.pop()},Tt.NameOutput.prototype._checkNickname=function(t){if(-1<["interview","personal_communication"].indexOf(this.Item.type)){var e;if((e=Tt.Util.Names.getRawName(t))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var i=e;this.state.sys.normalizeAbbrevsKey&&(i=this.state.sys.normalizeAbbrevsKey("author",e)),this.state.transform.loadAbbreviation("default","nickname",i);var r=this.state.transform.abbrevs["default"].nickname[i];r&&(t="!here>>>"!==r&&{family:r,given:""})}}return t},Tt.NameOutput.prototype.joinPersons=function(t,e,i,r){return r=r||"name",void 0===i?1===this.etal_spec[e].freeters?this._joinEtAl(t,r):2===this.etal_spec[e].freeters?this._joinEllipsis(t,r):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,r):1===this.etal_spec[e].persons[i]?this._joinEtAl(t,r):2===this.etal_spec[e].persons[i]?this._joinEllipsis(t,r):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,r)},Tt.NameOutput.prototype.joinInstitutionSets=function(t,e){return 1===this.etal_spec[e].institutions?this._joinEtAl(t,"institution"):2===this.etal_spec[e].institutions?this._joinEllipsis(t,"institution"):this._joinAnd(t,"institution")},Tt.NameOutput.prototype.joinPersonsAndInstitutions=function(t){return this._join(t,this.state.tmp.name_delimiter)},Tt.NameOutput.prototype.joinFreetersAndInstitutionSets=function(t){return this._join(t,"[never here]",this["with"].single,this["with"].multiple)},Tt.NameOutput.prototype._joinEtAl=function(t,e){var i=this._join(t,this.state.tmp.name_delimiter);return this.state.output.openLevel(this._getToken(e)),this.state.output.current.value().strings.delimiter="",this.state.output.append(i,"literal",!0),1<t.length?this.state.output.append(this["et-al"].multiple,"literal",!0):1===t.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},Tt.NameOutput.prototype._joinEllipsis=function(t,e){return this._join(t,this.state.tmp.name_delimiter,this.name.ellipsis.single,this.name.ellipsis.multiple,e)},Tt.NameOutput.prototype._joinAnd=function(t,e){return this._join(t,this.state.inheritOpt(this[e],"delimiter",e+"-delimiter",", "),this[e].and.single,this[e].and.multiple,e)},Tt.NameOutput.prototype._join=function(t,e,i,r){var s,n;if(!t)return!1;for(s=t.length-1;-1<s;s+=-1)t[s]&&0!==t[s].length&&t[s].blobs.length||(t=t.slice(0,s).concat(t.slice(s+1)));if(!t.length)return!1;if(i&&2===t.length)i=i&&new Tt.Blob(i.blobs,i),t=[t[0],i,t[1]];else{var a;for(a=r?2:1,s=0,n=t.length-a;s<n;s+=1)t[s].strings.suffix+=e;if(1<t.length){var o=t.pop();r?(r=new Tt.Blob(r.blobs,r),t.push(r)):(i=i&&new Tt.Blob(i.blobs,i),t.push(i)),t.push(o)}}for(this.state.output.openLevel(),i&&r&&(this.state.output.current.value().strings.delimiter=""),s=0,n=t.length;s<n;s+=1)this.state.output.append(t[s],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},Tt.NameOutput.prototype._getToken=function(t){var e=this[t];return"institution"!==t?e:new Tt.Token},Tt.NameOutput.prototype.checkCommonAuthor=function(t){if(!t)return!1;var e=!1;if(2===this.variables.length){var i=this.variables.slice();i.sort(),e=i.join("")}if(!e)return!1;var r=!1;if(this.state.locale[this.state.opt.lang].terms[e]&&(r=!0),!r)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var s=this.Item[this.variables[0]],n=this.Item[this.variables[1]],a=this._compareNamesets(s,n);return!0===a&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!a},Tt.NameOutput.prototype.setCommonTerm=function(){var t=this.variables.slice();if(t.sort(),this.common_term=t.join(""),this.common_term){var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2)this.common_term=!1;else for(var i=0,r=this.variables.length-1;i<r;i+=1){var s=this.variables[i],n=this.variables[i+1];if(this.freeters[s].length||this.freeters[n].length){if(this.etal_spec[s].freeters!==this.etal_spec[n].freeters||!this._compareNamesets(this.freeters[s],this.freeters[n]))return void(this.common_term=!1);1}if(this.persons[s].length!==this.persons[n].length)return void(this.common_term=!1);for(var a=0,o=this.persons[s].length;a<o;a+=1)if(this.etal_spec[s].persons[a]!==this.etal_spec[n].persons[a]||!this._compareNamesets(this.persons[s][a],this.persons[n][a]))return void(this.common_term=!1)}}},Tt.NameOutput.prototype._compareNamesets=function(t,e){if(!t||!e||t.length!==e.length)return!1;for(var i=0,r=e.length;i<r;i+=1)for(var s=0,n=Tt.NAME_PARTS.length;s<n;s+=1){var a=Tt.NAME_PARTS[s];if(!t[i]||t[i][a]!=e[i][a])return!1}return!0},Tt.NameOutput.prototype.constrainNames=function(){for(var t,e=this.names_count=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];t=this.nameset_base+e,this.freeters[r].length&&(this.state.tmp.names_max.push(this.freeters[r].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,r,t),this.names_count+=this.freeters[r].length),this.institutions[r].length&&(this.state.tmp.names_max.push(this.institutions[r].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,r,t),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.names_count+=this.institutions[r].length);for(var s=0,n=this.persons[r].length;s<n;s+=1)this.persons[r][s].length&&(this.state.tmp.names_max.push(this.persons[r][s].length,"literal"),this._imposeNameConstraints(this.persons[r],this.persons_count[r],s,t),this.names_count+=this.persons[r][s].length)}},Tt.NameOutput.prototype._imposeNameConstraints=function(t,e,i,r){var s=t[i],n=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]?n=this.state.tmp.disambig_request.names[r]:e[i]>=this.etal_min&&(n=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]>this.etal_use_first?n=e[i]<this.etal_min?e[i]:this.state.tmp.disambig_request.names[r]:e[i]>=this.etal_min&&(n=this.etal_use_first),this.etal_use_last&&n>this.etal_min-2&&(n=this.etal_min-2));var a=this.etal_min>=this.etal_use_first,o=e[i]>n;n>e[i]&&(n=s.length),a&&o&&(this.etal_use_last?t[i]=s.slice(0,n).concat(s.slice(-1)):t[i]=s.slice(0,n)),this.state.tmp.disambig_settings.names[r]=t[i].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},Tt.NameOutput.prototype.disambigNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];if(t=this.nameset_base+e,this.freeters[r].length&&this._runDisambigNames(this.freeters[r],t),this.institutions[r].length){"undefined"==typeof this.state.tmp.disambig_settings.givens[t]&&(this.state.tmp.disambig_settings.givens[t]=[]);for(var s=0,n=this.institutions[r].length;s<n;s+=1)"undefined"==typeof this.state.tmp.disambig_settings.givens[t][s]&&this.state.tmp.disambig_settings.givens[t].push(2)}for(s=0,n=this.persons[r].length;s<n;s+=1)this.persons[r][s].length&&this._runDisambigNames(this.persons[r][s],t)}},Tt.NameOutput.prototype._runDisambigNames=function(t,e){var i,r,s,n,a,o;for(n=0,a=t.length;n<a;n+=1)if(t[n].given||t[n].family){if(r=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,t[n],n),void 0===this.state.tmp.disambig_settings.givens[e])for(var l=0,u=e+1;l<u;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(void 0===this.state.tmp.disambig_settings.givens[e][n]&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),s=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,0,i,r),this.state.tmp.disambig_settings.givens[e].push(s)),i=this.state.inheritOpt(this.name,"form","name-form","long"),o=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,0,i,r),this.state.tmp.disambig_request){var p=this.state.tmp.disambig_settings.givens[e][n];1!==p||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&"undefined"!=typeof t[n].given||(p=2),s=p,this.state.opt["disambiguate-add-givenname"]&&t[n].given&&(s=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,s,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else s=o;!this.state.tmp.just_looking&&this.item&&this.item.position===Tt.POSITION_FIRST&&s<o&&(s=o),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[e][n]=s,"string"!=typeof r||"undefined"!=typeof this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},Tt.NameOutput.prototype.getEtAlConfig=function(){var t=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===t&&(t={}),t.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},Tt.NameOutput.prototype.setEtAlParameters=function(){var t,e,i,r;for(t=0,e=this.variables.length;t<e;t+=1){var s=this.variables[t];for("undefined"==typeof this.etal_spec[s]&&(this.etal_spec[s]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+t]=this.etal_spec[s],this.freeters[s].length&&this._setEtAlParameter("freeters",s),i=0,r=this.persons[s].length;i<r;i+=1)"undefined"==typeof this.etal_spec[s][i]&&(this.etal_spec[s].persons[i]=0),this._setEtAlParameter("persons",s,i);this.institutions[s].length&&this._setEtAlParameter("institutions",s)}},Tt.NameOutput.prototype._setEtAlParameter=function(t,e,i){var r,s;s="persons"===t?(r=this.persons[e][i],this.persons_count[e][i]):(r=this[t][e],this[t+"_count"][e]),r.length<s&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===t?this.etal_spec[e].persons[i]=2:this.etal_spec[e][t]=2:"persons"===t?this.etal_spec[e].persons[i]=1:this.etal_spec[e][t]=1:"persons"===t?this.etal_spec[e].persons[i]=0:this.etal_spec[e][t]=0},Tt.NameOutput.prototype.renderAllNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];(this.freeters[r].length||this.institutions[r].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),t=this.nameset_base+e,this.freeters[r].length&&(this.freeters[r]=this._renderNames(r,this.freeters[r],t));for(var s=0,n=this.institutions[r].length;s<n;s+=1)this.persons[r][s]=this._renderNames(r,this.persons[r][s],t,s)}this.renderInstitutionNames()},Tt.NameOutput.prototype.renderInstitutionNames=function(){for(var t=0,e=this.variables.length;t<e;t+=1)for(var i=this.variables[t],r=0,s=this.institutions[i].length;r<s;r+=1){var n,a=this.institutions[i][r],o={primary:"locale-orig",secondary:!1,tertiary:!1};if(n=this.state.tmp.extension?["sort"]:a.isInstitution||a.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],u=0,p=l.length;u<p&&!(n.length-1<u);u+=1)n[u]&&(o[l[u]]="locale-"+n[u]);else o.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(o.secondary=!1,o.tertiary=!1),this.setRenderedName(a);var c=this._renderInstitutionName(i,a,o,r);this.institutions[i][r]=c}},Tt.NameOutput.prototype._renderInstitutionName=function(t,e,i,r){var s,n,a,o,l,u=this.getName(e,i.primary,!0),p=u.name,c=u.usedOrig;if(p=p&&this.fixupInstitution(p,t,r),h=!1,i.secondary){var h=(u=this.getName(e,i.secondary,!1,c)).name;c=u.usedOrig,h=h&&this.fixupInstitution(h,t,r)}s=!1,i.tertiary&&(s=(s=(u=this.getName(e,i.tertiary,!1,c)).name)&&this.fixupInstitution(s,t,r));var f={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(p&&(f.l.pri=p["long"],f.s.pri=p["short"].length?p["short"]:p["long"]),h&&(f.l.sec=h["long"],f.s.sec=h["short"].length?h["short"]:h["long"]),s&&(f.l.ter=s["long"],f.s.ter=s["short"].length?s["short"]:s["long"]),this.institution.strings["institution-parts"]){case"short":o=p["short"].length?(a=this._getShortStyle(),[this._composeOneInstitutionPart([f.s.pri,f.s.sec,f.s.ter],i,a,t)]):(n=this._getLongStyle(p,t,r),[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,n,t)]);break;case"short-long":n=this._getLongStyle(p,t,r),a=this._getShortStyle(),o=[l=this._renderOneInstitutionPart(p["short"],a),this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,n,t)];break;case"long-short":n=this._getLongStyle(p,t,r),a=this._getShortStyle(),l=this._renderOneInstitutionPart(p["short"],a),o=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,n,t),l];break;default:n=this._getLongStyle(p,t,r),o=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],i,n,t)]}var m=this._join(o," ");return this.state.tmp.name_node.children.push(m),m},Tt.NameOutput.prototype._composeOneInstitutionPart=function(t,e,i){var r,s,n,a,o=!1,l=!1,u=!1;if(t[0]){if(r=Tt.Util.cloneToken(i),this.state.opt.citeAffixes[e.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[e.primary].prefix){for(var p=!1,c=0,h=r.decorations.length;c<h;c+=1)"@font-style"===i.decorations[c][0]&&"italic"===r.decorations[c][1]&&(p=!0);p||r.decorations.push(["@font-style","italic"])}o=this._renderOneInstitutionPart(t[0],r)}if(t[1]&&(l=this._renderOneInstitutionPart(t[1],i)),t[2]&&(u=this._renderOneInstitutionPart(t[2],i)),l||u){this.state.output.openLevel("empty"),this.state.output.append(o),s=Tt.Util.cloneToken(i),e.secondary&&(s.strings.prefix=this.state.opt.citeAffixes.institutions[e.secondary].prefix,s.strings.suffix=this.state.opt.citeAffixes.institutions[e.secondary].suffix,s.strings.prefix||(s.strings.prefix=" "));var f=new Tt.Token;f.decorations.push(["@font-style","normal"]),f.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(f),this.state.output.append(l,s),this.state.output.closeLevel(),n=Tt.Util.cloneToken(i),e.tertiary&&(n.strings.prefix=this.state.opt.citeAffixes.institutions[e.tertiary].prefix,n.strings.suffix=this.state.opt.citeAffixes.institutions[e.tertiary].suffix,n.strings.prefix||(n.strings.prefix=" "));var m=new Tt.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(u,n),this.state.output.closeLevel(),this.state.output.closeLevel(),a=this.state.output.pop()}else a=o;return a},Tt.NameOutput.prototype._renderOneInstitutionPart=function(t,e){for(var i=0,r=t.length;i<r;i+=1)if(t[i]){var s=t[i];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var n=0,a=e.decorations.length;n<a;n+=1)if("@strip-periods"===e.decorations[n][0]&&"true"===e.decorations[n][1]){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,Tt.LITERAL),"!here>>>"===s?t[i]=!1:(this.state.output.append(s,e,!0),t[i]=this.state.output.pop())}return"undefined"==typeof this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(t,this.institution.strings["part-separator"])},Tt.NameOutput.prototype._renderNames=function(t,e,i,r){var s=!1;if(e.length){for(var n=[],a=0,o=e.length;a<o;a+=1){var l,u=e[a],p={primary:"locale-orig",secondary:!1,tertiary:!1};if(l=this.state.tmp.extension?["sort"]:u.isInstitution||u.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var c=["primary","secondary","tertiary"],h=0,f=c.length;h<f&&!(l.length-1<h);h+=1)p[c[h]]="locale-"+l[h];else p.primary="locale-translat";if(!this.state.tmp.sort_key_flag&&("bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position)||(p.secondary=!1,p.tertiary=!1),this.setRenderedName(u),u.literal||u.isInstitution)n.push(this._renderInstitutionName(t,u,p,r));else{var m=this._renderPersonalName(t,u,p,i,a,r),d=Tt.Util.cloneToken(this.name);this.state.output.append(m,d,!0),n.push(this.state.output.pop())}}s=this.joinPersons(n,i,r)}return s},Tt.NameOutput.prototype._renderPersonalName=function(t,e,i,r,s,n){var a=this.getName(e,i.primary,!0),o=this._renderOnePersonalName(a.name,r,s,n),l=!1;i.secondary&&(a=this.getName(e,i.secondary,!1,a.usedOrig)).name&&(l=this._renderOnePersonalName(a.name,r,s,n));var u,p=!1;if(i.tertiary&&(a=this.getName(e,i.tertiary,!1,a.usedOrig)).name&&(p=this._renderOnePersonalName(a.name,r,s,n)),l||p){this.state.output.openLevel("empty"),this.state.output.append(o);var c=new Tt.Token;i.secondary&&(c.strings.prefix=this.state.opt.citeAffixes.persons[i.secondary].prefix,c.strings.suffix=this.state.opt.citeAffixes.persons[i.secondary].suffix,c.strings.prefix||(c.strings.prefix=" ")),this.state.output.append(l,c);var h=new Tt.Token;i.tertiary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[i.tertiary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[i.tertiary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(p,h),this.state.output.closeLevel(),u=this.state.output.pop()}else u=o;return u},Tt.NameOutput.prototype._isRomanesque=function(t){var e,i=2;return t.family.replace(/\"/g,"").match(Tt.ROMANESQUE_REGEXP)||(i=0),!i&&t.given&&t.given.match(Tt.STARTSWITH_ROMANESQUE_REGEXP)&&(i=1),2==i&&(t.multi&&t.multi.main?e=t.multi.main.slice(0,2):this.Item.language&&(e=this.Item.language.slice(0,2)),-1<["ja","zh"].indexOf(e)&&(i=1)),i},Tt.NameOutput.prototype._renderOnePersonalName=function(t,e,i,r){var s=t,n=this._droppingParticle(s,e,r),a=this._familyName(s),o=this._nonDroppingParticle(s),l=this._givenName(s,e,i),u=this._nameSuffix(s);!1===l&&(u=n=!1);var p,c=this.state.inheritOpt(this.name,"sort-separator");c=c||"",p=s["comma-suffix"]?", ":" ";var h=this._isRomanesque(s);var f,m,d,g,b=function v(t){return!!t&&("string"==typeof t.blobs?-1<["\u2019","'","-"," "].indexOf(t.blobs.slice(-1)):v(t.blobs[t.blobs.length-1]))}(o);if(0===h)f=this._join([o,a,l],"");else if(1===h||s["static-ordering"])f=this._join([o,a,l]," ");else if(s["reverse-ordering"])f=this._join([l,o,a]," ");else if(this.state.tmp.sort_key_flag)f=(m="never"===this.state.opt["demote-non-dropping-particle"]?(d=this._join([o,a,n]," "),this._join([d,l],this.state.opt.sort_sep)):(g=this._join([l,n,o]," "),this._join([a,g],this.state.opt.sort_sep)),this._join([m,u]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===i&&(0===r||void 0===r))-1<["Lord","Lady"].indexOf(s.given)&&(c=", "),f=(m=-1<["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])?(g=this._join([l,n],s["comma-dropping-particle"]+" "),(g=this._join([g,o]," "))&&this.given&&(g.strings.prefix=this.given.strings.prefix,g.strings.suffix=this.given.strings.suffix),a&&this.family&&(a.strings.prefix=this.family.strings.prefix,a.strings.suffix=this.family.strings.suffix),this._join([a,g],c)):((d=b?this._join([o,a],""):this._join([o,a]," "))&&this.family&&(d.strings.prefix=this.family.strings.prefix,d.strings.suffix=this.family.strings.suffix),(g=this._join([l,n],s["comma-dropping-particle"]+" "))&&this.given&&(g.strings.prefix=this.given.strings.prefix,g.strings.suffix=this.given.strings.suffix),this._join([d,g],c)),this._join([m,u],c));else{s["dropping-particle"]&&s.family&&!s["non-dropping-particle"]&&-1<["'","\u02bc","\u2019","-"].indexOf(s["dropping-particle"].slice(-1))&&(a=this._join([n,a],""),n=!1);var y=" ";this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&-1<["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))&&(y="\xa0"),g=b?(g=this._join([o,a],""),this._join([n,g],y)):this._join([n,o,a],y),(g=this._join([g,u],p))&&this.family&&(g.strings.prefix=this.family.strings.prefix,g.strings.suffix=this.family.strings.suffix),l&&this.given&&(l.strings.prefix=this.given.strings.prefix,l.strings.suffix=this.given.strings.suffix),g.strings.prefix&&(s["comma-dropping-particle"]=""),f=this._join([l,g],s["comma-dropping-particle"]+y)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,Tt.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(f),f},Tt.NameOutput.prototype._normalizeNameInput=function(t){var e={literal:t.literal,family:t.family,isInstitution:t.isInstitution,given:t.given,suffix:t.suffix,"comma-suffix":t["comma-suffix"],"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],"static-ordering":t["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":t["reverse-ordering"],"full-form-always":t["full-form-always"],"parse-names":t["parse-names"],"comma-dropping-particle":"",block_initialize:t.block_initialize,multi:t.multi};return this._parseName(e),e},Tt.NameOutput.prototype._stripPeriods=function(t,e){var i=this[t+"_decor"];if(e)if(this.state.tmp.strip_periods)e=e.replace(/\./g,"");else if(i)for(var r=0,s=i.decorations.length;r<s;r+=1)if("@strip-periods"===i.decorations[r][0]&&"true"===i.decorations[r][1]){e=e.replace(/\./g,"");break}return e},Tt.NameOutput.prototype._nonDroppingParticle=function(t){var e=t["non-dropping-particle"];e&&this.state.tmp.sort_key_flag&&(e=e.replace(/[\'\u2019]/,""));var i=this._stripPeriods("family",e);return!!this.state.output.append(i,this.family_decor,!0)&&this.state.output.pop()},Tt.NameOutput.prototype._droppingParticle=function(t,e,i){var r=t["dropping-particle"];r&&this.state.tmp.sort_key_flag&&(r=r.replace(/[\'\u2019]/,""));var s=this._stripPeriods("given",r);if(t["dropping-particle"]&&t["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===i?this.etal_spec[e].freeters=2:this.etal_spec[e].persons=2:void 0===i?this.etal_spec[e].freeters=1:this.etal_spec[e].persons=1,t["comma-dropping-particle"]="";else if(this.state.output.append(s,this.given_decor,!0))return this.state.output.pop();return!1},Tt.NameOutput.prototype._familyName=function(t){var e=this._stripPeriods("family",t.family);return!!this.state.output.append(e,this.family_decor,!0)&&this.state.output.pop()},Tt.NameOutput.prototype._givenName=function(t,e,i){var r,s,n="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),a=!1!==this.state.inheritOpt(this.name,"initialize"),o="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!t.block_initialize;if(t["full-form-always"])s=2;else{r=n?0:o?1:2;var l=this.state.tmp.disambig_settings.givens[e][i];s=r<l?l:r}var u=this.state.citation.opt["givenname-disambiguation-rule"];if(u&&"-with-initials"===u.slice(-14)&&(o=!0),t.family&&1===s)if(o){var p=this.state.inheritOpt(this.name,"initialize-with",!1,"");t.given=Tt.Util.Names.initializeWith(this.state,t.given,p,!a)}else t.given=Tt.Util.Names.unInitialize(this.state,t.given);else{if(0===s)return!1;2===s&&(t.given=Tt.Util.Names.unInitialize(this.state,t.given))}var c=this._stripPeriods("given",t.given);return!!this.state.output.append(c,this.given_decor,!0)&&this.state.output.pop()},Tt.NameOutput.prototype._nameSuffix=function(t){var e,i=t.suffix;"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(i=Tt.Util.Names.initializeWith(this.state,t.suffix,this.state.inheritOpt(this.name,"initialize-with"),!0));var r="";return(i=this._stripPeriods("family",i))&&"."===i.slice(-1)&&(i=i.slice(0,-1),r="."),!!this.state.output.append(i,"empty",!0)&&((e=this.state.output.pop()).strings.suffix=r+e.strings.suffix,e)},Tt.NameOutput.prototype._getLongStyle=function(t){return(t["short"].length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart["long"])||new Tt.Token},Tt.NameOutput.prototype._getShortStyle=function(){return this.institutionpart["short"]?this.institutionpart["short"]:new Tt.Token},Tt.NameOutput.prototype._parseName=function(t){if(!t["parse-names"]&&"undefined"!=typeof t["parse-names"])return t;var e;t.family&&!t.given&&t.isInstitution&&(t.literal=t.family,t.family=undefined,t.isInstitution=undefined),t.family&&'"'===t.family.slice(0,1)&&'"'===t.family.slice(-1)||!t["parse-names"]&&"undefined"!=typeof t["parse-names"]?(t.family=t.family.slice(1,-1),e=!0,t["parse-names"]=0):e=!1,this.state.opt.development_extensions.parse_names&&!t["non-dropping-particle"]&&t.family&&!e&&t.given&&(t["static-particles"]||Tt.parseParticles(t,!0))},Tt.NameOutput.prototype.getName=function(t,e,i,r){if(r&&"locale-orig"===e)return{name:!1,usedOrig:r};t.family||(t.family=""),t.given||(t.given="");var s={};s["static-ordering"]=this.getStaticOrder(t);var n,a=!0;if("locale-orig"!==e&&(a=!1,t.multi))for(var o=this.state.opt[e],l=0,u=o.length;l<u;l+=1)if(n=o[l],t.multi._key[n]){a=!0;var p=t.isInstitution;(t=t.multi._key[n]).isInstitution=p,(s=this.getNameParams(n)).transliterated=!0;break}return a||(n=!1,t.multi&&t.multi.main?n=t.multi.main:this.Item.language&&(n=this.Item.language),n&&(s=this.getNameParams(n))),i||a?(t.family||(t.family=""),t.given||(t.given=""),t.literal&&(delete t.family,delete t.given),!(t={family:t.family,given:t.given,"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],suffix:t.suffix,"static-ordering":s["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":t["parse-names"],"comma-suffix":t["comma-suffix"],"comma-dropping-particle":t["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:t.literal,isInstitution:t.isInstitution,multi:t.multi}).literal&&!t.given&&t.family&&t.isInstitution&&(t.literal=t.family),t.literal&&(delete t.family,delete t.given),{name:t=this._normalizeNameInput(t),usedOrig:r||!a}):{name:!1,usedOrig:r}},Tt.NameOutput.prototype.getNameParams=function(t){var e={},i=Tt.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),r=this.state.locale[i.best]?i.best:this.state.opt["default-locale"][0],s=this.state.locale[r].opts["name-as-sort-order"],n=this.state.locale[r].opts["name-as-reverse-order"],a=this.state.locale[r].opts["name-never-short"],o=t.split("-")[0];return s&&s[o]&&(e["static-ordering"]=!0,e["reverse-ordering"]=!1),n&&n[o]&&(e["reverse-ordering"]=!0,e["static-ordering"]=!1),a&&a[o]&&(e["full-form-always"]=!0),e["static-ordering"]&&(e["block-initialize"]=!0),e},Tt.NameOutput.prototype.setRenderedName=function(t){if("bibliography"===this.state.tmp.area){for(var e="",i=0,r=Tt.NAME_PARTS.length;i<r;i+=1)t[Tt.NAME_PARTS[i]]&&(e+=t[Tt.NAME_PARTS[i]]);this.state.tmp.rendered_name.push(e)}},Tt.NameOutput.prototype.fixupInstitution=function(t,e,i){t=this._splitInstitution(t,e,i),this.institution.strings["reverse-order"]&&t["long"].reverse();var r=t["long"],s=t["long"].slice(),n=!1;if(this.state.sys.getAbbreviation)for(var a=this.Item.jurisdiction,o=0,l=r.length;o<l;o+=1){var u=r[o];a=this.state.transform.loadAbbreviation(a,"institution-part",u),this.state.transform.abbrevs[a]["institution-part"][u]&&(s[o]=this.state.transform.abbrevs[a]["institution-part"][u],n=!0)}return t["short"]=n?s:[],t},Tt.NameOutput.prototype.getStaticOrder=function(t,e){var i=!1;return!e&&t["static-ordering"]?i=!0:0===this._isRomanesque(t)?i=!0:(!t.multi||!t.multi.main)&&this.Item.language&&-1<["vi","hu"].indexOf(this.Item.language)?i=!0:t.multi&&t.multi.main&&-1<["vi","hu"].indexOf(t.multi.main.slice(0,2))?i=!0:this.state.opt["auto-vietnamese-names"]&&Tt.VIETNAMESE_NAMES.exec(t.family+" "+t.given)&&Tt.VIETNAMESE_SPECIALS.exec(t.family+t.given)&&(i=!0),i},Tt.NameOutput.prototype._splitInstitution=function(t,e,i){var r={};!t.literal&&t.family&&(t.literal=t.family,delete t.family);var s=t.literal.replace(/\s*\|\s*/g,"|");if(s=s.split("|"),"short"===this.institution.strings.form&&this.state.sys.getAbbreviation)for(var n=this.Item.jurisdiction,a=s.length;0<a;a+=-1){var o=s.slice(0,a).join("|");if(n=this.state.transform.loadAbbreviation(n,"institution-entire",o),this.state.transform.abbrevs[n]["institution-entire"][o]){var l=this.state.transform.abbrevs[n]["institution-entire"][o],u=(l=this.state.transform.quashCheck(l)).split(/>>[0-9]{4}>>/),p=l.match(/>>([0-9]{4})>>/);if(l=u.pop(),0<u.length&&this.Item["original-date"]&&this.Item["original-date"].year)for(var c=p.length-1;0<c&&!(parseInt(this.Item["original-date"].year,10)>=parseInt(p[c],10));c+=-1)l=u.pop();s=[l=l.replace(/\s*\|\s*/g,"|")];break}}return s.reverse(),r["long"]=this._trimInstitution(s,e,i),r},Tt.NameOutput.prototype._trimInstitution=function(t,e){var i=!1,r=!1,s=t.slice(),n=!1;return this.institution&&("undefined"!=typeof this.institution.strings["use-first"]&&(i=this.institution.strings["use-first"]),"undefined"!=typeof this.institution.strings["stop-last"]?n=this.institution.strings["stop-last"]:"authority"===e&&this.state.tmp.authority_stop_last&&(n=this.state.tmp.authority_stop_last),n&&(s=s.slice(0,n),t=t.slice(0,n)),"undefined"!=typeof this.institution.strings["use-last"]&&(r=this.institution.strings["use-last"]),"authority"===e&&(n&&(this.state.tmp.authority_stop_last=n),r&&(this.state.tmp.authority_stop_last+=-1*r))),!1===i&&(0===this.persons[e].length&&(i=this.institution.strings["substitute-use-first"]),i=i||0),!1===r&&(r=i?0:t.length),i>t.length-r&&(i=t.length-r),t=t.slice(0,i),s=s.slice(i),r&&(r>s.length&&(r=s.length),r&&(t=t.concat(s.slice(s.length-r)))),t},Tt.PublisherOutput=function(t,e){this.state=t,this.group_tok=e,this.varlist=[]},Tt.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},Tt.PublisherOutput.prototype.composeAndBlob=function(){var t=!(this.and_blob={});"text"===this.group_tok.strings.and?t=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(t="&");var e=new Tt.Token;e.strings.suffix=" ",e.strings.prefix=" ",this.state.output.append(t,e,!0);var i=this.state.output.pop();e.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(t,e,!0);var r=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,t&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=r:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=i,this.and_blob.multiple=i):(this.and_blob.single=i,this.and_blob.multiple=r))},Tt.PublisherOutput.prototype.composeElements=function(){for(var t=0;t<2;t+=1)for(var e=["publisher","publisher-place"][t],i=0,r=this["publisher-list"].length;i<r;i+=1){var s=this[e+"-list"][i],n=this[e+"-token"];this.state.output.append(s,n,!0),this[e+"-list"][i]=this.state.output.pop()}},Tt.PublisherOutput.prototype.composePublishers=function(){for(var t,e=0,i=this["publisher-list"].length;e<i;e+=1)t=[this[this.varlist[0]+"-list"][e],this[this.varlist[1]+"-list"][e]],this["publisher-list"][e]=this._join(t,this.group_tok.strings.delimiter)},Tt.PublisherOutput.prototype.joinPublishers=function(){var t=this["publisher-list"],e=this._join(t,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(e,"literal")},Tt.PublisherOutput.prototype._join=Tt.NameOutput.prototype._join,Tt.PublisherOutput.prototype._getToken=Tt.NameOutput.prototype._getToken,Tt.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},Tt.evaluateLabel=function(t,e,i,r){var s;s="locator"===t.strings.term?(r&&r.label&&(s="sub verbo"===r.label?"sub-verbo":r.label),s||"page"):t.strings.term;var n=t.strings.plural;if("number"!=typeof n){var a=r&&"locator"===t.strings.term?r:i;a[t.strings.term]&&(e.processNumber(!1,a,t.strings.term,i.type),n=e.tmp.shadow_numbers[t.strings.term].plural,e.tmp.shadow_numbers[t.strings.term].labelForm||e.tmp.shadow_numbers[t.strings.term].labelDecorations||(e.tmp.shadow_numbers[t.strings.term].labelForm=t.strings.form,e.tmp.shadow_numbers[t.strings.term].labelCapitalizeIfFirst=t.strings.capitalize_if_first,e.tmp.shadow_numbers[t.strings.term].labelDecorations=t.decorations.slice()),-1<["locator","number","page"].indexOf(t.strings.term)&&e.tmp.shadow_numbers[t.strings.term].label&&(s=e.tmp.shadow_numbers[t.strings.term].label),t.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(t.decorations.reverse(),t.decorations.push(["@showid","true",t.cslid]),t.decorations.reverse()))}return Tt.castLabel(e,t,s,n,Tt.TOLERANT)},Tt.castLabel=function(t,e,i,r,s){var n=e.strings.form,a=e.strings.capitalize_if_first;t.tmp.group_context.tip.label_form&&"static"!==n&&(n=t.tmp.group_context.tip.label_form),t.tmp.group_context.tip.label_capitalize_if_first&&(a=t.tmp.group_context.tip.label_capitalize_if_first);var o=t.getTerm(i,n,r,!1,s,e.default_locale);if(a&&(o=Tt.Output.Formatters["capitalize-first"](t,o)),t.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,u=e.decorations.length;l<u;l+=1)if("@strip-periods"===e.decorations[l][0]&&"true"===e.decorations[l][1]){o=o.replace(/\./g,"");break}return o},Tt.Node.name={build:function(t,e){var i,r;-1<[Tt.SINGLETON,Tt.START].indexOf(this.tokentype)&&("undefined"==typeof t.tmp.root?(r=undefined,t.tmp.root="citation"):r=t.tmp.root,t.inheritOpt(this,"et-al-subsequent-min")&&t.inheritOpt(this,"et-al-subsequent-min")!==t.inheritOpt(this,"et-al-min")&&(t.opt.update_mode=Tt.POSITION),t.inheritOpt(this,"et-al-subsequent-use-first")&&t.inheritOpt(this,"et-al-subsequent-use-first")!==t.inheritOpt(this,"et-al-use-first")&&(t.opt.update_mode=Tt.POSITION),t.tmp.root=r,i=function i(t){t.tmp.etal_term="et-al",t.tmp.name_delimiter=t.inheritOpt(this,"delimiter","name-delimiter",", "),t.tmp["delimiter-precedes-et-al"]=t.inheritOpt(this,"delimiter-precedes-et-al"),"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")&&(t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&"),t.tmp.and_term=this.and_term,Tt.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.name_delimiter&&(this.and_prefix_multiple=t.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.name_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===t.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=t.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},t.inheritOpt(this,"and")?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):t.tmp.name_delimiter&&(this.and.single=new Tt.Blob(t.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new Tt.Blob(t.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},t.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="\u2026",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=t.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new Tt.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new Tt.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),"undefined"==typeof t.tmp["et-al-min"]&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),"undefined"==typeof t.tmp["et-al-use-first"]&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"undefined"==typeof t.tmp["et-al-use-last"]&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last")),t.nameOutput.name=this},t.build.name_flag=!0,this.execs.push(i));e.push(this)}},Tt.Node["name-part"]={build:function(t){t.build[this.strings.name]=this}},Tt.Node.names={build:function(t,e){var a;if(this.tokentype!==Tt.START&&this.tokentype!==Tt.SINGLETON||(Tt.Util.substituteStart.call(this,t,e),t.build.substitute_level.push(1)),this.tokentype===Tt.SINGLETON){for(var i in t.build.names_variables[t.build.names_variables.length-1].concat(this.variables),this.variables){var r=this.variables[i],s=t.build.name_label[t.build.name_label.length-1];Object.keys(s).length&&(s[r]=s[Object.keys(s)[0]])}a=function a(t){t.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(a)}if(this.tokentype===Tt.START&&(t.build.names_flag=!0,t.build.name_flag=!1,t.build.names_level+=1,t.build.names_variables.push(this.variables),t.build.name_label.push({}),a=function a(t){t.tmp.can_substitute.push(!0),t.parallel.StartVariable("names",this.variables[0]),t.nameOutput.init(this)},this.execs.push(a)),this.tokentype===Tt.END){for(i=0;i<3;i+=1){var n=["family","given","et-al"][i];this[n]=t.build[n],1===t.build.names_level&&(t.build[n]=undefined)}this.label=t.build.name_label[t.build.name_label.length-1],t.build.names_level+=-1,t.build.names_variables.pop(),t.build.name_label.pop(),a=function a(t){t.tmp.etal_node?this.etal_style=t.tmp.etal_node:this.etal_style="empty",this.etal_term=t.getTerm(t.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=t.tmp.name_delimiter,"always"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=t.tmp.name_delimiter:"never"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===t.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=t.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",Tt.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(" "===this.etal_prefix_single&&(this.etal_prefix_single="")," "===this.etal_prefix_multiple&&(this.etal_prefix_multiple="")," "===this.etal_suffix&&(this.etal_suffix=""));for(var e=0;e<3;e+=1){var i=["family","given"][e];t.nameOutput[i]=this[i]}t.nameOutput["with"]=this["with"];var r="",s="";Tt.STARTSWITH_ROMANESQUE_REGEXP.test("with")&&(s=r=" ");var n={};n.single=new Tt.Blob("with"),n.single.strings.suffix=s,n.multiple=new Tt.Blob("with"),n.multiple.strings.suffix=s,"always"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(n.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),n.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(n.single.strings.prefix=r,n.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):("after-inverted-name"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?n.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"):n.single.strings.prefix=r,n.multiple.strings.prefix=r),t.nameOutput["with"]=n,t.nameOutput.label=this.label,t.nameOutput.etal_style=this.etal_style,t.nameOutput.etal_term=this.etal_term,t.nameOutput.etal_prefix_single=this.etal_prefix_single,t.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,t.nameOutput.etal_suffix=this.etal_suffix,t.nameOutput.outputNames(),t.tmp["et-al-use-first"]=undefined,t.tmp["et-al-min"]=undefined,t.tmp["et-al-use-last"]=undefined},this.execs.push(a),a=function a(t){t.tmp.can_substitute.pop()||t.tmp.can_substitute.replace(!1,Tt.LITERAL),t.parallel.CloseVariable("names"),1===t.tmp.can_substitute.mystack.length&&(t.tmp.can_block_substitute=!1)},this.execs.push(a),t.build.name_flag=!1}e.push(this),this.tokentype!==Tt.END&&this.tokentype!==Tt.SINGLETON||(t.build.substitute_level.pop(),Tt.Util.substituteEnd.call(this,t,e))}},Tt.Node.number={build:function(t,e){var s;Tt.Util.substituteStart.call(this,t,e),"roman"===this.strings.form?this.formatter=t.fun.romanizer:"ordinal"===this.strings.form?this.formatter=t.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=t.fun.long_ordinalizer),"undefined"==typeof this.successor_prefix&&(this.successor_prefix=t[t.build.area].opt.layout_delimiter),"undefined"==typeof this.splice_prefix&&(this.splice_prefix=t[t.build.area].opt.layout_delimiter),s=function s(t,e,i){if(0!==this.variables.length){var r;if(r=this.variables[0],void 0===i)i={};if(-1<["locator","locator-extra"].indexOf(r)){if(t.tmp.just_looking)return;if(!i[r])return}else if(!e[r])return;t.parallel.StartVariable(this.variables[0]),"locator"===this.variables[0]?t.parallel.AppendToVariable(e.section):t.parallel.AppendToVariable(e[this.variables[0]]),"collection-number"===r&&"legal_case"===e.type&&(t.tmp.renders_collection_number=!0);if(t.tmp.group_context.tip.force_suppress)return!1;-1<["locator","locator-extra"].indexOf(r)?t.processNumber.call(t,this,i,r,e.type):(t.tmp.group_context.tip.condition||(t.tmp.just_did_number=!0),t.processNumber.call(t,this,e,r,e.type)),Tt.Util.outputNumericField(t,r,e.id),t.parallel.CloseVariable("number"),-1<["locator","locator-extra"].indexOf(this.variables_real[0])&&!t.tmp.just_looking&&(t.tmp.done_vars.push(this.variables_real[0]),t.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(s),e.push(this),Tt.Util.substituteEnd.call(this,t,e)}},Tt.Node.sort={build:function(t,e){if(e=t[t.build.root+"_sort"].tokens,this.tokentype===Tt.START){"citation"===t.build.area&&(t.parallel.use_parallels=!1,t.opt.sort_citations=!0),t.build.area=t.build.root+"_sort",t.build.extension="_sort";var o=function o(t,e){if(t.opt.has_layout_locale){for(var i,r=Tt.localeResolve(e.language,t.opt["default-locale"][0]),s=t[t.tmp.area.slice(0,-5)].opt.sort_locales,n=0,a=s.length;n<a&&!(i=(i=s[n][r.bare])||s[n][r.best]);n+=1);i=i||t.opt["default-locale"][0],t.tmp.lang_sort_hold=t.opt.lang,t.opt.lang=i}};this.execs.push(o)}if(this.tokentype===Tt.END){t.build.area=t.build.root,t.build.extension="";o=function o(t){t.opt.has_layout_locale&&(t.opt.lang=t.tmp.lang_sort_hold,delete t.tmp.lang_sort_hold)};this.execs.push(o)}e.push(this)}},Tt.Node.substitute={build:function(t,e){var i;if(this.tokentype===Tt.START){var r=new Tt.Token("choose",Tt.START);Tt.Node.choose.build.call(r,t,e);var s=new Tt.Token("if",Tt.SINGLETON);i=function i(){return!(!t.tmp.value.length||t.tmp.common_term_match_fail)},s.tests=[i],s.test=t.fun.match.any(s,t,s.tests),e.push(s),i=function i(t){t.tmp.can_block_substitute=!0,t.tmp.value.length&&!t.tmp.common_term_match_fail&&t.tmp.can_substitute.replace(!1,Tt.LITERAL),t.tmp.common_term_match_fail=!1},this.execs.push(i),e.push(this)}if(this.tokentype===Tt.END){e.push(this);var n=new Tt.Token("choose",Tt.END);Tt.Node.choose.build.call(n,t,e)}}},Tt.Node.text={build:function(t,e){var u,p,o,s,n,a,l,c,h,i,r;if(this.postponed_macro){var f=Tt.Util.cloneToken(this);f.name="group",f.tokentype=Tt.START,Tt.Node.group.build.call(f,t,e),Tt.expandMacro.call(t,this,e);var m=Tt.Util.cloneToken(this);m.name="group",m.tokentype=Tt.END,"juris-locator-label"===this.postponed_macro&&(m.isJurisLocatorLabel=!0),Tt.Node.group.build.call(m,t,e)}else{if(Tt.Util.substituteStart.call(this,t,e),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),p="long",o=0,this.strings.form&&(p=this.strings.form),this.strings.plural&&(o=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===t.build.root&&(t.opt.update_mode=Tt.NUMERIC),"bibliography"===t.build.root&&(t.opt.bib_mode=Tt.NUMERIC),"citation-number"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,u=function u(t,e,i){if(s=""+e.id,!t.tmp.just_looking){if("_sort"===t.tmp.area.slice(-5)&&"citation-number"===this.variables[0]){if("bibliography_sort"===t.tmp.area&&t.tmp.group_context.tip.done_vars.push("citation-number"),"citation_sort"===t.tmp.area&&t.bibliography_sort.tmp.citation_number_map)var r=t.bibliography_sort.tmp.citation_number_map[t.registry.registry[e.id].seq];else r=t.registry.registry[e.id].seq;return r=r&&Tt.Util.padding(""+r),void t.output.append(r,this)}i&&i["author-only"]&&t.tmp.element_trace.replace("suppress-me"),r="bibliography_sort"!==t.tmp.area&&t.bibliography_sort.tmp.citation_number_map&&t.bibliography_sort.opt.citation_number_sort_direction===Tt.DESCENDING?t.bibliography_sort.tmp.citation_number_map[t.registry.registry[s].seq]:t.registry.registry[s].seq,t.opt.citation_number_slug?t.output.append(t.opt.citation_number_slug,this):(a=new Tt.NumericBlob(!1,r,this,e.id),t.tmp.in_cite_predecessor&&(a.suppress_splice_prefix=!0),t.output.append(a,"literal"))}},this.execs.push(u)):"year-suffix"===this.variables_real[0]?(t.opt.has_year_suffix=!0,"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,t[t.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=t[t.build.area].opt["year-suffix-delimiter"]),u=function u(t,e){if(t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.just_looking){n=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),t[t.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter),a=new Tt.NumericBlob(!1,n,this,e.id),l=new Tt.Util.Suffixator(Tt.SUFFIX_CHARS),a.setFormatter(l),t.output.append(a,"literal"),c=!1;for(var i=0,r=t.tmp.group_context.mystack.length;i<r;i++){var s=t.tmp.group_context.mystack[i];if(!s.variable_success&&(s.variable_attempt||!s.variable_attempt&&!s.term_intended)){c=!0;break}}h=t[t.tmp.area].opt["year-suffix-delimiter"],c&&h&&!t.tmp.sort_key_flag&&(t.tmp.splice_delimiter=t[t.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(u)):"citation-label"===this.variables_real[0]&&("bibliography"===t.build.root&&(t.opt.bib_mode=Tt.TRIGRAPH),t.opt.has_year_suffix=!0,u=function u(t,e){i=(i=e["citation-label"])||t.getCitationLabel(e),t.tmp.just_looking||(r="",t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&(n=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),r=t.fun.suffixator.format(n)),i+=r),t.output.append(i,this)},this.execs.push(u));else if(this.strings.term)u=function u(t,e){var i,r=t.opt.gender[e.type],s=this.strings.term;if(""!==(s=t.getTerm(s,p,o,r,Tt.TOLERANT,this.default_locale))&&(t.tmp.group_context.tip.term_intended=!0),Tt.UPDATE_GROUP_CONTEXT_CONDITION(t,s),i=t.tmp.term_predecessor||"in-text"===t.opt["class"]&&"citation"===t.tmp.area?s:Tt.Output.Formatters["capitalize-first"](t,s),t.tmp.strip_periods)i=i.replace(/\./g,"");else for(var n=0,a=this.decorations.length;n<a;n+=1)if("@strip-periods"===this.decorations[n][0]&&"true"===this.decorations[n][1]){i=i.replace(/\./g,"");break}t.output.append(i,this)},this.execs.push(u),t.build.term=!1,t.build.form=!1,t.build.plural=!1;else if(this.variables_real.length){if(u=function u(t,e){"locator"!==this.variables_real[0]&&(t.tmp.have_collapsed=!1);var i=this.variables[0];"title"!==i||"short"!==p&&!e["title-short"]||(i="title-short"),t.parallel.StartVariable(i),t.parallel.AppendToVariable(e[i],i),!t.tmp.group_context.tip.condition&&e[this.variables[0]]&&(t.tmp.just_did_number=!1)},this.execs.push(u),-1<Tt.MULTI_FIELDS.indexOf(this.variables_real[0])||-1<["language-name","language-name-original"].indexOf(this.variables_real[0])){var d=this.variables[0],g=!1,b=!1,y=!1;"short"===p?"-short"!==this.variables_real[0].slice(-6)&&(b=this.variables_real[0]+"-short"):d=!1,t.build.extension?y=!0:g=y=!0,u=t.transform.getOutputFunction(this.variables,d,g,b,y)}else u=-1<Tt.CITE_FIELDS.indexOf(this.variables_real[0])?function u(t,e,i){i&&i[this.variables[0]]&&(t.processNumber(this,i,this.variables[0],e.type),Tt.Util.outputNumericField(t,this.variables[0],e.id),-1<["locator","locator-extra"].indexOf(this.variables_real[0])&&!t.tmp.just_looking&&t.tmp.done_vars.push(this.variables_real[0]))}:-1<["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])?function u(t,e){t.processNumber(this,e,this.variables[0],e.type),Tt.Util.outputNumericField(t,this.variables[0],e.id)}:-1<["URL","DOI"].indexOf(this.variables_real[0])?function u(t,e){var i;if(this.variables[0]&&(i=t.getVariable(e,this.variables[0],p)))if(t.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])t.output.append(i,this,!1,!1,!0);else{var r=Tt.Util.cloneToken(this),s=new Tt.Blob(null,null,"url-wrapper");if(s.decorations.push(["@DOI","true"]),"DOI"===this.variables_real[0]){var n;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(n=(i=i.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/",r.strings.prefix=this.strings.prefix.slice(0,r.strings.prefix.length-16));var a=new Tt.Blob(n),o=new Tt.Blob(i);s.push(a),s.push(o),t.output.append(s,r,!1,!1,!0)}else{o=new Tt.Blob(i);s.push(o),t.output.append(s,r,!1,!1,!0)}}else{if(this.decorations.length)for(var l=this.decorations.length-1;-1<l;l--)this.decorations[l][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,l).concat(this.decorations.slice(l+1)));t.output.append(i,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function u(t,e){var i;(i=t.getVariable(e,this.variables[0],p))&&t.output.append(i,this)}:"hereinafter"===this.variables_real[0]?function u(t,e){var i=t.transform.abbrevs["default"].hereinafter[e.id];i&&(t.output.append(i,this),t.tmp.group_context.tip.variable_success=!0)}:function u(t,e){var i;this.variables[0]&&(i=t.getVariable(e,this.variables[0],p))&&(i=(i=""+i).split("\\").join(""),t.output.append(i,this))};this.execs.push(u),u=function u(t){t.parallel.CloseVariable("text")},this.execs.push(u)}else this.strings.value&&(u=function u(t){t.tmp.group_context.tip.term_intended=!0,Tt.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.value,!0),t.output.append(this.strings.value,this)},this.execs.push(u));e.push(this),Tt.Util.substituteEnd.call(this,t,e)}}},Tt.Node.intext={build:function(t,e){if(this.tokentype===Tt.START){t.build.area="intext",t.build.root="intext",t.build.extension="";var i=function i(t,e){t.tmp.area="intext",t.tmp.root="intext",t.tmp.extension=""};this.execs.push(i)}this.tokentype===Tt.END&&(t.intext_sort={opt:{sort_directions:t.citation_sort.opt.sort_directions}},t.intext.srt=t.citation.srt),e.push(this)}},Tt.Attributes={},Tt.Attributes["@genre"]=function(t,e){this.tests||(this.tests=[]),e=e.replace("-"," ");var i=function i(t){return e===t.genre};this.tests.push(i)},Tt.Attributes["@disambiguate"]=function(e,t){if(this.tests||(this.tests=[]),"true"===t){e.opt.has_disambiguate=!0;var i=function i(t){if("bibliography"===e.tmp.area){if(e.tmp.disambiguate_count<e.registry.registry[t.id].disambig.disambiguate)return e.tmp.disambiguate_count+=1,!0}else if(e.tmp.disambiguate_maxMax+=1,e.tmp.disambig_settings.disambiguate&&e.tmp.disambiguate_count<e.tmp.disambig_settings.disambiguate)return e.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(i)}else if("check-ambiguity-and-backreference"===t){i=function i(t){return!!(e.registry.registry[t.id].disambig.disambiguate&&1<e.registry.registry[t.id]["citation-count"])};this.tests.push(i)}},Tt.Attributes["@is-numeric"]=function(s,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function i(r){return function(t,e){var i=t;if(e&&-1<["locator","locator-extra"].indexOf(r)&&(i=e),!i[r])return!1;if(-1<Tt.NUMERIC_VARIABLES.indexOf(r)){if(s.tmp.shadow_numbers[r]||s.processNumber(!1,i,r,t.type),s.tmp.shadow_numbers[r].numeric)return!0}else if(-1<["title","locator-extra","version"].indexOf(r)&&i[r].slice(-1)===""+parseInt(i[r].slice(-1),10))return!0;return!1}},r=0;r<e.length;r+=1)this.tests.push(i(e[r]))},Tt.Attributes["@is-uncertain-date"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(e){return function(t){return!(!t[e]||!t[e].circa)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},Tt.Attributes["@locator"]=function(s,t){this.tests||(this.tests=[]);for(var e=t.replace("sub verbo","sub-verbo"),i=function i(r){return function(t,e){var i;return s.processNumber(!1,e,"locator"),i=s.tmp.shadow_numbers.locator.label,r===i}},r=0,n=(e=e.split(/\s+/)).length;r<n;r+=1)this.tests.push(i(e[r]))},Tt.Attributes["@position"]=function(r,t){this.tests||(this.tests=[]),r.opt.update_mode=Tt.POSITION,r.parallel.use_parallels=null;for(var e=t.split(/\s+/),i=function i(t,e){return!!(e&&e.position>=Tt.POSITION_SUBSEQUENT&&e["near-note"])},s=function s(t,e){return!(!e||e.position!=Tt.POSITION_SUBSEQUENT||e["near-note"])},n=function n(i){return function(t,e){if("bibliography"===r.tmp.area)return!1;if(e&&"undefined"==typeof e.position&&(e.position=0),e&&"number"==typeof e.position){if(0===e.position&&0===i)return!0;if(0<i&&e.position>=i)return!0}else if(0===i)return!0;return!1}},a=0,o=e.length;a<o;a+=1){var l;"first"===(l=e[a])?l=Tt.POSITION_FIRST:"subsequent"===l?l=Tt.POSITION_SUBSEQUENT:"ibid"===l?l=Tt.POSITION_IBID:"ibid-with-locator"===l&&(l=Tt.POSITION_IBID_WITH_LOCATOR),"near-note"===l?this.tests.push(i):"far-note"===l?this.tests.push(s):this.tests.push(n(l))}},Tt.Attributes["@type"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(e){return function(t){return t.type===e}},s=[],n=0,a=i.length;n<a;n+=1)s.push(r(i[n]));this.tests.push(t.fun.match.any(this,t,s))},Tt.Attributes["@variable"]=function(n,t){var g;if(this.tests||(this.tests=[]),this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(-1<["names","date","text","number"].indexOf(this.name))g=function g(t,e,i){for(var r=this.variables.length-1;-1<r;r+=-1)this.variables.pop();r=0;for(var s=this.variables_real.length;r<s;r++)-1===t.tmp.done_vars.indexOf(this.variables_real[r])&&this.variables.push(this.variables_real[r]),t.tmp.can_block_substitute&&t.tmp.done_vars.push(this.variables_real[r])},this.execs.push(g),g=function g(t,e,i){for(var r=!1,s=0,n=this.variables.length;s<n;s++){var a=this.variables[s];if(-1<["authority","committee"].indexOf(a)&&"string"==typeof e[a]&&"names"===this.name){var o=!0,l=e[a].split(/\s*;\s*/),u={};if(e.multi&&e.multi._keys[a])for(var p in e.multi._keys[a])if(u[p]=e.multi._keys[a][p].split(/\s*;\s*/),u[p].length!==l.length){o=!1;break}o||(l=[e[a]],u=e.multi._keys[a]);for(var c=0,h=l.length;c<h;c++){var f={literal:l[c],multi:{_key:{}}};for(var p in u){var m={literal:u[p][c]};f.multi._key[p]=m}l[c]=f}e[a]=l}if("short"!==this.strings.form||e[a]||("title"===a?a="title-short":"container-title"===a&&(a="container-title-short")),"year-suffix"===a){r=!0;break}if(-1<Tt.DATE_VARIABLES.indexOf(a)){if(t.opt.development_extensions.locator_date_and_revision&&"locator-date"===a){r=!0;break}if(e[a]){for(var d in e[a])if((-1!==this.dateparts.indexOf(d)||"literal"===d)&&e[a][d]){r=!0;break}if(r)break}}else{if("locator"===a){i&&i.locator&&(r=!0);break}if("locator-extra"===a){i&&i["locator-extra"]&&(r=!0);break}if(-1<["citation-number","citation-label"].indexOf(a)){r=!0;break}if("first-reference-note-number"===a){i&&i["first-reference-note-number"]&&(r=!0);break}if("hereinafter"===a){t.transform.abbrevs["default"].hereinafter[e.id]&&t.sys.getAbbreviation&&e.id&&(r=!0);break}if("object"===$(e[a]))break;if("string"==typeof e[a]&&e[a]){r=!0;break}if("number"==typeof e[a]){r=!0;break}}if(r)break}if(r){for(s=0,n=this.variables_real.length;s<n;s++){"citation-number"===(a=this.variables_real[s])&&"bibliography"===t.tmp.area||(t.tmp.cite_renders_content=!0),t.tmp.group_context.tip.variable_success=!0,t.tmp.can_substitute.value()&&"bibliography"===t.tmp.area&&"string"==typeof e[a]&&(t.tmp.name_node.top=t.output.current.value(),t.tmp.rendered_name.push(e[a]))}t.tmp.can_substitute.replace(!1,Tt.LITERAL)}else t.tmp.group_context.tip.variable_attempt=!0},this.execs.push(g);else if(-1<["if","else-if","condition"].indexOf(this.name))for(var e=function e(s){return function(t,e){var i=t;if(e&&-1<["locator","locator-extra","first-reference-note-number","locator-date"].indexOf(s)&&(i=e),"hereinafter"===s&&n.sys.getAbbreviation&&i.id){if(n.transform.abbrevs["default"].hereinafter[i.id])return!0}else if(i[s]){if("number"==typeof i[s]||"string"==typeof i[s])return!0;if("object"===$(i[s]))for(var r in i[s])if(i[s][r])return!0}return!1}},i=0,r=this.variables.length;i<r;i+=1)this.tests.push(e(this.variables[i]))},Tt.Attributes["@page"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.replace("sub verbo","sub-verbo"),s=function s(i){return function(t){var e;return r.processNumber(!1,t,"page",t.type),e=r.tmp.shadow_numbers.page.label?"sub verbo"===r.tmp.shadow_numbers.page.label?"sub-verbo":r.tmp.shadow_numbers.page.label:"page",i===e}},i=0,n=(e=e.split(/\s+/)).length;i<n;i+=1)this.tests.push(s(e[i]))},Tt.Attributes["@number"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),s=function s(i){return function(t){var e;return r.processNumber(!1,t,"number",t.type),e=r.tmp.shadow_numbers.number.label?r.tmp.shadow_numbers.number.label:"number",i===e}},i=0,n=e.length;i<n;i+=1)this.tests.push(s(e[i]))},Tt.Attributes["@jurisdiction"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=0,s=i.length;r<s;r+=1)i[r]=i[r].split(":");var n=function n(s){return function(t){if(!t.jurisdiction)return!1;for(var e=t.jurisdiction.split(":"),i=0,r=e.length;i<r;i+=1)e[i]=e[i].split(":");for(i=s.length;0<i;i+=-1){if(s.slice(0,i).join(":")!==e.slice(0,i).join(":"))return!1}return!0}};for(r=0,s=i.length;r<s;r+=1){var a=i[r].slice();this.tests.push(n(a))}},Tt.Attributes["@context"]=function(t,e){this.tests||(this.tests=[]);var i=function i(){return-1<["bibliography","citation"].indexOf(e)?t.tmp.area.slice(0,e.length)===e:"alternative"===e?!!t.tmp.abort_alternative:void 0};this.tests.push(i)},Tt.Attributes["@has-year-only"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(i){return function(t){var e=t[i];return!(!e||e.month||e.season)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},Tt.Attributes["@has-to-month-or-season"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(i){return function(t){var e=t[i];return!(!e||!e.month&&!e.season||e.day)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},Tt.Attributes["@has-day"]=function(t,e){this.tests||(this.tests=[]);for(var i=e.split(/\s+/),r=function r(i){return function(t){var e=t[i];return!(!e||!e.day)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},Tt.Attributes["@subjurisdictions"]=function(t,e){this.tests||(this.tests=[]);var i=parseInt(e,10),r=function r(t){var e=0;return t.jurisdiction&&(e=t.jurisdiction.split(":").length),e&&(e+=-1),i<=e};this.tests.push(r)},Tt.Attributes["@is-plural"]=function(o,l){this.tests||(this.tests=[]);var u=function u(t){var e=t[l];if(e&&e.length){for(var i=0,r=0,s=!1,n=0,a=e.length;n<a;n+=1)s=o.opt.development_extensions.spoof_institutional_affiliations&&(e[n].literal||e[n].isInstitution&&e[n].family&&!e[n].given)?(r+=1,!1):(i+=1,!0);if(1<i)return!0;if(1<r)return!0;if(r&&s)return!0}return!1};this.tests.push(u)},Tt.Attributes["@locale"]=function(o,t){var e,i,r;this.tests||(this.tests=[]);var s=o.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=t,this.tokentype===Tt.START){o.opt.multi_layout||(o.opt.multi_layout=[]);var n=[],a=t.split(/\s+/),l={},u=Tt.localeResolve(a[0],s);n.push(u),u.generic?l[u.generic]=u.best:l[u.best]=u.best;for(var p=1,c=a.length;p<c;p+=1){var h=Tt.localeResolve(a[p],s);n.push(h),h.generic?l[h.generic]=u.best:l[h.best]=u.best}o[o.build.area].opt.sort_locales.push(l),o.opt.multi_layout.push(n)}o.opt.has_layout_locale=!0}else{r=t.split(/\s+/);var f=[];for(p=0,c=r.length;p<c;p+=1)i=r[p],e=Tt.localeResolve(i,s),2===r[p].length&&f.push(e.bare),o.localeConfigure(e,!0),r[p]=e;var m=r.slice(),d=function d(s,n,a){return function(t){var e,i,r=e=![];for(i=t.language?t.language:n,r=Tt.localeResolve(i,n),p=0,c=s.length;p<c;p+=1)if(r.best===s[p].best){o.tmp.condition_lang_counter_arr.push(o.tmp.condition_counter),o.tmp.condition_lang_val_arr.push(o.opt.lang),o.opt.lang=s[0].best,e=!0;break}return!e&&-1<a.indexOf(r.bare)&&(o.tmp.condition_lang_counter_arr.push(o.tmp.condition_counter),o.tmp.condition_lang_val_arr.push(o.opt.lang),o.opt.lang=s[0].best,e=!0),e}};this.tests.push(d(m,s,f))}},Tt.Attributes["@authority-residue"]=function(i,t){this.tests||(this.tests=[]);var r=function r(){var e="true"===t;return function(t){return t.authority&&t.authority[0]&&t.authority[0].family&&0<t.authority[0].family.split("|").length+i.tmp.authority_stop_last?e:!e}};this.tests.push(r())},Tt.Attributes["@alternative-node-internal"]=function(t){this.tests||(this.tests=[]);var e=function e(){return function(){return!t.tmp.abort_alternative}};this.tests.push(e(this))},Tt.Attributes["@locale-internal"]=function(s,t){var e,n,i,a,o;for(this.tests||(this.tests=[]),i=t.split(/\s+/),this.locale_bares=[],a=0,o=i.length;a<o;a+=1)n=i[a],e=Tt.localeResolve(n,s.opt["default-locale"][0]),2===i[a].length&&this.locale_bares.push(e.bare),s.localeConfigure(e),i[a]=e;this.locale_default=s.opt["default-locale"][0],this.locale=i[0].best,this.locale_list=i.slice();var l=function l(r){return function(t){var e,i=e=![];if(t.language&&(n=t.language,(i=Tt.localeResolve(n,s.opt["default-locale"][0])).best===s.opt["default-locale"][0]&&(i=!1)),i){for(a=0,o=r.locale_list.length;a<o;a+=1)if(i.best===r.locale_list[a].best){s.opt.lang=r.locale,s.tmp.last_cite_locale=r.locale,s.output.openLevel("empty"),s.output.current.value().new_locale=r.locale,e=!0;break}!e&&-1<r.locale_bares.indexOf(i.bare)&&(s.opt.lang=r.locale,s.tmp.last_cite_locale=r.locale,s.output.openLevel("empty"),s.output.current.value().new_locale=r.locale,e=!0)}return e}};this.tests.push(l(this))},Tt.Attributes["@is-parallel"]=function(t,e){for(var i=e.split(" "),r=0,s=i.length;r<s;r+=1)"true"===i[r]?i[r]=!0:"false"===i[r]&&(i[r]=!1);this.strings.set_parallel_condition=i},Tt.Attributes["@jurisdiction-depth"]=function(t,e){this.strings.jurisdiction_depth=parseInt(e,10)},Tt.Attributes["@require"]=function(t,e){this.strings.require=e},Tt.Attributes["@reject"]=function(t,e){this.strings.reject=e},Tt.Attributes["@gender"]=function(t,e){this.gender=e},Tt.Attributes["@cslid"]=function(t,e){this.cslid=parseInt(e,10)},Tt.Attributes["@capitalize-if-first"]=function(t,e){this.strings.capitalize_if_first_override=e},Tt.Attributes["@label-capitalize-if-first"]=function(t,e){this.strings.label_capitalize_if_first_override=e},Tt.Attributes["@label-form"]=function(t,e){this.strings.label_form_override=e},Tt.Attributes["@part-separator"]=function(t,e){this.strings["part-separator"]=e},Tt.Attributes["@leading-noise-words"]=function(t,e){this["leading-noise-words"]=e},Tt.Attributes["@name-never-short"]=function(t,e){this["name-never-short"]=e},Tt.Attributes["@class"]=function(t,e){t.opt["class"]=e},Tt.Attributes["@version"]=function(t,e){t.opt.version=e},Tt.Attributes["@value"]=function(t,e){this.strings.value=e},Tt.Attributes["@name"]=function(t,e){this.strings.name=e},Tt.Attributes["@form"]=function(t,e){this.strings.form=e},Tt.Attributes["@date-parts"]=function(t,e){this.strings["date-parts"]=e},Tt.Attributes["@range-delimiter"]=function(t,e){this.strings["range-delimiter"]=e},Tt.Attributes["@macro"]=function(t,e){this.postponed_macro=e},Tt.Attributes["@term"]=function(t,e){this.strings.term="sub verbo"===e?"sub-verbo":e},Tt.Attributes["@xmlns"]=function(){},Tt.Attributes["@lang"]=function(t,e){e&&(t.build.lang=e)},Tt.Attributes["@lingo"]=function(){},Tt.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},Tt.Attributes["@suffix"]=function(t,e){this.strings.suffix=e},Tt.Attributes["@prefix"]=function(t,e){this.strings.prefix=e},Tt.Attributes["@delimiter"]=function(t,e){this.strings.delimiter=e},Tt.Attributes["@match"]=function(t,e){this.match=e},Tt.Attributes["@names-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),this.strings["et-al-min"]=i},Tt.Attributes["@names-use-first"]=function(t,e){this.strings["et-al-use-first"]=parseInt(e,10)},Tt.Attributes["@names-use-last"]=function(t,e){this.strings["et-al-use-last"]="true"===e},Tt.Attributes["@sort"]=function(t,e){"descending"===e&&(this.strings.sort_direction=Tt.DESCENDING)},Tt.Attributes["@plural"]=function(t,e){"always"===e||"true"===e?this.strings.plural=1:"never"===e||"false"===e?this.strings.plural=0:"contextual"===e&&(this.strings.plural=!1)},Tt.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},Tt.Attributes["@publisher-delimiter-precedes-last"]=function(t,e){this.strings["publisher-delimiter-precedes-last"]=e},Tt.Attributes["@publisher-delimiter"]=function(t,e){this.strings["publisher-delimiter"]=e},Tt.Attributes["@publisher-and"]=function(t,e){this.strings["publisher-and"]=e},Tt.Attributes["@newdate"]=function(){},Tt.Attributes["@givenname-disambiguation-rule"]=function(t,e){-1<Tt.GIVENNAME_DISAMBIGUATION_RULES.indexOf(e)&&(t.citation.opt["givenname-disambiguation-rule"]=e)},Tt.Attributes["@collapse"]=function(t,e){e&&(t[this.name].opt.collapse=e)},Tt.Attributes["@cite-group-delimiter"]=function(t,e){e&&(t[t.tmp.area].opt.cite_group_delimiter=e)},Tt.Attributes["@names-delimiter"]=function(t,e){t.setOpt(this,"names-delimiter",e)},Tt.Attributes["@name-form"]=function(t,e){t.setOpt(this,"name-form",e)},Tt.Attributes["@subgroup-delimiter"]=function(t,e){this.strings["subgroup-delimiter"]=e},Tt.Attributes["@subgroup-delimiter-precedes-last"]=function(t,e){this.strings["subgroup-delimiter-precedes-last"]=e},Tt.Attributes["@name-delimiter"]=function(t,e){t.setOpt(this,"name-delimiter",e)},Tt.Attributes["@et-al-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-min",i)},Tt.Attributes["@et-al-use-first"]=function(t,e){t.setOpt(this,"et-al-use-first",parseInt(e,10))},Tt.Attributes["@et-al-use-last"]=function(t,e){"true"===e?t.setOpt(this,"et-al-use-last",!0):t.setOpt(this,"et-al-use-last",!1)},Tt.Attributes["@et-al-subsequent-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-subsequent-min",i)},Tt.Attributes["@et-al-subsequent-use-first"]=function(t,e){t.setOpt(this,"et-al-subsequent-use-first",parseInt(e,10))},Tt.Attributes["@suppress-min"]=function(t,e){this.strings["suppress-min"]=parseInt(e,10)},Tt.Attributes["@suppress-max"]=function(t,e){this.strings["suppress-max"]=parseInt(e,10)},Tt.Attributes["@and"]=function(t,e){t.setOpt(this,"and",e)},Tt.Attributes["@delimiter-precedes-last"]=function(t,e){t.setOpt(this,"delimiter-precedes-last",e)},Tt.Attributes["@delimiter-precedes-et-al"]=function(t,e){t.setOpt(this,"delimiter-precedes-et-al",e)},Tt.Attributes["@initialize-with"]=function(t,e){t.setOpt(this,"initialize-with",e)},Tt.Attributes["@initialize"]=function(t,e){"false"===e&&t.setOpt(this,"initialize",!1)},Tt.Attributes["@name-as-reverse-order"]=function(t,e){this["name-as-reverse-order"]=e},Tt.Attributes["@name-as-sort-order"]=function(t,e){"style-options"===this.name?this["name-as-sort-order"]=e:t.setOpt(this,"name-as-sort-order",e)},Tt.Attributes["@sort-separator"]=function(t,e){t.setOpt(this,"sort-separator",e)},Tt.Attributes["@require-match"]=function(t,e){"true"===e&&(this.requireMatch=!0)},Tt.Attributes["@exclude-types"]=function(t,e){t.bibliography.opt.exclude_types=e.split(/\s+/)},Tt.Attributes["@exclude-with-fields"]=function(t,e){t.bibliography.opt.exclude_with_fields=e.split(/\s+/)},Tt.Attributes["@year-suffix-delimiter"]=function(t,e){t[this.name].opt["year-suffix-delimiter"]=e},Tt.Attributes["@after-collapse-delimiter"]=function(t,e){t[this.name].opt["after-collapse-delimiter"]=e},Tt.Attributes["@subsequent-author-substitute"]=function(t,e){t[this.name].opt["subsequent-author-substitute"]=e},Tt.Attributes["@subsequent-author-substitute-rule"]=function(t,e){t[this.name].opt["subsequent-author-substitute-rule"]=e},Tt.Attributes["@disambiguate-add-names"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-names"]=!0)},Tt.Attributes["@disambiguate-add-givenname"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-givenname"]=!0)},Tt.Attributes["@disambiguate-add-year-suffix"]=function(t,e){"true"===e&&"numeric"!==t.opt.xclass&&(t.opt["disambiguate-add-year-suffix"]=!0)},Tt.Attributes["@second-field-align"]=function(t,e){"flush"!==e&&"margin"!==e||(t[this.name].opt["second-field-align"]=e)},Tt.Attributes["@hanging-indent"]=function(t,e){"true"===e&&(t.opt.development_extensions.hanging_indent_legacy_number?t[this.name].opt.hangingindent=2:t[this.name].opt.hangingindent=!0)},Tt.Attributes["@line-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["line-spacing"]=parseFloat(e,10))},Tt.Attributes["@entry-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["entry-spacing"]=parseFloat(e,10))},Tt.Attributes["@near-note-distance"]=function(t,e){t[this.name].opt["near-note-distance"]=parseInt(e,10)},Tt.Attributes["@text-case"]=function(t,i){var r=function r(t,e){"normal"===i?this.text_case_normal=!0:"title"===(this.strings["text-case"]=i)&&e.jurisdiction&&(this.strings["text-case"]="passthrough")};this.execs.push(r)},Tt.Attributes["@page-range-format"]=function(t,e){t.opt["page-range-format"]=e},Tt.Attributes["@year-range-format"]=function(t,e){t.opt["year-range-format"]=e},Tt.Attributes["@default-locale"]=function(t,e){if("style"===this.name){var i,r,s,n,a;if(a=e.match(/-x-(sort|translit|translat)-/g))for(s=0,r=a.length;s<r;s+=1)a[s]=a[s].replace(/^-x-/,"").replace(/-$/,"");for(n=[(i=e.split(/-x-(?:sort|translit|translat)-/))[0]],s=1,r=i.length;s<r;s+=1)n.push(a[s-1]),n.push(i[s]);for(r=(i=n.slice()).length,s=1;s<r;s+=2)t.opt["locale-"+i[s]].push(i[s+1].replace(/^\s*/g,"").replace(/\s*$/g,""));i.length?t.opt["default-locale"]=i.slice(0,1):t.opt["default-locale"]=["en"]}else"true"===e&&(this.default_locale=!0)},Tt.Attributes["@default-locale-sort"]=function(t,e){t.opt["default-locale-sort"]=e},Tt.Attributes["@demote-non-dropping-particle"]=function(t,e){t.opt["demote-non-dropping-particle"]=e},Tt.Attributes["@initialize-with-hyphen"]=function(t,e){"false"===e&&(t.opt["initialize-with-hyphen"]=!1)},Tt.Attributes["@institution-parts"]=function(t,e){this.strings["institution-parts"]=e},Tt.Attributes["@if-short"]=function(t,e){"true"===e&&(this.strings["if-short"]=!0)},Tt.Attributes["@substitute-use-first"]=function(t,e){this.strings["substitute-use-first"]=parseInt(e,10)},Tt.Attributes["@use-first"]=function(t,e){this.strings["use-first"]=parseInt(e,10)},Tt.Attributes["@stop-last"]=function(t,e){this.strings["stop-last"]=-1*parseInt(e,10)},Tt.Attributes["@use-last"]=function(t,e){this.strings["use-last"]=parseInt(e,10)},Tt.Attributes["@reverse-order"]=function(t,e){"true"===e&&(this.strings["reverse-order"]=!0)},Tt.Attributes["@display"]=function(t,e){2===t.bibliography.tokens.length&&(t.opt.using_display=!0),this.strings.cls=e},Tt.Stack=function(t,e){this.mystack=[],(e||t)&&this.mystack.push(t),this.tip=this.mystack[0]},Tt.Stack.prototype.push=function(t,e){e||t?this.mystack.push(t):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},Tt.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},Tt.Stack.prototype.replace=function(t,e){if(0===this.mystack.length)throw"Internal CSL processor error: attempt to replace nonexistent stack item with "+t;this.mystack[this.mystack.length-1]=e||t?t:"",this.tip=this.mystack[this.mystack.length-1]},Tt.Stack.prototype.pop=function(){var t=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},t},Tt.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},Tt.Stack.prototype.length=function(){return this.mystack.length},Tt.Parallel=function(t){this.state=t,this.sets=new Tt.Stack([]),this.try_cite=!0,this.use_parallels=!1,this.midVars=["section","volume","container-title","collection-number","issue","page-first","page","number"],this.ignoreVarsLawGeneral=["first-reference-note-number","locator","label","page-first","page","genre"],this.ignoreVarsLawProceduralHistory=["issued","first-reference-note-number","locator","label","page-first","page","genre","jurisdiction"],this.ignoreVarsOrders=["first-reference-note-number"],this.ignoreVarsOther=["first-reference-note-number","locator","label","section","page-first","page"]},Tt.Parallel.prototype.isMid=function(t){return-1<this.midVars.indexOf(t)},Tt.Parallel.prototype.StartCitation=function(t,e){this.parallel_conditional_blobs_list=[],this.use_parallels&&(this.sortedItems=t,this.sortedItemsPos=-1,this.sets.clear(),this.sets.push([]),this.in_series=!0,this.delim_counter=0,this.delim_pointers=[],this.out=e||this.state.output.queue,this.master_was_neutral_cite=!0)},Tt.Parallel.prototype.StartCite=function(t,e,i){var r,s,n,a,o,l;if(this.use_parallels){this.sets.value().length&&this.sets.value()[0].itemId==t.id&&this.ComposeSet(),this.sortedItemsPos+=1,e&&(r=e.position);for(var u=!(this.try_cite=!0),p=0,c=Tt.PARALLEL_MATCH_VARS.length;p<c;p+=1)if(t[Tt.PARALLEL_MATCH_VARS[p]]){u=!0;break}var h=!0,f=this.sets.value().slice(-1)[0];if(f&&f.Item){var m=f.Item.jurisdiction?f.Item.jurisdiction.split(":")[0]:"",d=t.jurisdiction?t.jurisdiction.split(":")[0]:"";f.Item.title!==t.title?h=!1:m!==d?h=!1:f.Item.type!==t.type?h=!1:-1<["article-journal","article-magazine"].indexOf(t.type)&&(this.state.opt.development_extensions.handle_parallel_articles&&f.Item["container-title"]===t["container-title"]||(h=!1))}if(h&&u&&-1!==Tt.PARALLEL_TYPES.indexOf(t.type)||(this.try_cite=!0,this.in_series&&(this.in_series=!1)),this.cite={},this.cite.front=[],this.cite.mid=[],this.cite.back=[],this.cite.front_collapse={},this.cite.back_forceme=[],this.cite.position=r,this.cite.Item=t,this.cite.itemId=""+t.id,this.cite.prevItemID=""+i,this.target="front",-1<["treaty"].indexOf(t.type))this.ignoreVars=this.ignoreVarsOrders;else if(-1<["article-journal","article-magazine"].indexOf(t.type))this.ignoreVars=this.ignoreVarsOther;else if(e&&e.prefix){this.ignoreVars=this.ignoreVarsLawProceduralHistory,this.cite.useProceduralHistory=!0;var g=this.sets.value()[this.sets.value().length-1];if(g&&g.back)for(p=g.back.length-1;-1<p;p+=-1)g.back[p]&&g[g.back[p]]&&delete g[g.back[p]]}else this.ignoreVars=this.ignoreVarsLawGeneral;if(this.sortedItems&&0<this.sortedItemsPos&&this.sortedItemsPos<this.sortedItems.length){if(n=this.sortedItems[this.sortedItemsPos][1],a=""+this.sortedItems[this.sortedItemsPos-1][1].id,o=!1,this.state.registry.registry[a].parallel==n.id){for(s=this.sortedItemsPos-1;-1<s;s+=-1)if(this.sortedItems[s][1].id==t.id){o=this.sortedItems[s][1].locator;break}l=this.sortedItems[this.sortedItemsPos][1].locator,n.position=!o&&l?Tt.POSITION_IBID_WITH_LOCATOR:l===o?Tt.POSITION_IBID:Tt.POSITION_IBID_WITH_LOCATOR}}else{if(!this.state.registry.registry[t.id])return this.try_cite=!1,void(this.force_collapse=!1);this.state.registry.registry[t.id].parallel=!1}this.force_collapse=!1,this.state.registry.registry[t.id].parallel&&(this.force_collapse=!0)}},Tt.Parallel.prototype.StartVariable=function(t,e){if(this.use_parallels&&(this.try_cite||this.force_collapse)){if(this.variable="names"===t?t+":"+this.target:t,-1<this.ignoreVars.indexOf(t))return;"container-title"===t&&0===this.sets.value().length&&(this.master_was_neutral_cite=!1),this.data={},this.data.value="",this.data.blobs=[];var i=this.isMid(t);if("authority"===e&&"names:front"===this.variable&&this.sets.value().length){var r=this.sets.value()[this.sets.value().length-1].Item,s=!1;this.cite.Item.authority&&this.cite.Item.authority.length&&(s=this.cite.Item.authority[0].literal);var n=!1;r.authority&&r.authority.length&&(n=r.authority[0].literal),s!==n&&(this.try_cite=!0,this.in_series=!1)}else"front"===this.target&&i?this.target="mid":"mid"===this.target&&!i&&this.cite.Item.title&&"names"!==t?this.target="back":"back"===this.target&&i&&(this.try_cite=!0,this.in_series=!1);"number"===t?this.cite.front.push(this.variable):-1<Tt.PARALLEL_COLLAPSING_MID_VARSET.indexOf(t)?-1<["article-journal","article-magazine"].indexOf(this.cite.Item.type)?this.cite.mid.push(this.variable):this.cite.front.push(this.variable):this.cite[this.target].push(this.variable)}},Tt.Parallel.prototype.AppendBlobPointer=function(t){if(this.use_parallels){if(-1<this.ignoreVars.indexOf(this.variable))return;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(-1<["article-journal","article-magazine"].indexOf(this.cite.Item.type)){if(-1<["volume","page","page-first","issue"].indexOf(this.variable))return;if("container-title"===this.variable&&1<this.cite.mid.length)return}this.variable&&(this.try_cite||this.force_collapse)&&t&&t.blobs&&(this.cite.useProceduralHistory&&"back"===this.target||this.data.blobs.push([t,t.blobs.length]))}}},Tt.Parallel.prototype.AppendToVariable=function(t){if(this.use_parallels){if(-1<this.ignoreVars.indexOf(this.variable))return;if(this.try_cite||this.force_collapse)this.target,this.data.value+="::"+t}},Tt.Parallel.prototype.CloseVariable=function(){if(this.use_parallels){if(-1<this.ignoreVars.indexOf(this.variable))return;if((this.try_cite||this.force_collapse)&&(this.cite[this.variable]=this.data,0<this.sets.value().length)){var t=this.sets.value()[this.sets.value().length-1];"front"===this.target&&"issued"===this.variable&&this.data.value&&this.master_was_neutral_cite&&(this.target="mid"),"front"===this.target?!t[this.variable]&&!this.data.value||t[this.variable]&&this.data.value===t[this.variable].value||"issued"!==this.variable&&(this.in_series=!1):"mid"===this.target?-1<Tt.PARALLEL_COLLAPSING_MID_VARSET.indexOf(this.variable)&&(t[this.variable]&&t[this.variable].value===this.data.value?this.cite.front_collapse[this.variable]=!0:this.cite.front_collapse[this.variable]=!1):"back"===this.target&&t[this.variable]&&this.data.value!==t[this.variable].value&&-1===this.sets.value().slice(-1)[0].back_forceme.indexOf(this.variable)&&(this.in_series=!1)}this.variable=!1}},Tt.Parallel.prototype.CloseCite=function(){var t,e,i,r,s,n;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(i=!1,this.cite.front_collapse["container-title"]||(i=!0),!1===this.cite.front_collapse.volume&&(i=!0),!1===this.cite.front_collapse["collection-number"]&&(i=!0),!1===this.cite.front_collapse.section&&(i=!0),i){this.cite.use_journal_info=!0,-1<(n=this.cite.front.indexOf("section"))&&(this.cite.front=this.cite.front.slice(0,n).concat(this.cite.front.slice(n+1))),-1<(r=this.cite.front.indexOf("volume"))&&(this.cite.front=this.cite.front.slice(0,r).concat(this.cite.front.slice(r+1))),-1<(s=this.cite.front.indexOf("container-title"))&&(this.cite.front=this.cite.front.slice(0,s).concat(this.cite.front.slice(s+1)));var a=this.cite.front.indexOf("collection-number");-1<a&&(this.cite.front=this.cite.front.slice(0,a).concat(this.cite.front.slice(a+1)))}if(this.in_series||this.force_collapse||this.ComposeSet(!0),0===this.sets.value().length){var o=!1;for(t=0,e=this.cite.back.length;t<e;t+=1)if("issued"===this.cite.back[t]&&this.cite.issued&&this.cite.issued.value){o=!0;break}o||this.cite.back_forceme.push("issued")}else{var l=this.cite.front.indexOf("issued");if(-1!==l&&!this.master_was_neutral_cite||(this.cite.back_forceme=this.sets.value().slice(-1)[0].back_forceme),-1<l)this.sets.value()[this.sets.value().length-1].issued||(this.cite.front=this.cite.front.slice(0,l).concat(this.cite.front.slice(l+1)));this.master_was_neutral_cite&&-1<this.cite.mid.indexOf("names:mid")&&this.cite.front.push("names:mid")}this.sets.value().push(this.cite)}},Tt.Parallel.prototype.ComposeSet=function(){var t,e,i;if(this.use_parallels&&(this.force_collapse||this.try_cite)){var r=this.sets.value().length;if(1===this.sets.value().length)this.in_series||(this.sets.value().pop(),this.delim_counter+=1);else{for(i=this.sets.value().length,e=0;e<i;e+=1)t=this.sets.value()[e],0===e||(!t.Item.title&&t.use_journal_info?this.delim_pointers.push(!1):this.delim_pointers.push(this.delim_counter)),this.delim_counter+=1,Tt.POSITION_FIRST===t.position&&(0===e?(this.state.registry.registry[t.itemId].master=!0,this.state.registry.registry[t.itemId].siblings=[],this.state.registry.registry[t.itemId].parallel=!1):t.prevItemID&&(this.state.registry.registry[t.prevItemID].parallel?this.state.registry.registry[t.itemId].parallel=this.state.registry.registry[t.prevItemID].parallel:this.state.registry.registry[t.itemId].parallel=t.prevItemID,this.state.registry.registry[t.itemId].siblings=this.state.registry.registry[t.prevItemID].siblings,this.state.registry.registry[t.itemId].siblings||(this.state.registry.registry[t.itemId].siblings=[],Tt.debug("WARNING: adding missing siblings array to registry object")),this.state.registry.registry[t.itemId].siblings.push(t.itemId)));this.sets.push([])}r<2?this.purgeGroupsIfParallel(!1):this.purgeGroupsIfParallel(!0),this.in_series=!0}},Tt.Parallel.prototype.PruneOutputQueue=function(){var t,e,i,r,s,n;if(this.use_parallels)for(t=this.sets.mystack.length,e=0;e<t;e+=1)if(1<(i=this.sets.mystack[e]).length)for(s=i.length,r=0;r<s;r+=1)n=i[r],0===r?this.purgeVariableBlobs(n,n.back):r===i.length-1?this.purgeVariableBlobs(n,n.front.concat(n.back_forceme)):this.purgeVariableBlobs(n,n.front.concat(n.back))},Tt.Parallel.prototype.purgeVariableBlobs=function(t,e){var i,r,s,n,a,o;if(this.use_parallels){for("undefined"==typeof(o=this.state.output.current.value()).length&&(o=o.blobs),r=0,i=this.delim_pointers.length;r<i;r+=1)!1!==(a=this.delim_pointers[r])&&(o[a].parallel_delimiter=", ");for(r=i=e.length-1;-1<r;r+=-1)if(t[s=e[r]])for(a=t[s].blobs.length-1;-1<a;a+=-1)(n=t[s].blobs[a])[0].blobs=n[0].blobs.slice(0,n[1]).concat(n[0].blobs.slice(n[1]+1)),this.state.tmp.has_purged_parallel=!0,n[0]&&n[0].strings&&"string"==typeof n[0].strings.oops&&n[0].parent&&n[0].parent&&(n[0].parent.parent.strings.delimiter=n[0].strings.oops)}},Tt.Parallel.prototype.purgeGroupsIfParallel=function(t){for(var e=this.parallel_conditional_blobs_list.length-1;-1<e;e+=-1){for(var i=this.parallel_conditional_blobs_list[e],r=!0,s=0,n=i.conditions.length;s<n;s+=1)if(!i.conditions[s]!=!!t&&("master"!==i.conditions[s]||this.state.registry.registry[i.id].master)&&("servant"!==i.conditions[s]||this.state.registry.registry[i.id].parallel)){r=!1;break}if(r){for(var a=[];i.blobs.length>i.pos;)a.push(i.blobs.pop());for(a.length&&a.pop();a.length;)i.blobs.push(a.pop())}this.parallel_conditional_blobs_list.pop()}},Tt.Util={},Tt.Util.Match=function(){this.any=function(t,e,s){return function(t,e){for(var i=0,r=s.length;i<r;i+=1){if(s[i](t,e))return!0}return!1}},this.none=function(t,e,s){return function(t,e){for(var i=0,r=s.length;i<r;i+=1){if(s[i](t,e))return!1}return!0}},this.all=function(t,e,s){return function(t,e){for(var i=0,r=s.length;i<r;i+=1){if(!s[i](t,e))return!1}return!0}},this[undefined]=this.all,this.nand=function(t,e,s){return function(t,e){for(var i=0,r=s.length;i<r;i+=1){if(!s[i](t,e))return!0}return!1}}},Tt.Transform=function(N){function d(t,e,i){var r="";return N.sys.getHumanForm&&("country"===t?r=(r=N.sys.getHumanForm(e.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===t&&(r=N.sys.getHumanForm(e.toLowerCase(),!1,!0),r=i?"":r.split("|").slice(1).join(", "))),r}function Q(t,e,i,r,s,n,a){var o,l="",u=Tt.FIELD_CATEGORY_REMAP[n];if(!u)return s;var p=n,c=s;t.sys.normalizeAbbrevsKey&&(c=t.sys.normalizeAbbrevsKey(n,s));var h=!1;if("jurisdiction"===p&&c&&(h=-1===c.indexOf(":")),t.sys.getAbbreviation){o=-1<["jurisdiction","country","language-name","language-name-original"].indexOf(p)?"default":i.jurisdiction?i.jurisdiction:"default";var f=t.transform.loadAbbreviation(o,u,c,i.type);if(t.transform.abbrevs[f][u]&&c){var m=t.transform.abbrevs[f][u][c];l="short"===e.strings.form&&m?h?"":m:d(p,c,h)}}return l||t.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===i.type||!r||!i[r]||!a||(l=i[r]),l||t.sys.getAbbreviation||!t.sys.getHumanForm||(l=d(p,c,h)),l||h||t.sys.getHumanForm&&"jurisdiction"===p||(l=s),l}function O(t,e){var i,r=N.opt["default-locale"][0].slice(0,2);if(i=N.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),t.language){var s=(""+t.language).match(i);r=s?s[1]:"tlh"}return t.multi&&t.multi&&t.multi.main&&t.multi.main[e]&&(r=t.multi.main[e]),N.opt.development_extensions.strict_text_case_locales&&!N.opt.development_extensions.normalize_lang_keys_to_lowercase||(r=r.toLowerCase()),r}function j(t,e,i,r,s,n){var a,o,l,u=s,p=!1;if(!t[e])return{name:"",usedOrig:s,token:Tt.Util.cloneToken(this)};var c=!1;-1<Tt.VARIABLES_WITH_SHORT_FORM.indexOf(e)&&n&&(e+="-short",c=!0);var h=!1,f=null,m=[];"-short"===e.slice(-6)?(m.push(e),m.push(e.slice(0,-6))):m.push(e);for(var d=0,g=m.length;d<g;d++){var b=!1;v={name:"",usedOrig:s,locale:O(t,e=m[d])},l=N.opt[i];var y=!1;if("locale-orig"===i)v=s?{name:"",usedOrig:s}:{name:t[e],usedOrig:!1,locale:O(t,e)},p=y=!0;else if(r&&(void 0===l||0===l.length)){var v={name:t[e],usedOrig:!0,locale:O(t,e)};p=y=!0}if(!y){for(var _=0,x=l.length;_<x;_+=1){if(o=(a=l[_]).split(/[\-_]/)[0],a&&t.multi&&t.multi._keys[e]&&t.multi._keys[e][a]){v.name=t.multi._keys[e][a],v.locale=a,p=!(b=y=!0);break}if(o&&t.multi&&t.multi._keys[e]&&t.multi._keys[e][o]){v.name=t.multi._keys[e][o],v.locale=o,p=!(b=y=!0);break}}!v.name&&r&&(v={name:t[e],usedOrig:!0,locale:O(t,e)},p=!0)}if(v.token=Tt.Util.cloneToken(this),0===d?(b&&(v.found_variant_ok=!0),f=v,c||void 0!==l&&0!==l.length||(h=!0),b&&(h=!0)):c||b||!f?b&&(v.found_variant_ok=!0):(v=f,e=m[0]),-1<["title","container-title"].indexOf(e)&&!(u||v.token.strings["text-case"]&&"sentence"!==v.token.strings["text-case"]&&"normal"!==v.token.strings["text-case"])){var w;N.opt.lang;w=!p&&v.locale;var A=e.slice(0,-5),E="sentence"===v.token.strings["text-case"];v.name=Tt.titlecaseSentenceOrNormal(N,t,A,w,E),delete v.token.strings["text-case"]}if(h)break}return v}function C(t){var e=t.match(/^!([-,_a-z]+)>>>/);if(e){var i=e[1].split(",");t=t.slice(e[0].length);for(var r=0,s=i.length;r<s;r+=1)-1===N.tmp.done_vars.indexOf(i[r])&&N.tmp.done_vars.push(i[r])}return t}this.abbrevs={},this.abbrevs["default"]=new N.sys.AbbreviationSegments,this.getTextSubField=j,this.loadAbbreviation=function s(t,e,i,r){return t=t||"default",i?N.sys.getAbbreviation&&(t=(t=N.sys.getAbbreviation(N.opt.styleID,N.transform.abbrevs,t,e,i,r,!0))||"default"):(N.transform.abbrevs[t]||(N.transform.abbrevs[t]=new N.sys.AbbreviationSegments),N.transform.abbrevs[t][e]||(N.transform.abbrevs[t][e]={})),t},this.quashCheck=C,this.getOutputFunction=function e(O,T,t,S){var I,k=Tt.LangPrefsMap[O[0]];return I=!!k&&N.opt["cite-lang-prefs"][k],function(t,e,i){var r,s,n,a,o,l;if(!O[0]||!e[O[0]]&&!e[S])return null;if(!t.tmp.just_looking&&i&&i["suppress-author"]&&!t.tmp.probably_rendered_something&&1<t.tmp.can_substitute.length())return null;var u={primary:!1,secondary:!1,tertiary:!1};if("_sort"===t.tmp.area.slice(-5))u.primary="locale-sort";else if(I&&1===I.length&&"locale-orig"===I[0])u.primary="locale-orig",I=!1;else if(I&&!t.tmp.multi_layout)for(var p=["primary","secondary","tertiary"],c=0,h=p.length;c<h&&!(I.length-1<c);c+=1)I[c]&&(u[p[c]]="locale-"+I[c]);else u.primary="locale-orig";if("title-short"!==O[0]&&("bibliography"===t.tmp.area||"citation"===t.tmp.area&&"note"===t.opt.xclass&&i&&!i.position)||(u.secondary=!1,u.tertiary=!1),t.tmp.multi_layout&&(u.secondary=!1,u.tertiary=!1),t.tmp["publisher-list"])return"publisher"===O[0]?t.tmp["publisher-token"]=this:"publisher-place"===O[0]&&(t.tmp["publisher-place-token"]=this),null;var f=j.call(this,e,O[0],u.primary,!0,null,T);r=f.name,s=f.locale;var m,d,g,b=f.token,y=f.usedOrig;if(T&&!f.found_variant_ok&&(r=(r=Q(t,b,e,S,r,T,!0))&&C(r)),function E(t,e,i,r){var s=t.variables[0];if(N.publisherOutput&&i){if(-1===["publisher","publisher-place"].indexOf(s))return!1;N.publisherOutput[s+"-token"]=t,N.publisherOutput.varlist.push(s);var n=i.split(/;\s*/);n.length===N.publisherOutput[s+"-list"].length&&(N.publisherOutput[s+"-list"]=n);for(var a=0,o=n.length;a<o;a+=1)n[a]=Q(N,t,e,!1,n[a],r,!0);return N.tmp[s+"-token"]=t,!0}return!1}(this,e,r,T))return null;if(o=n=!1,u.secondary&&(n=(f=j.call(this,e,O[0],u.secondary,!1,f.usedOrig,null,T)).name,a=f.locale,m=f.token,T&&!f.found_variant_ok&&(n=n&&Q(t,m,e,!1,n,T,!0))),u.tertiary&&(o=(f=j.call(this,e,O[0],u.tertiary,!1,f.usedOrig,null,T)).name,l=f.locale,d=f.token,T&&!f.found_variant_ok&&(o=o&&Q(t,d,e,!1,o,T,!0))),"locale-translit"===u.primary&&(g=t.opt.citeAffixes[k][u.primary].prefix),"<i>"===g&&"title"===O[0]&&!y){var v=!1;for(c=0,h=b.decorations.length;c<h;c+=1)"@font-style"===b.decorations[c][0]&&"italic"===b.decorations[c][1]&&(v=!0);v||b.decorations.push(["@font-style","italic"])}if("en"!==s&&"title"===b.strings["text-case"]&&(b.strings["text-case"]="passthrough"),"title"===O[0]&&(r=Tt.demoteNoiseWords(t,r,this["leading-noise-words"])),n||o){if(t.output.openLevel("empty"),b.strings.suffix=b.strings.suffix.replace(/[ .,]+$/,""),t.output.append(r,b),t.tmp.probably_rendered_something=!0,n){m.strings.prefix=t.opt.citeAffixes[k][u.secondary].prefix,m.strings.suffix=t.opt.citeAffixes[k][u.secondary].suffix,m.strings.prefix||(m.strings.prefix=" ");for(c=m.decorations.length-1;-1<c;c+=-1)-1<["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(m.decorations[c].join("/"))&&(m.decorations=m.decorations.slice(0,c).concat(m.decorations.slice(c+1)));"en"!==a&&"title"===m.strings["text-case"]&&(m.strings["text-case"]="passthrough");var _=new Tt.Token;_.decorations.push(["@font-style","normal"]),_.decorations.push(["@font-weight","normal"]),t.output.openLevel(_),t.output.append(n,m),t.output.closeLevel();var x=t.output.current.value(),w=t.output.current.value().blobs.length-1;t.parallel.use_parallels&&(t.parallel.cite.front.push(O[0]+":secondary"),t.parallel.cite[O[0]+":secondary"]={blobs:[[x,w]]})}if(o){d.strings.prefix=t.opt.citeAffixes[k][u.tertiary].prefix,d.strings.suffix=t.opt.citeAffixes[k][u.tertiary].suffix,d.strings.prefix||(d.strings.prefix=" ");for(c=d.decorations.length-1;-1<c;c+=-1)-1<["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(d.decorations[c].join("/"))&&(d.decorations=d.decorations.slice(0,c).concat(d.decorations.slice(c+1)));"en"!==l&&"title"===d.strings["text-case"]&&(d.strings["text-case"]="passthrough");var A=new Tt.Token;A.decorations.push(["@font-style","normal"]),A.decorations.push(["@font-weight","normal"]),t.output.openLevel(A),t.output.append(o,d),t.output.closeLevel();x=t.output.current.value(),w=t.output.current.value().blobs.length-1;t.parallel.use_parallels&&(t.parallel.cite.front.push(O[0]+":tertiary"),t.parallel.cite[O[0]+":tertiary"]={blobs:[[x,w]]})}t.output.closeLevel()}else t.output.append(r,b),t.tmp.probably_rendered_something=!0;return null}}},Tt.Token=function(t,e,i){this.name=t,this.strings={},this.strings.delimiter=undefined,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=e},Tt.Util.cloneToken=function(t){var e,i,r;if("string"==typeof t)return t;for(var s in e=new Tt.Token(t.name,t.tokentype),t.strings)t.strings.hasOwnProperty(s)&&(e.strings[s]=t.strings[s]);if(t.decorations)for(e.decorations=[],i=0,r=t.decorations.length;i<r;i+=1)e.decorations.push(t.decorations[i].slice());return t.variables&&(e.variables=t.variables.slice()),t.execs&&(e.execs=t.execs.slice(),t.tests&&(e.tests=t.tests.slice())),e},Tt.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},Tt.Blob=function(t,e,i){var r,s;if(this.levelname=i,e){for(var n in this.strings={prefix:"",suffix:""},e.strings)e.strings.hasOwnProperty(n)&&(this.strings[n]=e.strings[n]);for(this.decorations=[],r=e.decorations===undefined?0:e.decorations.length,s=0;s<r;s+=1)this.decorations.push(e.decorations[s].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof t?t:t?[t]:[],this.alldecor=[this.decorations]},Tt.Blob.prototype.push=function(t){if("string"==typeof this.blobs)throw"Attempt to push blob onto string object";!1!==t&&(t.alldecor=t.alldecor.concat(this.alldecor),this.blobs.push(t))},Tt.NumericBlob=function(t,e,i,r){this.id=r,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=Tt.START,this.strings={},i?(this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new Tt.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))):(this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new Tt.Output.DefaultFormatter)},Tt.NumericBlob.prototype.setFormatter=function(t){this.formatter=t,this.type=this.formatter.format(1)},Tt.Output.DefaultFormatter=function(){},Tt.Output.DefaultFormatter.prototype.format=function(t){return t.toString()},Tt.NumericBlob.prototype.checkNext=function(t,e){e?(this.status=Tt.START,"object"===$(t)&&(t.num===this.num+1?t.status=Tt.SUCCESSOR:t.status=Tt.SEEN)):t&&t.num&&this.type===t.type&&t.num===this.num+1?this.status===Tt.START||this.status===Tt.SEEN?t.status=Tt.SUCCESSOR:this.status!==Tt.SUCCESSOR&&this.status!==Tt.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(t.status=Tt.SUCCESSOR_OF_SUCCESSOR,this.status=Tt.SUPPRESS):t.status=Tt.SUCCESSOR):(this.status===Tt.SUCCESSOR_OF_SUCCESSOR&&(this.status=Tt.END),"object"===$(t)&&(t.status=Tt.SEEN))},Tt.NumericBlob.prototype.checkLast=function(t){return(this.status===Tt.SEEN||t.num!==this.num-1&&this.status===Tt.SUCCESSOR)&&(this.status=Tt.SUCCESSOR,!0)},Tt.Util.fixDateNode=function(t,e,i){var r,s,n,a,o,l,u,p,c,h,f,m,d,g=this.cslXml.getAttributeValue(i,"lingo"),b=this.cslXml.getAttributeValue(i,"default-locale");if(this.build.date_key=!0,r=this.cslXml.getAttributeValue(i,"form"),g=b?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(i,"lingo"),!this.getDate(r,b))return t;var y=this.cslXml.getAttributeValue(i,"date-parts");for(var v in s=this.cslXml.getAttributeValue(i,"variable"),p=this.cslXml.getAttributeValue(i,"prefix"),c=this.cslXml.getAttributeValue(i,"suffix"),m=this.cslXml.getAttributeValue(i,"display"),d=this.cslXml.getAttributeValue(i,"cslid"),n=this.cslXml.nodeCopy(this.getDate(r,b)),this.cslXml.setAttribute(n,"lingo",this.opt.lang),this.cslXml.setAttribute(n,"form",r),this.cslXml.setAttribute(n,"date-parts",y),this.cslXml.setAttribute(n,"cslid",d),this.cslXml.setAttribute(n,"variable",s),this.cslXml.setAttribute(n,"default-locale",b),p&&this.cslXml.setAttribute(n,"prefix",p),c&&this.cslXml.setAttribute(n,"suffix",c),m&&this.cslXml.setAttribute(n,"display",m),h=this.cslXml.children(n))a=h[v],"date-part"===this.cslXml.nodename(a)&&(o=this.cslXml.getAttributeValue(a,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",o,"@default-locale","true"));for(var v in h=this.cslXml.children(i))if(a=h[v],"date-part"===this.cslXml.nodename(a))for(l in o=this.cslXml.getAttributeValue(a,"name"),f=this.cslXml.attributes(a))"@name"!==l&&(g&&g!==this.opt.lang&&-1<["@suffix","@prefix","@form"].indexOf(l)||(u=f[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",o,l,u)));if("year"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"month"),this.cslXml.deleteNodeByNameAttribute(n,"day");else if("year-month"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"day");else if("month-day"===this.cslXml.getAttributeValue(i,"date-parts")){for(var _=this.cslXml.children(n),x=1,w=this.cslXml.numberofnodes(_);x<w;x++)if("year"===this.cslXml.getAttributeValue(_[x],"name")){this.cslXml.setAttribute(_[x-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(n,"year")}return this.cslXml.insertChildNodeAfter(t,i,e,n)},Tt.dateMacroAsSortKey=function(t,e){Tt.dateAsSortKey.call(this,t,e,!0)},Tt.dateAsSortKey=function(t,e,i){var r,s,n,a,o,l,u,p=this.variables[0],c="empty";for(i&&t.tmp.extension&&(c="macro-with-date"),void 0===(r=e[p])&&((r={"date-parts":[[0]]}).year||(t.tmp.empty_date=!0)),"undefined"==typeof this.dateparts&&(this.dateparts=["year","month","day"]),r.raw?r=t.fun.dateparser.parseDateToArray(r.raw):r["date-parts"]&&(r=t.dateParseArray(r)),void 0===r&&(r={}),l=0,u=Tt.DATE_PARTS_INTERNAL.length;l<u;l+=1)if(n=0,"_end"===(a=s=Tt.DATE_PARTS_INTERNAL[l]).slice(-4)&&(a=a.slice(0,-4)),r[s]&&-1<this.dateparts.indexOf(a)&&(n=r[s]),"year"===s.slice(0,4)){var h="Y";"-"===(o=Tt.Util.Dates[a].numeric(t,n))[0]&&(h="X",o=o.slice(1),o=9999-parseInt(o,10)),t.output.append(Tt.Util.Dates[s.slice(0,4)].numeric(t,h+o),c)}else n=(n=Tt.Util.Dates[a]["numeric-leading-zeros"](t,n))||"00",t.output.append(n,c)},Tt.Engine.prototype.dateParseArray=function(t){var e,i,r,s;for(i in e={},t)if("date-parts"===i){1<(r=t["date-parts"]).length&&r[0].length!==r[1].length&&Tt.error("CSL data error: element mismatch in date range input."),s=["","_end"];for(var n=0,a=r.length;n<a;n+=1)for(var o=0,l=Tt.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(r[n][o],10))?e[Tt.DATE_PARTS[o]+s[n]]=undefined:e[Tt.DATE_PARTS[o]+s[n]]=parseInt(r[n][o],10)}else t.hasOwnProperty(i)&&("literal"===i&&"object"===$(t.literal)&&"string"==typeof t.literal.part?(Tt.debug("Warning: fixing up weird literal date value"),e.literal=t.literal.part):e[i]=t[i]);return e},Tt.Util.Names={},Tt.Util.Names.compareNamesets=Tt.NameOutput.prototype._compareNamesets,Tt.Util.Names.unInitialize=function(t,e){var i,r,s,n,a;if(!e)return"";for(s=e.split(/(?:\-|\s+)/),n=e.match(/(\-|\s+)/g),a="",i=0,r=s.length;i<r;i+=1)a+=s[i],i<r-1&&(a+=n[i]);return a},Tt.Util.Names.initializeWith=function(t,e,i,r){var s,n,a;if(!e)return"";if(i=i||"",-1<["Lord","Lady"].indexOf(e)||!e.match(Tt.STARTSWITH_ROMANESQUE_REGEXP)&&!i.match("%s"))return e;var o=e;!1===t.opt["initialize-with-hyphen"]&&(o=o.replace(/\-/g," "));for(var l=(o=(o=o.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"\u2013$1")).length-2;-1<l;l+=-1)"."===o.slice(l,l+1)&&" "!==o.slice(l+1,l+2)&&(o=o.slice(0,l)+". "+o.slice(l+1));if(n=o.match(/[\-\s]+/g),a=o.split(/[\-\s]+/),null===n){var u=a[0].match(/[^\.]+$/);u&&1===u[0].length&&u[0]!==u[0].toLowerCase()&&(a[0]+=".")}if(0===a.length)o=n;else for(o=[a[0]],l=1,s=a.length;l<s;l+=1)o.push(n[l-1]),o.push(a[l]);return a=o,(r?Tt.Util.Names.doNormalize(t,a,i):Tt.Util.Names.doInitialize(t,a,i)).replace(/\u2013([a-z])/g,"-$1")},Tt.Util.Names.doNormalize=function(t,e,i){var r,s;i=i||"";var n=[];for(r=0,s=e.length;r<s;r+=1)1<e[r].length&&"."===e[r].slice(-1)?(e[r]=e[r].slice(0,-1),n.push(!0)):1===e[r].length&&e[r].toUpperCase()===e[r]?n.push(!0):n.push(!1);for(r=0,s=e.length;r<s;r+=2)n[r]&&(r<e.length-2&&(e[r+1]="",n[r+2]||(e[r+1]=" "),1<e[r+2].length?e[r]=e[r]+i.replace(/\ufeff$/,""):e[r]=e[r]+i),r===e.length-1&&(e[r]=e[r]+i));return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},Tt.Util.Names.doInitialize=function(t,e,i){var r,s,n,a,o,l,u;for(r=0,s=e.length;r<s;r+=2)if(u=e[r])if(!(n=u.match(Tt.NAME_INITIAL_REGEXP))&&!u.match(Tt.STARTSWITH_ROMANESQUE_REGEXP)&&1<u.length&&i.match("%s")&&(n=u.match(/(.)(.*)/)),n&&n[2]&&n[3]&&(n[1]=n[1]+n[2],n[2]=""),n&&n[1].slice(0,1)===n[1].slice(0,1).toUpperCase()){var p="";if(n[2]){var c="";for(a=0,o=(l=n[2].split("")).length;a<o;a+=1){var h=l[a];if(h!==h.toUpperCase())break;c+=h}c.length<n[2].length&&(p=c.toLocaleLowerCase())}e[r]=n[1]+p,r<s-1?i.match("%s")?e[r]=i.replace("%s",e[r]):-1<e[r+1].indexOf("-")?e[r+1]=i+e[r+1]:e[r+1]=i:i.match("%s")?e[r]=i.replace("%s",e[r]):e.push(i)}else!u.match(Tt.ROMANESQUE_REGEXP)||n&&n[3]||(e[r]=" "+u);var f=e.join("");return f=f.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},Tt.Util.Names.getRawName=function(t){var e=[];return t.literal?e.push(t.literal):(t.given&&e.push(t.given),t.family&&e.push(t.family)),e.join(" ")},Tt.Util.Dates={},Tt.Util.Dates.year={},Tt.Util.Dates.year["long"]=function(t,e){return(e=e||("boolean"==typeof e?"":0)).toString()},Tt.Util.Dates.year.imperial=function(t,e,i){var r="";e=e||("boolean"==typeof e?"":0),i=i?"_end":"";var s=t.tmp.date_object["month"+i];for(s=s?""+s:"1";s.length<2;)s="0"+s;var n=t.tmp.date_object["day"+i];for(n=n?""+n:"1";n.length<2;)n="0"+n;var a,o,l=parseInt(e+s+n,10);if(18680908<=l&&l<19120730?(a="\u660e\u6cbb",o=1867):19120730<=l&&l<19261225?(a="\u5927\u6b63",o=1911):19261225<=l&&l<19890108?(a="\u662d\u548c",o=1925):19890108<=l&&(a="\u5e73\u6210",o=1988),a&&o){var u=a;t.sys.normalizeAbbrevsKey&&(u=t.sys.normalizeAbbrevsKey("number",a)),t.transform.abbrevs["default"].number[u]||t.transform.loadAbbreviation("default","number",u),t.transform.abbrevs["default"].number[u]&&(a=t.transform.abbrevs["default"].number[u]),r=a+(e-o)}return r},Tt.Util.Dates.year["short"]=function(t,e){if((e=e.toString())&&4===e.length)return e.substr(2)},Tt.Util.Dates.year.numeric=function(t,e){var i,r;for(e=(r=(e=""+e).match(/([0-9]*)$/))?(i=e.slice(0,-1*r[1].length),r[1]):(i=e,"");e.length<4;)e="0"+e;return i+e},Tt.Util.Dates.normalizeMonth=function(t,e){var i;if((t=""+(t=t||0)).match(/^[0-9]+$/)||(t=0),t=parseInt(t,10),e){var r={stub:"month-",num:t};if(r.num<1||24<r.num)r.num=0;else{for(;16<r.num;)r.num=r.num-4;12<r.num&&(r.stub="season-",r.num=r.num-12)}i=r}else(t<1||12<t)&&(t=0),i=t;return i},Tt.Util.Dates.month={},Tt.Util.Dates.month.numeric=function(t,e){return e=(e=Tt.Util.Dates.normalizeMonth(e))||""},Tt.Util.Dates.month["numeric-leading-zeros"]=function(t,e){if(e=Tt.Util.Dates.normalizeMonth(e))for(e=""+e;e.length<2;)e="0"+e;else e="";return e},Tt.Util.Dates.month["long"]=function(t,e,i,r){var s=Tt.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"long",0,0,!1,r)}else e="";return e},Tt.Util.Dates.month["short"]=function(t,e,i,r){var s=Tt.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"short",0,0,!1,r)}else e="";return e},Tt.Util.Dates.day={},Tt.Util.Dates.day.numeric=function(t,e){return e.toString()},Tt.Util.Dates.day["long"]=Tt.Util.Dates.day.numeric,Tt.Util.Dates.day["numeric-leading-zeros"]=function(t,e){for(e=(e=e||0).toString();e.length<2;)e="0"+e;return e.toString()},Tt.Util.Dates.day.ordinal=function(t,e,i){return t.fun.ordinalizer.format(e,i)},Tt.Util.Sort={},Tt.Util.Sort.strip_prepositions=function(t){var e;return"string"==typeof t&&(e=t.toLocaleLowerCase(),e=t.match(/^((a|an|the)\s+)/)),e&&(t=t.substr(e[1].length)),t},Tt.Util.substituteStart=function(t,e){var r,i,s,p,n,a,o;p=function p(t){for(var e=0,i=this.decorations.length;e<i;e+=1)if("@strip-periods"===this.decorations[e][0]&&"true"===this.decorations[e][1]){t.tmp.strip_periods+=1;break}},this.execs.push(p),this.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),o=["number","date","names"],("text"===this.name&&!this.postponed_macro||-1<o.indexOf(this.name))&&(r=function r(t,e,i){"author"===t.tmp.element_trace.value()||"names"===this.name?(!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area&&t.tmp.probably_rendered_something&&t.tmp.element_trace.push("suppress-me"),!t.tmp.just_looking&&i&&i["suppress-author"]&&(t.tmp.probably_rendered_something||t.tmp.element_trace.push("suppress-me"))):"date"===this.name?!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area&&t.tmp.probably_rendered_something&&t.tmp.element_trace.push("suppress-me"):!t.tmp.just_looking&&i&&i["author-only"]&&"intext"!==t.tmp.area?!t.tmp.probably_rendered_something&&t.tmp.can_block_substitute||t.tmp.element_trace.push("suppress-me"):i&&i["suppress-author"]&&t.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(r)),i=this.strings.cls,this.strings.cls=!1,0===t.build.render_nesting_level&&("bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]?((s=new Tt.Token("group",Tt.START)).decorations=[["@display","left-margin"]],p=function p(t,e){t.tmp.render_seen||(s.strings.first_blob=e.id,t.output.startTag("bib_first",s))},s.execs.push(p),e.push(s)):-1<Tt.DISPLAY_CLASSES.indexOf(i)&&((s=new Tt.Token("group",Tt.START)).decorations=[["@display",i]],p=function p(t,e){s.strings.first_blob=e.id,t.output.startTag("bib_first",s)},s.execs.push(p),e.push(s)),t.build.cls=i),t.build.render_nesting_level+=1,1===t.build.substitute_level.value()&&(n=new Tt.Token("choose",Tt.START),Tt.Node.choose.build.call(n,t,e),p=function p(){return!!t.tmp.can_substitute.value()},(a=new Tt.Token("if",Tt.START)).tests||(a.tests=[]),a.tests.push(p),a.test=t.fun.match.any(this,t,a.tests),e.push(a)),t.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(p=function p(t,e,i){if(!t.tmp.just_looking&&!t.tmp.suppress_decorations){var r=new Tt.Token("text",Tt.START);r.decorations=[["@showid","true"]],t.output.startTag("variable_entry",r);var s=null;i&&(s=i.position),s=s||0;var n=0;i&&i.noteIndex&&(n=i.noteIndex);var a=0;i&&i["first-reference-note-number"]&&(a=i["first-reference-note-number"]);var o=0;i&&i["citation-number"]&&(o=i["citation-number"]);var l=0;i&&i.index&&(l=i.index);var u={itemData:e,variableNames:this.variables,context:t.tmp.area,xclass:t.opt.xclass,position:["first","subsequent","ibid","ibid-with-locator"][s],"note-number":n,"first-reference-note-number":a,"citation-number":o,index:l,mode:t.opt.mode};t.output.current.value().params=u}},this.execs.push(p))},Tt.Util.substituteEnd=function(t,e){var l,i,r,s,n,u;t.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(l=function l(t){t.tmp.just_looking||t.tmp.suppress_decorations||t.output.endTag("variable_entry")},this.execs.push(l)),l=function l(t){for(var e=0,i=this.decorations.length;e<i;e+=1)if("@strip-periods"===this.decorations[e][0]&&"true"===this.decorations[e][1]){t.tmp.strip_periods+=-1;break}},this.execs.push(l),t.build.render_nesting_level+=-1,0===t.build.render_nesting_level&&(t.build.cls?(l=function l(t){t.output.endTag("bib_first")},this.execs.push(l),t.build.cls=!1):"bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]&&(l=function l(t){t.tmp.render_seen||t.output.endTag("bib_first")},(i=new Tt.Token("group",Tt.END)).execs.push(l),e.push(i),(r=new Tt.Token("group",Tt.START)).decorations=[["@display","right-inline"]],l=function l(t){t.tmp.render_seen||(t.tmp.render_seen=!0,t.output.startTag("bib_other",r))},r.execs.push(l),e.push(r))),1===t.build.substitute_level.value()&&(s=new Tt.Token("if",Tt.END),e.push(s),n=new Tt.Token("choose",Tt.END),Tt.Node.choose.build.call(n,t,e)),("names"===this.name||"text"===this.name&&"title"!==this.variables_real)&&(new Tt.Token("text",Tt.SINGLETON),l=function l(t,e){if("bibliography"===t.tmp.area&&"string"==typeof t.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||e[this.variables_real])&&t.tmp.substituted_variable===this.variables_real){var i,r,s=t.bibliography.opt["subsequent-author-substitute-rule"];if(!t.tmp.suppress_decorations&&t.tmp.subsequent_author_substitute_ok&&t.tmp.rendered_name){if("partial-each"===s||"partial-first"===s){var n=!0,a=[];for(i=0,r=t.tmp.name_node.children.length;i<r;i+=1){var o=t.tmp.rendered_name[i];n&&t.tmp.last_rendered_name&&t.tmp.last_rendered_name.length>i-1&&o&&!o.localeCompare(t.tmp.last_rendered_name[i])?(u=new Tt.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[u],"partial-first"===s&&(n=!1)):n=!1,a.push(o)}t.tmp.last_rendered_name=a}else if("complete-each"===s){if(a=t.tmp.rendered_name.join(",")){if(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name))for(i=0,r=t.tmp.name_node.children.length;i<r;i+=1)u=new Tt.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[u];t.tmp.last_rendered_name=a}}else{(a=t.tmp.rendered_name.join(","))&&(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name)&&(u=new Tt.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.label_blob?t.tmp.name_node.top.blobs=[u,t.tmp.label_blob]:t.tmp.name_node.top.blobs.length?t.tmp.name_node.top.blobs[0].blobs=[u]:t.tmp.name_node.top.blobs=[u],t.tmp.substituted_variable=this.variables_real),t.tmp.last_rendered_name=a)}t.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(l)),("text"===this.name&&!this.postponed_macro||-1<["number","date","names"].indexOf(this.name))&&(l=function l(t,e){1<t.tmp.element_trace.mystack.length&&t.tmp.element_trace.pop()},this.execs.push(l))},Tt.Util.padding=function(t){var e=t.match(/\s*(-{0,1}[0-9]+)/);if(e)for((t=parseInt(e[1],10))<0&&(t=1e20+t),t=""+t;t.length<20;)t="0"+t;return t},Tt.Util.LongOrdinalizer=function(){},Tt.Util.LongOrdinalizer.prototype.init=function(t){this.state=t},Tt.Util.LongOrdinalizer.prototype.format=function(t,e){t<10&&(t="0"+t);var i=Tt.Engine.getField(Tt.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+t,"long",0,e);return i=i||this.state.fun.ordinalizer.format(t,e),this.state.tmp.cite_renders_content=!0,i},Tt.Util.Ordinalizer=function(t){this.state=t,this.suffixes={}},Tt.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var t=0;t<3;t+=1){var e=[undefined,"masculine","feminine"][t];this.suffixes[this.state.opt.lang][e]=[];for(var i=1;i<5;i+=1){var r=this.state.getTerm("ordinal-0"+i,"long",!1,e);if(void 0===r){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(r)}}}},Tt.Util.Ordinalizer.prototype.format=function(t,e){var i;i=""+(t=parseInt(t,10));var r="",s=[];if(e&&s.push(e),s.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var n;r=this.state.getTerm("ordinal",!1,0,e);for(var a=0,o=s.length;a<o;a+=1){n=s[a];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][i]&&l["whole-number"][i][n]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][i][n],!1,0,e):l["last-two-digits"][i.slice(i.length-2)]&&l["last-two-digits"][i.slice(i.length-2)][n]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][i.slice(i.length-2)][n],!1,0,e):l["last-digit"][i.slice(i.length-1)]&&l["last-digit"][i.slice(i.length-1)][n]&&(r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][i.slice(i.length-1)][n],!1,0,e)),r)break}}else e=e||undefined,this.state.fun.ordinalizer.init(),r=t/10%10==1||10<t&&t<20?this.suffixes[this.state.opt.lang][e][3]:t%10==1&&t%100!=11?this.suffixes[this.state.opt.lang][e][0]:t%10==2&&t%100!=12?this.suffixes[this.state.opt.lang][e][1]:t%10==3&&t%100!=13?this.suffixes[this.state.opt.lang][e][2]:this.suffixes[this.state.opt.lang][e][3];return i=i+=r},Tt.Util.Romanizer=function(){},Tt.Util.Romanizer.prototype.format=function(t){var e,i,r,s,n;if(e="",t<6e3)for((s=t.toString().split("")).reverse(),r=i=0,n=s.length,i=0;i<n;i+=1)r=parseInt(s[i],10),e=Tt.ROMAN_NUMERALS[i][r]+e;return e},Tt.Util.Suffixator=function(t){t=t||Tt.SUFFIX_CHARS,this.slist=t.split(",")},Tt.Util.Suffixator.prototype.format=function(t){var e;t+=1;var i="";do{e=t%26==0?26:t%26;i=this.slist[e-1]+i;t=(t-e)/26}while(0!==t);return i},Tt.Engine.prototype.processNumber=function(l,g,b){var t,y=this,e=",\\s+and\\s+|\\s+and\\s+";"en"!==this.opt.lang.slice(0,2)&&(e+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var i="\\s*&\\s*",v=new RegExp("^"+i+"$"),_=new RegExp("("+i+"|"+e+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),x=new RegExp("(?:"+i+"|"+e+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*|\\s*&\\s*)"),r=this.getTerm("and"),w=this.getTerm("and","symbol");function A(t,e,i,r){r=r||"";var s={};if(e||Tt.STATUTE_SUBDIV_STRINGS_REVERSE[b]||(e="var:"+b),e){var n=e.match(/(\s*)([^\s]+)(\s*)/);s.label=n[2],s.origLabel=t,s.labelSuffix=n[3]?n[3]:"",s.plural=0,s.labelVisibility=!1}return(n=i.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(s.particle=n[1]?n[1]:"",s.value=n[2]):(s.particle="",s.value=i),s.joiningSuffix=r.replace(/\s*-\s*/,"-"),s}function u(t,e,i){var r=t[i.pos],s=t[e].value,n="\\-"===r.joiningSuffix;s.particle&&s.particle!==r.particle&&(i.collapsible=!1);var a=s.match(/^[0-9]+([-,:a-zA-Z]*)$/),o=r.value.match(/^[0-9]+([-,:a-zA-Z]*)$/);if(s&&a&&o&&!n||(i.collapsible=!1,s&&o||(i.numeric=!1),n&&i.count--),(a&&a[1]||o&&o[1])&&(i.collapsible=!1),undefined===t[e].collapsible){for(var l=e,u=e+i.count;l<u;l++)isNaN(parseInt(t[l].value))&&!t[l].value.match(/^[ivxlcmIVXLCM]+$/)?t[l].collapsible=!1:t[l].collapsible=!0;i.collapsible=t[e].collapsible}var p=i.collapsible;for(l=i.pos,u=i.pos+i.count;l<u;l++)1<i.count&&p&&(t[l].plural=1),t[l].numeric=i.numeric,t[l].collapsible=i.collapsible}function p(t,e,i){"var:"!==i.label.slice(0,4)&&(0===i.pos?(-1<["locator","number","locator-extra"].indexOf(b)&&(y.getTerm(Tt.STATUTE_SUBDIV_STRINGS[i.label])||(t[i.pos].labelVisibility=!0)),-1===["locator","number","locator-extra"].indexOf(b)&&Tt.STATUTE_SUBDIV_STRINGS[i.label]!==b&&(t[0].labelVisibility=!0)):t[i.pos].labelVisibility=!0)}function c(t){return t.replace("\\-","-")}function s(t){var e=Tt.Util.cloneToken(l),i=new Tt.Token;y.tmp.just_looking||(i.decorations=e.decorations,e.decorations=[],i.strings.prefix=e.strings.prefix,e.strings.prefix="",i.strings.suffix=e.strings.suffix,e.strings.suffix="");var r=t.length?t[0].label:null;if(t.length){for(var s=0,n=t.length;s<n;s++){var a=t[s],o=Tt.Util.cloneToken(e);o.gender=l.gender,r===a.label&&(o.formatter=l.formatter),a.numeric&&(o.successor_prefix=a.successor_prefix),o.strings.suffix=o.strings.suffix+c(a.joiningSuffix),a.styling=o}y.tmp.just_looking||'"'===t[0].value.slice(0,1)&&'"'===t[t.length-1].value.slice(-1)&&(t[0].value=t[0].value.slice(1),t[t.length-1].value=t[t.length-1].value.slice(0,-1),i.decorations.push(["@quotes",!0]))}return i}function o(t,e){return"page"===t||-1<["locator","locator-extra"].indexOf(t)&&(-1<["p."].indexOf(e.label)||-1<["p."].indexOf(e.origLabel))}function h(t,e,i,r){var s=o(t,e);return function n(t,e){var i,r=!0;return-1<["locator","locator-extra"].indexOf(t)&&(i=e.origLabel?e.origLabel:e.label,r=!!y.getTerm(Tt.STATUTE_SUBDIV_STRINGS[i])),r}(t,e)&&"-"===i&&r&&((s||-1<["locator","locator-extra","issue","volume","edition","number"].indexOf(t))&&(i=(i=y.getTerm("page-range-delimiter"))||"\u2013"),"collection-number"===t&&(i=(i=y.getTerm("year-range-delimiter"))||"\u2013")),i}function a(t,e,i){if(!(e<1)&&2===i.count&&t[e-1].particle===t[e].particle)if("-"===t[e-1].joiningSuffix)if(!y.opt["page-range-format"]&&parseInt(t[e-1].value,10)>parseInt(t[e].value,10))t[e-1].joiningSuffix=h(b,t[e],t[e-1].joiningSuffix,!0);else{var r,s=t[e],n=(r=!o(b,s)||isNaN(parseInt(t[e-1].value))||isNaN(parseInt(t[e].value))?((""+t[e-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+t[e].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(t[e-1].joiningSuffix=y.getTerm("page-range-delimiter")),t[e-1].value+c(t[e-1].joiningSuffix)+t[e].value):(r=t[e-1].particle+t[e-1].value+" - "+t[e].particle+t[e].value,y.fun.page_mangler(r))).match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(n){var a=n[3];a=h(b,s,a,t[e].numeric),t[e-1].particle=n[1],t[e-1].value=n[2],t[e-1].joiningSuffix=a,t[e].particle=n[4],t[e].value=n[5]}i.count=0}else i.count=1}function n(t){if(l&&-1!==["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(b)){for(var e={count:0,label:null,lastHadRangeDelimiter:!1},i=0,r=t.length;i<r;i++){var s=t[i];if(s.collapsible)e.label===s.label&&"-"===s.joiningSuffix?e.count=1:e.label===s.label&&"-"!==s.joiningSuffix?(e.count++,2===e.count&&a(t,i,e)):e.label!==s.label?(e.label=s.label,e.count=1):(e.count=1,e.label=s.label);else{e.count=0,e.label=null;var n=s.numeric;s.joiningSuffix=h(b,s,s.joiningSuffix,n)}}2===e.count&&a(t,t.length-1,e)}}if(r===w&&(w="&"),l&&this.tmp.shadow_numbers[b]&&this.tmp.shadow_numbers[b].values.length)return n(E=this.tmp.shadow_numbers[b].values),void(this.tmp.shadow_numbers[b].masterStyling=s(E));if(this.tmp.shadow_numbers[b]||(this.tmp.shadow_numbers[b]={values:[]}),g){var f=Tt.LangPrefsMap[b];if(f){var m=this.opt["cite-lang-prefs"][f][0];t=(t=this.transform.getTextSubField(g,b,"locale-"+m,!0)).name}else t=g[b];if(t&&this.sys.getAbbreviation){var d=this.transform.loadAbbreviation(g.jurisdiction,"number",t);this.transform.abbrevs[d].number&&(this.transform.abbrevs[d].number[t]?t=this.transform.abbrevs[d].number[t]:"undefined"!=typeof this.transform.abbrevs[d].number[t]&&delete this.transform.abbrevs[d].number[t])}if(void 0!==t&&("string"==typeof t||"number"==typeof t)){"number"==typeof t&&(t=""+t);var E,O=Tt.STATUTE_SUBDIV_STRINGS_REVERSE[b];if(!this.tmp.shadow_numbers.values)!function T(t){for(var e=0,i=t.length-1;e<i;e++)!t[e].joiningSuffix&&t[e+1].label&&(t[e].joiningSuffix=" ")}(E=function S(t,e){e=e||"";var i=[];if(u=(t=function m(t){var e=(t=t.trim()).match(/^([^ ]+)/);if(e&&!Tt.STATUTE_SUBDIV_STRINGS[e[1]]){var i=null;(i=-1<["locator","locator-extra"].indexOf(b)?g.label?Tt.STATUTE_SUBDIV_STRINGS_REVERSE[g.label]:"p.":Tt.STATUTE_SUBDIV_STRINGS_REVERSE[b])&&(t=i+" "+t)}return t}(t)).match(_)){for(var r=0,s=u.length;r<s;r++)u[r].match(v)&&(u[r]=" "+w+" ");var n=t.split(x);for(var r in n)if((""+n[r]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;for(r=0,s=n.length-1;r<s;r++)i.push(n[r]),i.push(u[r]);i.push(n[n.length-1]),i=function d(t){for(var e=t.length-2;-1<e;e-=2)"-"===t[e]&&t[e-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&t[e+1].match(/^[,a-zA-Z]+$/)&&(t[e-1]=t.slice(e-1,e+2).join(""),t=t.slice(0,e).concat(t.slice(e+2)));return t}(i)}else i=[t];var a=[],o=e,l="";for(r=0,s=i.length;r<s;r+=2){var u;if(u=i[r].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/g)){for(var p=(n=i[r].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/)).length-1;0<p;p--)!n[p-1]||n[p].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&n[p-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(n[p-1]=n[p-1]+u[p-1]+n[p],n=n.slice(0,p).concat(n.slice(p+1)),u=u.slice(0,p-1).concat(u.slice(p)));if(0<u.length){var c=u[0].trim();!Tt.STATUTE_SUBDIV_STRINGS[c]||!y.getTerm(Tt.STATUTE_SUBDIV_STRINGS[c])||-1===["locator","number","locator-extra"].indexOf(b)&&Tt.STATUTE_SUBDIV_STRINGS[c]!==b?0===r&&(u=u.slice(1),n[0]=n[0]+" "+c+" "+n[1],n=n.slice(0,1).concat(n.slice(2))):l=c}p=0;for(var h=n.length;p<h;p++){if(n[p]||p===n.length-1)f=l===(o=u[p-1]?u[p-1]:o).trim()?"":l,t=n[p]?n[p].trim():"",p===n.length-1?a.push(A(f,o,t,i[r+1])):a.push(A(f,o,t))}}else{var f;f=l===o.trim()?"":l,a.push(A(f,o,i[r],i[r+1]))}}return a}(t,O)),function I(t){if(0!==t.length){for(var e=0,i=1,r=1,s=t.length;r<s;r++){var n=t[r-1],a=t[r];if(n.label===a.label&&n.particle==n.particle)i++;else(o=JSON.parse(JSON.stringify(t[e]))).pos=e,o.count=i,o.numeric=!0,u(t,e,o),n.label!==a.label&&p(t,0,o),e=r,i=1}var o;(o=JSON.parse(JSON.stringify(t[e]))).pos=e,o.count=i,o.numeric=!0,u(t,e,o),p(t,0,o),t.length&&t[0].numeric&&"number-of-"===b.slice(0,10)&&1<parseInt(g[b],10)&&(t[0].plural=1)}}(E),this.tmp.shadow_numbers[b].values=E;l&&(n(E),this.tmp.shadow_numbers[b].masterStyling=s(E)),function k(t,e,i){var r=t[e];i.length&&(r.numeric=i[0].numeric,r.collapsible=i[0].collapsible,r.plural=i[0].plural,r.label=Tt.STATUTE_SUBDIV_STRINGS[i[0].label],"number"===e&&"issue"===r.label&&y.getTerm("number")&&(r.label="number"))}(this.tmp.shadow_numbers,b,E)}}},Tt.Util.outputNumericField=function(t,e,i){t.output.openLevel(t.tmp.shadow_numbers[e].masterStyling);var r,s=t.tmp.shadow_numbers[e].values,n=s.length?s[0].label:null,a=t.tmp.shadow_numbers[e].labelForm;r=a||"short";for(var o=t.tmp.shadow_numbers[e].labelCapitalizeIfFirst,l=t.tmp.shadow_numbers[e].labelDecorations,u=null,p=0,c=s.length;p<c;p++){var h,f=s[p],m="";f.label&&(h="var:"===f.label.slice(0,4)?f.label.slice(4):Tt.STATUTE_SUBDIV_STRINGS[f.label])&&(m=f.label===n?t.getTerm(h,a,f.plural):t.getTerm(h,r,f.plural),o&&(m=Tt.Output.Formatters["capitalize-first"](t,m)));var d=-1;m&&(d=m.indexOf("%s"));var g,b=Tt.Util.cloneToken(f.styling);if(b.formatter=f.styling.formatter,b.type=f.styling.type,b.num=f.styling.num,b.gender=f.styling.gender,0<d&&d<m.length-2)b.strings.prefix+=m.slice(0,d),b.strings.suffix=m.slice(d+2)+b.strings.suffix;else if(f.labelVisibility)if(m||(m=f.label,h=f.label),0<d){var y=new Tt.Token;y.decorations=l,t.output.append(m.slice(0,d),y)}else d!==m.length-2&&-1!==d||t.output.append(m+f.labelSuffix,"empty");if(f.collapsible)"undefined"==typeof(g=f.value.match(/^[1-9][0-9]*$/)?new Tt.NumericBlob(f.particle,parseInt(f.value,10),b,i):new Tt.NumericBlob(f.particle,f.value,b,i)).gender&&(g.gender=t.locale[t.opt.lang]["noun-genders"][e]),t.output.append(g,"literal");else t.output.append(f.particle+f.value,b);if(0===d&&d<m.length-2&&(null===u&&(u=h),h!==u||p===s.length-1)){var v=new Tt.Token;v.decorations=l,t.output.append(m.slice(d+2),v)}u=h,t.tmp.term_predecessor=!0}t.output.closeLevel()},Tt.Util.PageRangeMangler={},Tt.Util.PageRangeMangler.getFunction=function(i,r){var e,l,u,n,p,s,a,o,c,h,f,m,d,g,b,y,v,_=i.getTerm(r+"-range-delimiter");e=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,n=function n(t){for(u=t.length,l=1;l<u;l+=2)"object"===$(t[l])&&(t[l]=t[l].join(""));var e=t.join("");return e=e.replace(/([^\\])\-/g,"$1"+i.getTerm(r+"-range-delimiter"))},p=function p(t){var e,i,r,s="\\s+\\-\\s+",n=new RegExp("([^\\\\])[-"+("-"===_?"":_)+"\\u2013]","g");t=t.replace(n,"$1 - ").replace(/\s+-\s+/g," - ");var a=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+s+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),o=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+s+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(e=t.match(a),0===(i=t.split(o)).length)r=e;else for(r=[i[0]],l=1,u=i.length;l<u;l+=1)r.push(e[l-1].replace(/\s*\-\s*/g,"-")),r.push(i[l]);return r},s=function s(t){for(h=p(t=""+t),u=h.length,l=1;l<u;l+=2)(f=h[l].match(e))&&(f[3]&&f[1]!==f[3]||(f[4].length<f[2].length&&(f[4]=f[2].slice(0,f[2].length-f[4].length)+f[4]),parseInt(f[2],10)<parseInt(f[4],10)&&(f[3]=_+(f[1]?f[1]:""),h[l]=f.slice(1)))),"string"==typeof h[l]&&(h[l]=h[l].replace(/\-/g,_));return h},a=function a(t,e,i){u=t.length;for(var r=1,s=t.length;r<s;r+=2)t[r][3]=o(t[r][1],t[r][3],e,i),t[r][2].slice(1)===t[r][0]&&(t[r][2]=_);return n(t)},o=function o(t,e,i,r){if(i=i||0,m=(""+t).split(""),d=(""+e).split(""),(g=d.slice()).reverse(),m.length===d.length)for(var s=0,n=m.length;s<n;s+=1){if(!(m[s]===d[s]&&g.length>i)){if(i&&r&&3===g.length){var a=m.slice(0,s);a.reverse(),g=g.concat(a)}break}g.pop()}return g.reverse(),g.join("")},c=function c(t){for(u=t.length,l=1;l<u;l+=2)"object"===$(t[l])&&(f=t[l],b=parseInt(f[1],10),y=parseInt(f[3],10),100<b&&b%100&&parseInt(b/100,10)===parseInt(y/100,10)?f[3]=""+y%100:1e4<=b&&(f[3]=""+y%1e3)),f[2].slice(1)===f[0]&&(f[2]=_);return n(t)};var x=function x(t,e,i,r){return e(s(t=""+t),i,r)};return i.opt[r+"-range-format"]?"expanded"===i.opt[r+"-range-format"]?v=function v(t){return x(t,n)}:"minimal"===i.opt[r+"-range-format"]?v=function v(t){return x(t,a)}:"minimal-two"===i.opt[r+"-range-format"]?v=function v(t,e){return x(t,a,2,e)}:"chicago"===i.opt[r+"-range-format"]&&(v=function v(t){return x(t,c)}):v=function v(t){return x(t,n)},v},Tt.Util.FlipFlopper=function(g){var b=[],y={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{"true":"inner",inner:"true","false":"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{"true":"inner",inner:"true","false":"true"}}};y['("']=y[' "'],y["('"]=y[" '"];var t=g.getTerm("open-quote"),e=g.getTerm("close-quote"),i=g.getTerm("open-inner-quote"),r=g.getTerm("close-inner-quote");function n(t){for(var e=[],i=Object.keys(y),r=0,s=i.length;r<s;r++){var n=i[r];"quote"===y[t].type&&y[t]||e.push(n)}var a=y[t];return a.opener=new RegExp("^(?:"+e.map(function(t){return t.replace("(","\\(")}).join("|")+")"),a}t&&e&&-1===[' "'," '",'"',"'"].indexOf(t)&&(y[t]=JSON.parse(JSON.stringify(y[' "'])),y[t].opener=t,y[t].closer=e),i&&r&&-1===[' "'," '",'"',"'"].indexOf(i)&&(y[i]=JSON.parse(JSON.stringify(y[" '"])),y[i].opener=i,y[i].closer=r);var u=function(){for(var t={},e=Object.keys(y),i=0,r=e.length;i<r;i++){var s=e[i];t[s]=n(s)}return t}(),v=function(){var t=[],e=[],i={};for(var r in u)t.push(r),i[u[r].closer]=!0;for(var s=Object.keys(i),n=0,a=s.length;n<a;n++){var o=s[n];e.push(o)}var l=t.concat(e).map(function(t){return t.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+l+"))","g"),splitAll:new RegExp("(?:"+l+")","g"),open:new RegExp("(^(?:"+t.map(function(t){return t.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+e.join("|")+")$)")}}();function _(t,e){return t.match(v.open)?function r(t,e){var i=b[b.length-1];return!i||t.match(i.opener)?(b.push({type:u[t].type,opener:u[t].opener,closer:u[t].closer,pos:e}),!1):(b.pop(),b.push({type:u[t].type,opener:u[t].opener,closer:u[t].closer,pos:e}),{fixtag:i.pos})}(t,e):function s(t,e){var i=b[b.length-1];return i&&t===i.closer?(b.pop(),"nocase"===i.type&&{nocase:{open:i.pos,close:e}}):i?{fixtag:i.pos}:{fixtag:e}}(t,e)}var x=function x(l){var u=[];this.set=function(t){for(var e=y[t].attr,i=null,r=u.length-1;-1<r;r--){if((o=u[r])[0]===e){i=o;break}}if(!i){var s=[g[g.tmp.area].opt.layout_decorations].concat(l.alldecor);t:for(r=s.length-1;-1<r;r--){var n=s[r];if(n)for(var a=n.length-1;-1<a;a--){var o;if((o=n[a])[0]===e){i=o;break t}}}}i=i?[e,y[t].flipflop[i[1]]]:[e,y[t].outer],u.push(i)},this.pair=function(){return u[u.length-1]},this.pop=function(){u.pop()}};function w(t,e){if("'"===t){if(e&&e.match(/^[^\,\.\?\:\;\ ]/))return!0}else if(" '"===t&&e&&e.match(/^[\ ]/))return!0;return!1}this.processTags=function(t){var e=!1;" "!==(l=t.blobs).slice(0,1)||l.match(/^\s+[\'\"]/)||(e=!0);var i=new RegExp("("+Tt.ROMANESQUE_REGEXP.source+")\u2019("+Tt.ROMANESQUE_REGEXP.source+")","g"),r=function m(t){var e=[],i=(t=(t=t.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(v.matchAll);if(!i)return{tags:[],strings:[t],forcedSpaces:[]};for(var r=t.split(v.splitAll),s=0,n=i.length-1;s<n;s++)y[i[s]]&&(""===r[s+1]&&-1<['"',"'"].indexOf(i[s+1])?(i[s+1]=" "+i[s+1],e.push(!0)):e.push(!1));return{tags:i,strings:r,forcedSpaces:e}}(l=" "+l.replace(i,"$1'$2"));if(0!==r.tags.length){for(var s,n=!1,a=0,o=r.tags.length;a<o;a++){var l;if(w(h=r.tags[a],l=r.strings[a+1]))r.strings[a+1]=" '"===h?" \u2019"+r.strings[a+1]:"\u2019"+r.strings[a+1],r.tags[a]="";else{for(var u;u=_(h,a);){if(!(-1<Object.keys(u).indexOf("fixtag"))){if(u.nocase){r.tags[u.nocase.open]="",r.tags[u.nocase.close]="";break}break}if(h.match(v.close)&&"'"===h)r.strings[a+1]="\u2019"+r.strings[a+1],r.tags[a]="";else{var p=r.tags[u.fixtag];r.forcedSpaces[u.fixtag-1]&&(p=p.slice(1)),r.strings[u.fixtag+1]=p+r.strings[u.fixtag+1],r.tags[u.fixtag]=""}if(!(0<b.length))break;b.pop()}u&&(u.fixtag||0===u.fixtag)&&(r.strings[a+1]=r.tags[a]+r.strings[a+1],r.tags[a]="")}}for(a=b.length-1;-1<a;a--){var c=b[a].pos,h=r.tags[c];r.strings[c+1]=" '"===h||"'"===h?" \u2019"+r.strings[c+1]:r.tags[c]+r.strings[c+1],r.tags[c]="",b.pop()}for(a=r.tags.length-1;-1<a;a--)r.tags[a]||(r.tags=r.tags.slice(0,a).concat(r.tags.slice(a+1)),r.strings[a]=r.strings[a]+r.strings[a+1],r.strings=r.strings.slice(0,a+1).concat(r.strings.slice(a+2)));for(a=0,o=r.tags.length;a<o;a++){h=r.tags[a];var f=r.forcedSpaces[a-1];-1<[' "'," '",'("',"('"].indexOf(h)&&(n||(y[s=h].outer="true",y[{" '":' "',' "':" '",'("':"('","('":'("'}[s]].outer="inner",n=!0),f||(r.strings[a]+=h.slice(0,1)))}!function d(t,e,i){var h=!0,r=new x(t);t.blobs=[];var s=new function u(t){this.stack=[t],this.latest=t,this.addStyling=function(t,e){if(h&&(" "===t.slice(0,1)&&(t=t.slice(1))," "===t.slice(0,1)&&(t=t.slice(1)),h=!1),this.latest=this.stack[this.stack.length-1],e){if("string"==typeof this.latest.blobs)(c=new Tt.Blob).blobs=this.latest.blobs,c.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[c];var i=new Tt.Token;if((p=new Tt.Blob(null,i)).alldecor=this.latest.alldecor.slice(),"@class"===e[0]&&"nodecor"===e[1]){for(var r=[],s={},n=[g[g.tmp.area].opt.layout_decorations].concat(p.alldecor),a=n.length-1;-1<a;a--){var o=n[a];if(o)for(var l=o.length-1;-1<l;l--){var u=o[l];-1<["@font-weight","@font-style","@font-variant"].indexOf(u[0])&&!s[u[0]]&&("normal"!==e[1]&&(p.decorations.push([u[0],"normal"]),r.push([u[0],"normal"])),s[u[0]]=!0)}}p.alldecor.push(r)}else p.decorations.push(e),p.alldecor.push([e]);if(this.latest.blobs.push(p),this.stack.push(p),this.latest=p,t){var p;i=new Tt.Token;(p=new Tt.Blob(null,i)).blobs=t,p.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(p)}}else{var c;if(t)(c=new Tt.Blob).blobs=t,c.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(c)}},this.popStyling=function(){this.stack.pop()}}(t);if(e.strings.length){var n=e.strings[0];i&&(n=" "+n),s.addStyling(n)}for(var a=0,o=e.tags.length;a<o;a++){var l=e.tags[a];n=e.strings[a+1];l.match(v.open)?(r.set(l),s.addStyling(n,r.pair())):(r.pop(),s.popStyling(),s.addStyling(n))}}(t,r,e)}}},Tt.Output.Formatters=(f=new Tt.Doppeler('(?:\u2018|\u2019|\u201c|\u201d| "| \'|"|\'|[-\u2013\u2014/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',function(t){return t.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),m=new Tt.Doppeler("(?:[ \xa0\u2000-\u200b\u205f\u3000]+)"),d={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"},{passthrough:function v(t,e){return e},lowercase:function _(t,e){return b({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(e[i]=s.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},uppercase:function x(t,e){return b({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(e[i]=s.toUpperCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},sentence:function w(t,e){var n={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(n.isFirst?(e[i]=g(s),n.isFirst=!1):e[i]=s.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return b(n,e)},title:function A(t,e){var l={quoteState:[],capitaliseWords:function(t,e,i){if(t.trim()){for(var r=t.split(/[ \u00A0]+/),s=m.split(t),n=0,a=(r=s.strings).length;n<a;n++){var o=r[n];o&&(1<o.length&&!o.toLowerCase().match(l.skipWordsRex)?r[n]=g(r[n]):n===r.length-1&&"-"===i?r[n]=g(r[n]):l.isFirst?r[n]=g(r[n]):l.afterPunct&&(r[n]=g(r[n])),l.afterPunct=!1,l.isFirst=!1,l.lastWordPos={strings:e,words:n})}t=m.join(s)}return t},skipWordsRex:t.locale[t.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return b(l,e)},"capitalize-first":function E(t,e){var n={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];if(s&&n.isFirst){e[i]=g(s),n.isFirst=!1;break}}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return b(n,e)},"capitalize-all":function O(t,e){return b({quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(e[i]=g(s))}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)}}),Tt.Output.Formats=function(){},Tt.Output.Formats.prototype.html={text_escape:function(t){return(t=t||"").replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"\xa0 ").replace(Tt.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+Tt.SUPERSCRIPTS[t]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":Tt.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":Tt.Output.Formatters.passthrough,"@strip-periods/false":Tt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var i="";return t.sys.embedBibliographyEntry&&(i=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+e+"</div>\n"+i},"@display/block":function(t,e){return'\n\n    <div class="csl-block">'+e+"</div>\n"},"@display/left-margin":function(t,e){return'\n    <div class="csl-left-margin">'+e+"</div>"},"@display/right-inline":function(t,e){return'<div class="csl-right-inline">'+e+"</div>\n  "},"@display/indent":function(t,e){return'<div class="csl-indent">'+e+"</div>\n  "},"@showid/true":function(t,e,i){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;if(i)return'<span class="'+t.opt.nodenames[i]+'" cslid="'+i+'">'+e+"</span>";if(this.params&&"string"==typeof e){var r="";if(e){var s=e.match(Tt.VARIABLE_WRAPPER_PREPUNCT_REX);r=s[1],e=s[2]}var n="";return e&&-1<Tt.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))&&(n=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,r,e,n)}return e},"@URL/true":function(t,e){return'<a href="'+e+'">'+e+"</a>"},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),'<a href="'+i+'">'+e+"</a>"}},Tt.Output.Formats.prototype.text={text_escape:function(t){return t=t||""},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":Tt.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":Tt.Output.Formatters.passthrough,"@strip-periods/false":Tt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},Tt.Output.Formats.prototype.rtf={text_escape:function(t){return(t=t||"").replace(/([\\{}])/g,"\\$1").replace(Tt.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+Tt.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("\t").join("\\tab{}")},"@passthrough/true":Tt.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":Tt.Output.Formatters.passthrough,"@strip-periods/false":Tt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?Tt.Output.Formats.rtf.text_escape(t.getTerm("open-quote")):Tt.Output.Formats.rtf.text_escape(t.getTerm("open-quote"))+e+Tt.Output.Formats.rtf.text_escape(t.getTerm("close-quote"))},"@quotes/inner":function(t,e){return void 0===e?Tt.Output.Formats.rtf.text_escape("\u2019"):Tt.Output.Formats.rtf.text_escape(t.getTerm("open-inner-quote"))+e+Tt.Output.Formats.rtf.text_escape(t.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e},"@display/left-margin":function(t,e){return e+"\\tab "},"@display/right-inline":function(t,e){return e+"\r\n"},"@display/indent":function(t,e){return"\n\\tab "+e+"\\line\r\n"},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;var i="";if(e){var r=e.match(Tt.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],e=r[2]}var s="";return e&&-1<Tt.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,s)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},Tt.Output.Formats.prototype.asciidoc={text_escape:function(t){return(t=t||"").replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(Tt.SUPERSCRIPTS_REGEXP,function(t){return"^"+Tt.SUPERSCRIPTS[t]+"^"})},bibstart:"",bibend:"","@passthrough/true":Tt.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":Tt.Output.Formatters.passthrough,"@strip-periods/false":Tt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?"``":"``"+e+"''"},"@quotes/inner":function(t,e){return void 0===e?"`":"`"+e+"'"},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return" "+e},"@display/indent":function(t,e){return" "+e},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations||!this.params||"string"!=typeof e)return e;var i="";if(e){var r=e.match(Tt.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],e=r[2]}var s="";return e&&-1<Tt.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,s)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),i+"["+e+"]"}},Tt.Output.Formats.prototype.fo={text_escape:function(t){return(t=t||"").replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(Tt.SUPERSCRIPTS_REGEXP,function(t){return'<fo:inline vertical-align="super">'+Tt.SUPERSCRIPTS[t]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":Tt.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":Tt.Output.Formatters.passthrough,"@strip-periods/false":Tt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var i="";if(t.bibliography&&t.bibliography.opt&&t.bibliography.opt.hangingindent){var r=t.bibliography.opt.hangingindent;i=' start-indent="'+r+'em" text-indent="-'+r+'em"'}var s="";return t.sys.embedBibliographyEntry&&(s=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+i+">"+e+"</fo:block>\n"+s},"@display/block":function(t,e){return"\n  <fo:block>"+e+"</fo:block>\n"},"@display/left-margin":function(t,e){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+e+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function(t,e){return"<fo:table-cell>\n          <fo:block>"+e+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function(t,e){return'<fo:block margin-left="2em">'+e+"</fo:block>\n"},"@showid/true":function(t,e){if(t.tmp.just_looking||t.tmp.suppress_decorations||!this.params||"string"!=typeof e)return e;var i="";if(e){var r=e.match(Tt.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],e=r[2]}var s="";return e&&-1<Tt.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,s)},"@URL/true":function(t,e){return"<fo:basic-link external-destination=\"url('"+e+"')\">"+e+"</fo:basic-link>"},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),"<fo:basic-link external-destination=\"url('"+i+"')\">"+e+"</fo:basic-link>"}},Tt.Output.Formats.prototype.latex={text_escape:function(t){return t=t||""},bibstart:"\\begin{thebibliography}{4}",bibend:"end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":Tt.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":Tt.Output.Formatters.passthrough,"@strip-periods/false":Tt.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return"\\bibitem{"+t.sys.embedBibliographyEntry(this.item_id)+"}\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e,i){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},Tt.Output.Formats=new Tt.Output.Formats,Tt.Registry=function(t){this.debug=!1,this.state=t,this.registry={},this.reflist=[],this.refhash={},this.namereg=new Tt.Registry.NameReg(t),this.citationreg=new Tt.Registry.CitationReg(t),this.authorstrings={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new Tt.Registry.Comparifier(t,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(this.reflist[e]);return t}},Tt.Registry.prototype.init=function(t,e){if(this.oldseq={},e){this.uncited={};for(var i=0,r=t.length;i<r;i+=1)this.myhash[t[i]]||this.mylist.push(""+t[i]),this.uncited[t[i]]=!0,this.myhash[t[i]]=!0}else{for(var s in this.uncited)t.push(s);var n={};for(i=t.length-1;-1<i;i+=-1)n[t[i]]?t=t.slice(0,i).concat(t.slice(i+1)):n[t[i]]=!0;this.mylist=t,this.myhash=n}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},Tt.Registry.prototype.dopurge=function(t){for(var e=this.mylist.length-1;-1<e;e+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId[this.mylist[e]]||t[this.mylist[e]]||(delete this.myhash[this.mylist[e]],this.mylist=this.mylist.slice(0,e).concat(this.mylist.slice(e+1))));this.dodeletes(this.myhash)},Tt.Registry.prototype.dodeletes=function(t){var e,i,r,s,n,a,o;if("string"==typeof t){var l=t;(t={})[l]=!0}for(var l in this.registry)if(!t[l]){if(this.uncited[l])continue;for(n in this.namereg.delitems(l))this.refreshes[n]=!0;for(e=this.registry[l].ambig,-1<(a=this.ambigcites[e].indexOf(l))&&(s=this.ambigcites[e].slice(),this.ambigcites[e]=s.slice(0,a).concat(s.slice(a+1,s.length)),this.ambigresets[e]=this.ambigcites[e].length),r=this.ambigcites[e].length,i=0;i<r;i+=1)o=""+this.ambigcites[e][i],this.refreshes[o]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var u=this.registry[l].siblings[0];this.registry[u].master=!0,this.registry[u].siblings.pop(),this.registry[u].parallel=!1}else if(1<this.registry[l].siblings.length){var p=[l];if(this.registry[l].master){var c=this.registry[l].siblings[0],h=this.registry[c];h.master=!0,h.parallel=!1,p.push(c);for(var f=0,m=this.registry[l].siblings.length;f<m;f+=1)this.registry[this.registry[l].siblings[f]].parallel=c}var d=[];for(f=this.registry[l].siblings.length-1;-1<f;f+=-1){var g=this.registry[l].siblings.pop();-1===p.indexOf(g)&&d.push(g)}for(f=d.length-1;-1<f;f+=-1)this.registry[l].siblings.push(d[f])}for(var b=this.reflist.length-1;-1<b;b--)this.reflist[b].id===l&&(this.reflist=this.reflist.slice(0,b).concat(this.reflist.slice(b+1)));delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},Tt.Registry.prototype.doinserts=function(t){var e,i,r,s,n;"string"==typeof t&&(t=[t]);for(var a=0,o=t.length;a<o;a+=1)e=t[a],this.registry[e]||(i=this.state.retrieveItem(e),r=Tt.getAmbiguousCite.call(this.state,i),this.ambigsTouched[r]=!0,i.legislation_id||(this.akeys[r]=!0),s={id:""+e,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:i,newItem:!0},this.registry[e]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[e]&&(this.registry[e]["first-reference-note-number"]=this.citationreg.citationsByItemId[e][0].properties.noteIndex),n=Tt.getAmbigConfig.call(this.state),this.registerAmbigToken(r,e,n),this.touched[e]=!0,this.return_data.bibchange=!0)},Tt.Registry.prototype.rebuildlist=function(t){var e,i,r,s;if(t)for(this.reflist=[],e=this.mylist.length,i=0;i<e;i+=1)r=this.mylist[i],s=this.registry[r],this.reflist.push(s),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1;else for(this.reflist_inserts=[],e=this.mylist.length,i=0;i<e;i+=1)r=this.mylist[i],(s=this.registry[r]).newItem&&this.reflist_inserts.push(s),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1},Tt.Registry.prototype.dorefreshes=function(){var t;for(var e in this.refreshes)if(t=this.registry[e]){t.sortkeys=undefined,n=this.state.refetchItem(e);var i=t.ambig;for(var r in void 0===i&&(this.state.tmp.disambig_settings=!1,i=Tt.getAmbiguousCite.call(this.state,n),a=Tt.getAmbigConfig.call(this.state),this.registerAmbigToken(i,e,a)),this.ambigresets)if(1===this.ambigresets[r]){var s=this.ambigcites[i][0],n=this.state.refetchItem(s);this.registry[s].disambig=new Tt.AmbigConfig,this.state.tmp.disambig_settings=!1;i=Tt.getAmbiguousCite.call(this.state,n);var a=Tt.getAmbigConfig.call(this.state);this.registerAmbigToken(i,s,a)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[i]=!0,n.legislation_id||(this.akeys[i]=!0),this.touched[e]=!0}},Tt.Registry.prototype.setdisambigs=function(){for(var t in this.ambigsTouched)this.state.disambiguate.run(t);this.ambigsTouched={},this.akeys={}},Tt.Registry.prototype.renumber=function(){var t,e,i;for(this.state.bibliography_sort.opt.citation_number_sort_direction===Tt.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),t=this.reflist.length,e=0;e<t;e+=1)(i=this.reflist[e]).seq=e+1,this.state.bibliography_sort.opt.citation_number_sort_direction===Tt.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[i.seq]=this.reflist.length-i.seq+1),this.state.opt.update_mode===Tt.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.state.tmp.taintedItemIDs[i.id]=!0),i.seq!=this.oldseq[i.id]&&(this.return_data.bibchange=!0)},Tt.Registry.prototype.setsortkeys=function(){for(var t=0,e=this.mylist.length;t<e;t+=1){var i=this.mylist[t];!this.touched[i]&&!this.state.tmp.taintedItemIDs[i]&&this.registry[i].sortkeys||(this.registry[i].sortkeys=Tt.getSortKeys.call(this.state,this.state.retrieveItem(i),"bibliography_sort"))}},Tt.Registry.prototype._insertItem=function(t,e){return e.splice(this._locationOf(t,e)+1,0,t),e},Tt.Registry.prototype._locationOf=function(t,e,i,r){if(0===e.length)return-1;var s=(i=i||0)+(r=r||e.length)>>1,n=this.sorter.compareKeys(t,e[s]);if(r-i<=1)return-1==n?s-1:s;switch(n){case-1:return this._locationOf(t,e,i,s);case 0:return s;case 1:return this._locationOf(t,e,s,r)}},Tt.Registry.prototype.sorttokens=function(t){var e,i,r;if(!t){for(this.reflist_inserts=[],e=this.mylist.length,r=0;r<e;r+=1)i=this.mylist[r],(o=this.registry[i]).newItem&&this.reflist_inserts.push(o);for(var s in this.state.tmp.taintedItemIDs)if(this.registry[s]&&!this.registry[s].newItem)for(var n=this.reflist.length-1;-1<n;n--)this.reflist[n].id===s&&(this.reflist_inserts.push(this.reflist[n]),this.reflist=this.reflist.slice(0,n).concat(this.reflist.slice(n+1)));n=0;for(var a=this.reflist_inserts.length;n<a;n++){var o;delete(o=this.reflist_inserts[n]).newItem,this.reflist=this._insertItem(o,this.reflist)}for(r=0;r<e;r+=1)i=this.mylist[r],o=this.registry[i],this.registry[i].seq=r+1}},Tt.Registry.Comparifier=function(t,e){var r,s,n,i,a=Tt.getSortCompare(t.opt["default-locale-sort"]);r=t[e].opt.sort_directions,this.compareKeys=function(t,e){for(s=t.sortkeys?t.sortkeys.length:0,n=0;n<s;n+=1){var i=0;if(0<(i=t.sortkeys[n]===e.sortkeys[n]?0:"undefined"==typeof t.sortkeys[n]?r[n][1]:"undefined"==typeof e.sortkeys[n]?r[n][0]:a(t.sortkeys[n],e.sortkeys[n])))return r[n][1];if(i<0)return r[n][0]}return t.seq>e.seq?1:t.seq<e.seq?-1:0},i=this.compareKeys,this.compareCompositeKeys=function(t,e){return i(t[1],e[1])}},Tt.Registry.prototype.compareRegistryTokens=function(t,e){return t.seq>e.seq?1:t.seq<e.seq?-1:0},Tt.Registry.prototype.registerAmbigToken=function(t,e,i){if(this.registry[e]&&this.registry[e].disambig&&this.registry[e].disambig.names)for(var r=0,s=i.names.length;r<s;r+=1){if(i.names[r]!==this.registry[e].disambig.names[r])this.state.tmp.taintedItemIDs[e]=!0;else if(i.givens[r])for(var n=0,a=i.givens[r].length;n<a;n+=1){i.givens[r][n]!==this.registry[e].disambig.givens[r][n]&&(this.state.tmp.taintedItemIDs[e]=!0)}}this.ambigcites[t]||(this.ambigcites[t]=[]),-1===this.ambigcites[t].indexOf(""+e)&&this.ambigcites[t].push(""+e),this.registry[e].ambig=t,this.registry[e].disambig=Tt.cloneAmbigConfig(i)},Tt.getSortKeys=function(t,e){var i,r,s,n,a,o;for(i=this.tmp.area,r=this.tmp.root,s=this.tmp.extension,n=Tt.Util.Sort.strip_prepositions,this.tmp.area=e,this.tmp.root=-1<e.indexOf("_")?e.slice(0,-5):e,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,Tt.getCite.call(this,t),this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.disambig_override=!1,a=this[e].keys.length,o=0;o<a;o+=1)this[e].keys[o]=n(this[e].keys[o]);return this.tmp.area=i,this.tmp.root=r,this.tmp.extension=s,this[e].keys},Tt.Registry.NameReg=function(u){var p,c,h,l,f,m,s,d,g,b,n,y;this.state=u,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},s=function s(t){return(t=t||"").replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},d=function d(t,e,i){p=s(i.family);var r=(h=s(i.given)).match(/[,\!]* ([^,]+)$/);r&&r[1]===r[1].toLowerCase()&&(h=h.replace(/[,\!]* [^,]+$/,"")),c=Tt.Util.Names.initializeWith(t,h,"%s"),"by-cite"===t.citation.opt["givenname-disambiguation-rule"]&&(p=""+e+p)},g=function g(t,e,i,r,s,n){var a;if("bibliography"===u.tmp.area.slice(0,12)&&!s)return"string"==typeof n?1:2;e=u.nameOutput.getName(e,"locale-translit",!0).name,d(this.state,""+t,e),a=2,l=u.opt["disambiguate-add-givenname"];var o=f=u.citation.opt["givenname-disambiguation-rule"];return"by-cite"===f&&(f="all-names"),"short"===s?a=0:"string"==typeof n&&(a=1),"undefined"==typeof this.namereg[p]||"undefined"==typeof this.namereg[p].ikey[c]?a:"by-cite"===o&&a<=r?r:l?"string"==typeof f&&"primary-name"===f.slice(0,12)&&0<i?a:(f&&"all-names"!==f&&"primary-name"!==f?"all-names-with-initials"!==f&&"primary-name-with-initials"!==f||(a=1<this.namereg[p].count?1:0):(1<this.namereg[p].count&&(a=1),(this.namereg[p].ikey&&1<this.namereg[p].ikey[c].count||1<this.namereg[p].count&&"string"!=typeof n)&&(a=2)),u.registry.registry[t]?a:"short"==s?0:"string"==typeof n?1:void 0):a},b=function b(t){var e,i,r,s,n;"string"!=typeof t&&"number"!=typeof t||(t=[""+t]);for(i=t.length,e=0;e<i;e+=1)if(s=""+t[e],this.nameind[s]){for(n in this.nameind[s])if(this.nameind[s].hasOwnProperty(n)){var a=n.split("::");if(p=a[0],c=a[1],h=a[2],"undefined"==typeof this.namereg[p])continue;if(m=this.namereg[p].items,h&&this.namereg[p].ikey[c]&&this.namereg[p].ikey[c].skey[h]&&(-1<(r=(y=this.namereg[p].ikey[c].skey[h].items).indexOf(s))&&(this.namereg[p].ikey[c].skey[h].items=y.slice(0,r).concat(y.slice([r+1]))),0===this.namereg[p].ikey[c].skey[h].items.length&&(delete this.namereg[p].ikey[c].skey[h],this.namereg[p].ikey[c].count+=-1,this.namereg[p].ikey[c].count<2)))for(var o=0,l=this.namereg[p].ikey[c].items.length;o<l;o+=1)u.tmp.taintedItemIDs[this.namereg[p].ikey[c].items[o]]=!0;if(c&&this.namereg[p].ikey[c]&&(-1<(r=this.namereg[p].ikey[c].items.indexOf(s))&&(m=this.namereg[p].ikey[c].items.slice(),this.namereg[p].ikey[c].items=m.slice(0,r).concat(m.slice([r+1]))),0===this.namereg[p].ikey[c].items.length&&(delete this.namereg[p].ikey[c],this.namereg[p].count+=-1,this.namereg[p].count<2)))for(o=0,l=this.namereg[p].items.length;o<l;o+=1)u.tmp.taintedItemIDs[this.namereg[p].items[o]]=!0;p&&(-1<(r=this.namereg[p].items.indexOf(s))&&(m=this.namereg[p].items.slice(),this.namereg[p].items=m.slice(0,r).concat(m.slice([r+1],m.length))),this.namereg[p].items.length<2&&delete this.namereg[p]),delete this.nameind[s][n]}delete this.nameind[s],delete this.nameindpkeys[s]}return{}},n=function n(t,e,i){if(e=u.nameOutput.getName(e,"locale-translit",!0).name,!u.citation.opt["givenname-disambiguation-rule"]||"primary-"!==u.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===i){if(d(this.state,""+t,e),p&&("undefined"==typeof this.namereg[p]?(this.namereg[p]={},this.namereg[p].count=0,this.namereg[p].ikey={},this.namereg[p].items=[t]):-1===this.namereg[p].items.indexOf(t)&&this.namereg[p].items.push(t)),p&&c)if("undefined"==typeof this.namereg[p].ikey[c]){if(this.namereg[p].ikey[c]={},this.namereg[p].ikey[c].count=0,this.namereg[p].ikey[c].skey={},this.namereg[p].ikey[c].items=[t],this.namereg[p].count+=1,2===this.namereg[p].count)for(var r=0,s=this.namereg[p].items.length;r<s;r+=1)u.tmp.taintedItemIDs[this.namereg[p].items[r]]=!0}else-1===this.namereg[p].ikey[c].items.indexOf(t)&&this.namereg[p].ikey[c].items.push(t);if(p&&c&&h)if("undefined"==typeof this.namereg[p].ikey[c].skey[h]){if(this.namereg[p].ikey[c].skey[h]={},this.namereg[p].ikey[c].skey[h].items=[t],this.namereg[p].ikey[c].count+=1,2===this.namereg[p].ikey[c].count)for(r=0,s=this.namereg[p].ikey[c].items.length;r<s;r+=1)u.tmp.taintedItemIDs[this.namereg[p].ikey[c].items[r]]=!0}else-1===this.namereg[p].ikey[c].skey[h].items.indexOf(t)&&this.namereg[p].ikey[c].skey[h].items.push(t);"undefined"==typeof this.nameind[t]&&(this.nameind[t]={},this.nameindpkeys[t]={}),p&&(this.nameind[t][p+"::"+c+"::"+h]=!0,this.nameindpkeys[t][p]=this.namereg[p])}},this.addname=n,this.delitems=b,this.evalname=g},Tt.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},Tt.Disambiguation=function(t){this.state=t,this.sys=this.state.sys,this.registry=t.registry.registry,this.ambigcites=t.registry.ambigcites,this.configModes(),this.debug=!1},Tt.Disambiguation.prototype.run=function(t){this.modes.length&&(this.akey=t,this.initVars(t)&&this.runDisambig())},Tt.Disambiguation.prototype.runDisambig=function(){var t;for(this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),t=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(t);this.lists=this.lists.slice(1)}},Tt.Disambiguation.prototype.scanItems=function(t){var e;this.Item=t[1][0],this.ItemCite=Tt.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=t[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var i=0,r=1,s=t[1].length;r<s;r+=1){e=t[1][r];var n=Tt.getAmbiguousCite.call(this.state,e,this.base,!0);this.ItemCite===n?(i+=1,this.partners.push(e)):this.nonpartners.push(e)}this.clashes[0]=this.clashes[1],this.clashes[1]=i},Tt.Disambiguation.prototype.evalScan=function(t){this[this.modes[this.modeindex]](t),t&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},Tt.Disambiguation.prototype.disNames=function(t){if(0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(t&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){for(var e=0,i=this.partners.length;e<i;e+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[e].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},Tt.Disambiguation.prototype.disExtraText=function(){var t=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(t=!0),t||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(t||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(t||this.modeindex===this.modes.length-1){var e=this.lists[this.listpos][0];for(i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(e=this.lists[this.listpos][0]).disambiguate=!0;for(i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0}},Tt.Disambiguation.prototype.disYears=function(){var t;t=[];var e=this.lists[this.listpos][0];if(this.clashes[1])for(var i=0,r=this.state.registry.mylist.length;i<r;i+=1)for(var s=this.state.registry.mylist[i],n=0,a=this.lists[this.listpos][1].length;n<a;n+=1){var o;if((o=this.lists[this.listpos][1][n]).id==s){t.push(this.registry[o.id]);break}}t.sort(this.state.registry.sorter.compareKeys);for(var l=0,u=t.length;l<u;l+=1){e.year_suffix=""+l;var p=this.state.registry.registry[t[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+t[l].id,e),Tt.ambigConfigDiff(p,e)&&(this.state.tmp.taintedItemIDs[t[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},Tt.Disambiguation.prototype.incrementDisambig=function(){if(this.initGivens)return this.initGivens=!1;var t=!1,e=!0;if("disNames"===this.modes[this.modeindex]){e=!1,"number"!=typeof this.givensMax&&(e=!0);var i=!1;"number"!=typeof this.namesMax&&(i=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:e=!0),"number"==typeof this.namesMax&&e&&(this.state.opt["disambiguate-add-names"]?(i=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):i=!0):i=!0),"number"==typeof this.namesetsMax&&i&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&"undefined"!=typeof this.base.givens[this.gnameset]&&"undefined"!=typeof this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(t=!0)}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return t},Tt.Disambiguation.prototype.initVars=function(t){var e,i,r;if(this.lists=[],this.base=!1,this.betterbase=!1,this.akey=t,this.maxNamesByItemId={},i=[],!(e=this.ambigcites[t])||!e.length)return!1;var s=this.state.refetchItem(""+e[0]);if(this.getCiteData(s),this.base=Tt.getAmbigConfig.call(this.state),e&&1<e.length){i.push([this.maxNamesByItemId[s.id],s]);for(var n=1,a=e.length;n<a;n+=1)s=this.state.refetchItem(""+e[n]),this.getCiteData(s,this.base),i.push([this.maxNamesByItemId[s.id],s]);i.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1].id>e[1].id?1:t[1].id<e[1].id?-1:0}),r=[];for(var n=0,a=i.length;n<a;n+=1)r.push(i[n][1]);this.lists.push([this.base,r]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+e[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},Tt.Disambiguation.prototype.padBase=function(t){for(var e=0,i=t.names.length;e<i;e+=1){t.givens[e]||(t.givens[e]=[]);for(var r=0,s=t.names[e];r<s;r+=1)t.givens[e][r]||(t.givens[e][r]=0)}},Tt.Disambiguation.prototype.configModes=function(){var t,e;this.modes=[],t=this.state.opt["disambiguate-add-givenname"],e=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||t&&"by-cite"===e)&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},Tt.Disambiguation.prototype.getCiteData=function(t,e){if(!this.maxNamesByItemId[t.id]){Tt.getAmbiguousCite.call(this.state,t,e),e=Tt.getAmbigConfig.call(this.state),this.maxNamesByItemId[t.id]=Tt.getMaxVals.call(this.state),this.state.registry.registry[t.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var i=0,r=this.state.registry.registry[t.id].disambig.givens.length;i<r;i+=1)this.state.registry.registry[t.id].disambig.givens[i]=this.state.tmp.disambig_settings.givens[i].slice();this.namesetsMax=this.state.registry.registry[t.id].disambig.names.length-1,this.base||(this.base=e,this.betterbase=Tt.cloneAmbigConfig(e)),e.names.length<this.base.names.length&&(this.base=e);for(i=0,r=e.names.length;i<r;i+=1)e.names[i]>this.base.names[i]&&(this.base.givens[i]=e.givens[i].slice(),this.base.names[i]=e.names[i],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,n=this.base.givens.length;s<n;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},Tt.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&"undefined"!=typeof this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},Tt.Engine.prototype.getJurisdictionList=function(t){for(var e=[],i=t.split(":"),r=i.length;0<r;r--)e.push(i.slice(0,r).join(":"));return-1===e.indexOf("us")&&e.push("us"),e},Tt.Engine.prototype.retrieveAllStyleModules=function(t){for(var e={},i=this.locale[this.opt.lang].opts["jurisdiction-preference"],r=(i=[""].concat(i=i||[])).length-1;-1<r;r--)for(var s=i[r],n=0,a=t.length;n<a;n++){var o=t[n];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,s);(l||s)&&!l||(this.opt.jurisdictions_seen[o]=!0),l&&(e[o]=l)}}return e},Tt.ParticleList=[["'s",n=[[null,[0,1]]]],["'s-",n],["'t",n],["a",n],["aan 't",a=[[null,[0,2]]]],["aan de",a],["aan den",a],["aan der",a],["aan het",a],["aan t",a],["aan",n],["ad-",l=[[null,[0,1]],[[0,1],null]]],["adh-",l],["af",l],["al",l],["al-",l],["am de",a],["am",n],["an-",l],["ar-",l],["as-",l],["ash-",l],["at-",l],["ath-",l],["auf dem",c=[[[0,2],null],[null,[0,2]]]],["auf den",c],["auf der",c],["auf ter",a],["auf",p=[[[0,1],null],[null,[0,1]]]],["aus 'm",c],["aus dem",c],["aus den",c],["aus der",c],["aus m",c],["aus",p],["aus'm",c],["az-",l],["a\u0161-",l],["a\u1e0d-",l],["a\u1e0f-",l],["a\u1e63-",l],["a\u1e6d-",l],["a\u1e6f-",l],["a\u1e93-",l],["ben",n],["bij 't",a],["bij de",a],["bij den",a],["bij het",a],["bij t",a],["bij",n],["bin",n],["boven d",a],["boven d'",a],["d",n],["d'",l],["da",l],["dal",n],["dal'",n],["dall'",n],["dalla",n],["das",l],["de die le",o=[[null,[0,3]]]],["de die",a],["de l",a],["de l'",a],["de la",h=[[null,[0,2]],[[0,1],[1,2]]]],["de las",h],["de le",a],["de li",u=[[null,[0,2]],[[0,2],null]]],["de van der",o],["de",l],["de'",l],["deca",n],["degli",l],["dei",l],["del",l],["dela",s=[[[0,1],null]]],["dell'",l],["della",l],["delle",l],["dello",l],["den",l],["der",l],["des",l],["di",l],["die le",a],["do",n],["don",n],["dos",l],["du",l],["ed-",l],["edh-",l],["el",l],["el-",l],["en-",l],["er-",l],["es-",l],["esh-",l],["et-",l],["eth-",l],["ez-",l],["e\u0161-",l],["e\u1e0d-",l],["e\u1e0f-",l],["e\u1e63-",l],["e\u1e6d-",l],["e\u1e6f-",l],["e\u1e93-",l],["het",n],["i",n],["il",s],["im",n],["in 't",a],["in de",a],["in den",a],["in der",u],["in het",a],["in t",a],["in",n],["l",n],["l'",n],["la",n],["las",n],["le",n],["les",l],["lo",l],["los",n],["lou",n],["of",n],["onder 't",a],["onder de",a],["onder den",a],["onder het",a],["onder t",a],["onder",n],["op 't",a],["op de",u],["op den",a],["op der",a],["op gen",a],["op het",a],["op t",a],["op ten",a],["op",n],["over 't",a],["over de",a],["over den",a],["over het",a],["over t",a],["over",n],["s",n],["s'",n],["sen",s],["t",n],["te",n],["ten",n],["ter",n],["tho",n],["thoe",n],["thor",n],["to",n],["toe",n],["tot",n],["uijt 't",a],["uijt de",a],["uijt den",a],["uijt te de",o],["uijt ten",a],["uijt",n],["uit 't",a],["uit de",a],["uit den",a],["uit het",a],["uit t",a],["uit te de",o],["uit ten",a],["uit",n],["unter",n],["v",n],["v.",n],["v.d.",n],["van 't",a],["van de l",o],["van de l'",o],["van de",a],["van de",a],["van den",a],["van der",a],["van gen",a],["van het",a],["van la",a],["van t",a],["van ter",a],["van van de",o],["van",l],["vander",n],["vd",n],["ver",n],["vom und zum",[[[0,3],null]]],["vom",l],["von 't",a],["von dem",c],["von den",c],["von der",c],["von t",a],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",c],["von",p],["voor 't",a],["voor de",a],["voor den",a],["voor in 't",o],["voor in t",o],["voor",n],["vor der",c],["vor",p],["z",s],["ze",s],["zu",p],["zum",l],["zur",l]],Tt.parseParticles=function(t){var e=(s=y(t.family))[1],i=s[2];t.family=e;var r=function l(t){var e=t.slice(-1);return t=t.trim()," "===e&&-1<["'","\u2019"].indexOf(t.slice(-1))&&(t+=" "),t}(i.join(""));r&&(t["non-dropping-particle"]=r),function u(t){if(!t.suffix&&t.given){var e=t.given.match(/(\s*,!*\s*)/);if(e){var i=t.given.indexOf(e[1]),r=t.given.slice(i+e[1].length),s=t.given.slice(i,i+e[1].length).replace(/\s*/g,"");"et al"!==r.replace(/\./g,"")||t["dropping-particle"]?(2===s.length&&(t["comma-suffix"]=!0),t.suffix=r):(t["dropping-particle"]=r,t["comma-dropping-particle"]=","),t.given=t.given.slice(0,i)}}}(t);var s,n=(s=y(t.given,!0))[1],a=s[2];t.given=n;var o=a.join("").trim();o&&(t["dropping-particle"]=o)},e.exports=Tt},{}],105:[function(t,e,i){"use strict";t("../modules/es.symbol"),t("../modules/es.symbol.async-iterator"),t("../modules/es.symbol.description"),t("../modules/es.symbol.has-instance"),t("../modules/es.symbol.is-concat-spreadable"),t("../modules/es.symbol.iterator"),t("../modules/es.symbol.match"),t("../modules/es.symbol.match-all"),t("../modules/es.symbol.replace"),t("../modules/es.symbol.search"),t("../modules/es.symbol.species"),t("../modules/es.symbol.split"),t("../modules/es.symbol.to-primitive"),t("../modules/es.symbol.to-string-tag"),t("../modules/es.symbol.unscopables"),t("../modules/es.object.assign"),t("../modules/es.object.create"),t("../modules/es.object.define-property"),t("../modules/es.object.define-properties"),t("../modules/es.object.entries"),t("../modules/es.object.freeze"),t("../modules/es.object.from-entries"),t("../modules/es.object.get-own-property-descriptor"),t("../modules/es.object.get-own-property-descriptors"),t("../modules/es.object.get-own-property-names"),t("../modules/es.object.get-prototype-of"),t("../modules/es.object.is"),t("../modules/es.object.is-extensible"),t("../modules/es.object.is-frozen"),t("../modules/es.object.is-sealed"),t("../modules/es.object.keys"),t("../modules/es.object.prevent-extensions"),t("../modules/es.object.seal"),t("../modules/es.object.set-prototype-of"),t("../modules/es.object.values"),t("../modules/es.object.to-string"),t("../modules/es.object.define-getter"),t("../modules/es.object.define-setter"),t("../modules/es.object.lookup-getter"),t("../modules/es.object.lookup-setter"),t("../modules/es.function.bind"),t("../modules/es.function.name"),t("../modules/es.function.has-instance"),t("../modules/es.array.from"),t("../modules/es.array.is-array"),t("../modules/es.array.of"),t("../modules/es.array.concat"),t("../modules/es.array.copy-within"),t("../modules/es.array.every"),t("../modules/es.array.fill"),t("../modules/es.array.filter"),t("../modules/es.array.find"),t("../modules/es.array.find-index"),t("../modules/es.array.flat"),t("../modules/es.array.flat-map"),t("../modules/es.array.for-each"),t("../modules/es.array.includes"),t("../modules/es.array.index-of"),t("../modules/es.array.join"),t("../modules/es.array.last-index-of"),t("../modules/es.array.map"),t("../modules/es.array.reduce"),t("../modules/es.array.reduce-right"),t("../modules/es.array.reverse"),t("../modules/es.array.slice"),t("../modules/es.array.some"),t("../modules/es.array.sort"),t("../modules/es.array.splice"),t("../modules/es.array.species"),t("../modules/es.array.unscopables.flat"),t("../modules/es.array.unscopables.flat-map"),t("../modules/es.array.iterator"),t("../modules/es.string.from-code-point"),t("../modules/es.string.raw"),t("../modules/es.string.code-point-at"),t("../modules/es.string.ends-with"),t("../modules/es.string.includes"),t("../modules/es.string.match"),t("../modules/es.string.match-all"),t("../modules/es.string.pad-end"),t("../modules/es.string.pad-start"),t("../modules/es.string.repeat"),t("../modules/es.string.replace"),t("../modules/es.string.search"),t("../modules/es.string.split"),t("../modules/es.string.starts-with"),t("../modules/es.string.trim"),t("../modules/es.string.trim-start"),t("../modules/es.string.trim-end"),t("../modules/es.string.iterator"),t("../modules/es.string.anchor"),t("../modules/es.string.big"),t("../modules/es.string.blink"),t("../modules/es.string.bold"),t("../modules/es.string.fixed"),t("../modules/es.string.fontcolor"),t("../modules/es.string.fontsize"),t("../modules/es.string.italics"),t("../modules/es.string.link"),t("../modules/es.string.small"),t("../modules/es.string.strike"),t("../modules/es.string.sub"),t("../modules/es.string.sup"),t("../modules/es.regexp.constructor"),t("../modules/es.regexp.exec"),t("../modules/es.regexp.flags"),t("../modules/es.regexp.to-string"),t("../modules/es.parse-int"),t("../modules/es.parse-float"),t("../modules/es.number.constructor"),t("../modules/es.number.epsilon"),t("../modules/es.number.is-finite"),t("../modules/es.number.is-integer"),t("../modules/es.number.is-nan"),t("../modules/es.number.is-safe-integer"),t("../modules/es.number.max-safe-integer"),t("../modules/es.number.min-safe-integer"),t("../modules/es.number.parse-float"),t("../modules/es.number.parse-int"),t("../modules/es.number.to-fixed"),t("../modules/es.number.to-precision"),t("../modules/es.math.acosh"),t("../modules/es.math.asinh"),t("../modules/es.math.atanh"),t("../modules/es.math.cbrt"),t("../modules/es.math.clz32"),t("../modules/es.math.cosh"),t("../modules/es.math.expm1"),t("../modules/es.math.fround"),t("../modules/es.math.hypot"),t("../modules/es.math.imul"),t("../modules/es.math.log10"),t("../modules/es.math.log1p"),t("../modules/es.math.log2"),t("../modules/es.math.sign"),t("../modules/es.math.sinh"),t("../modules/es.math.tanh"),t("../modules/es.math.to-string-tag"),t("../modules/es.math.trunc"),t("../modules/es.date.now"),t("../modules/es.date.to-json"),t("../modules/es.date.to-iso-string"),t("../modules/es.date.to-string"),t("../modules/es.date.to-primitive"),t("../modules/es.json.to-string-tag"),t("../modules/es.promise"),t("../modules/es.promise.finally"),t("../modules/es.map"),t("../modules/es.set"),t("../modules/es.weak-map"),t("../modules/es.weak-set"),t("../modules/es.array-buffer.constructor"),t("../modules/es.array-buffer.is-view"),t("../modules/es.array-buffer.slice"),t("../modules/es.data-view"),t("../modules/es.typed-array.int8-array"),t("../modules/es.typed-array.uint8-array"),t("../modules/es.typed-array.uint8-clamped-array"),t("../modules/es.typed-array.int16-array"),t("../modules/es.typed-array.uint16-array"),t("../modules/es.typed-array.int32-array"),t("../modules/es.typed-array.uint32-array"),t("../modules/es.typed-array.float32-array"),t("../modules/es.typed-array.float64-array"),t("../modules/es.typed-array.from"),t("../modules/es.typed-array.of"),t("../modules/es.typed-array.copy-within"),t("../modules/es.typed-array.every"),t("../modules/es.typed-array.fill"),t("../modules/es.typed-array.filter"),t("../modules/es.typed-array.find"),t("../modules/es.typed-array.find-index"),t("../modules/es.typed-array.for-each"),t("../modules/es.typed-array.includes"),t("../modules/es.typed-array.index-of"),t("../modules/es.typed-array.iterator"),t("../modules/es.typed-array.join"),t("../modules/es.typed-array.last-index-of"),t("../modules/es.typed-array.map"),t("../modules/es.typed-array.reduce"),t("../modules/es.typed-array.reduce-right"),t("../modules/es.typed-array.reverse"),t("../modules/es.typed-array.set"),t("../modules/es.typed-array.slice"),t("../modules/es.typed-array.some"),t("../modules/es.typed-array.sort"),t("../modules/es.typed-array.subarray"),t("../modules/es.typed-array.to-locale-string"),t("../modules/es.typed-array.to-string"),t("../modules/es.reflect.apply"),t("../modules/es.reflect.construct"),t("../modules/es.reflect.define-property"),t("../modules/es.reflect.delete-property"),t("../modules/es.reflect.get"),t("../modules/es.reflect.get-own-property-descriptor"),t("../modules/es.reflect.get-prototype-of"),t("../modules/es.reflect.has"),t("../modules/es.reflect.is-extensible"),t("../modules/es.reflect.own-keys"),t("../modules/es.reflect.prevent-extensions"),t("../modules/es.reflect.set"),t("../modules/es.reflect.set-prototype-of"),e.exports=t("../internals/path")},{"../internals/path":210,"../modules/es.array-buffer.constructor":251,"../modules/es.array-buffer.is-view":252,"../modules/es.array-buffer.slice":253,"../modules/es.array.concat":254,"../modules/es.array.copy-within":255,"../modules/es.array.every":256,"../modules/es.array.fill":257,"../modules/es.array.filter":258,"../modules/es.array.find":260,"../modules/es.array.find-index":259,"../modules/es.array.flat":262,"../modules/es.array.flat-map":261,"../modules/es.array.for-each":263,"../modules/es.array.from":264,"../modules/es.array.includes":265,"../modules/es.array.index-of":266,"../modules/es.array.is-array":267,"../modules/es.array.iterator":268,"../modules/es.array.join":269,"../modules/es.array.last-index-of":270,"../modules/es.array.map":271,"../modules/es.array.of":272,"../modules/es.array.reduce":274,"../modules/es.array.reduce-right":273,"../modules/es.array.reverse":275,"../modules/es.array.slice":276,"../modules/es.array.some":277,"../modules/es.array.sort":278,"../modules/es.array.species":279,"../modules/es.array.splice":280,"../modules/es.array.unscopables.flat":282,"../modules/es.array.unscopables.flat-map":281,"../modules/es.data-view":283,"../modules/es.date.now":284,"../modules/es.date.to-iso-string":285,"../modules/es.date.to-json":286,"../modules/es.date.to-primitive":287,"../modules/es.date.to-string":288,"../modules/es.function.bind":289,"../modules/es.function.has-instance":290,"../modules/es.function.name":291,"../modules/es.json.to-string-tag":292,"../modules/es.map":293,"../modules/es.math.acosh":294,"../modules/es.math.asinh":295,"../modules/es.math.atanh":296,"../modules/es.math.cbrt":297,"../modules/es.math.clz32":298,"../modules/es.math.cosh":299,"../modules/es.math.expm1":300,"../modules/es.math.fround":301,"../modules/es.math.hypot":302,"../modules/es.math.imul":303,"../modules/es.math.log10":304,"../modules/es.math.log1p":305,"../modules/es.math.log2":306,"../modules/es.math.sign":307,"../modules/es.math.sinh":308,"../modules/es.math.tanh":309,"../modules/es.math.to-string-tag":310,"../modules/es.math.trunc":311,"../modules/es.number.constructor":312,"../modules/es.number.epsilon":313,"../modules/es.number.is-finite":314,"../modules/es.number.is-integer":315,"../modules/es.number.is-nan":316,"../modules/es.number.is-safe-integer":317,"../modules/es.number.max-safe-integer":318,"../modules/es.number.min-safe-integer":319,"../modules/es.number.parse-float":320,"../modules/es.number.parse-int":321,"../modules/es.number.to-fixed":322,"../modules/es.number.to-precision":323,"../modules/es.object.assign":324,"../modules/es.object.create":325,"../modules/es.object.define-getter":326,"../modules/es.object.define-properties":327,"../modules/es.object.define-property":328,"../modules/es.object.define-setter":329,"../modules/es.object.entries":330,"../modules/es.object.freeze":331,"../modules/es.object.from-entries":332,"../modules/es.object.get-own-property-descriptor":333,"../modules/es.object.get-own-property-descriptors":334,"../modules/es.object.get-own-property-names":335,"../modules/es.object.get-prototype-of":336,"../modules/es.object.is":340,"../modules/es.object.is-extensible":337,"../modules/es.object.is-frozen":338,"../modules/es.object.is-sealed":339,"../modules/es.object.keys":341,"../modules/es.object.lookup-getter":342,"../modules/es.object.lookup-setter":343,"../modules/es.object.prevent-extensions":344,"../modules/es.object.seal":345,"../modules/es.object.set-prototype-of":346,"../modules/es.object.to-string":347,"../modules/es.object.values":348,"../modules/es.parse-float":349,"../modules/es.parse-int":350,"../modules/es.promise":352,"../modules/es.promise.finally":351,"../modules/es.reflect.apply":353,"../modules/es.reflect.construct":354,"../modules/es.reflect.define-property":355,"../modules/es.reflect.delete-property":356,"../modules/es.reflect.get":359,"../modules/es.reflect.get-own-property-descriptor":357,"../modules/es.reflect.get-prototype-of":358,"../modules/es.reflect.has":360,"../modules/es.reflect.is-extensible":361,"../modules/es.reflect.own-keys":362,"../modules/es.reflect.prevent-extensions":363,"../modules/es.reflect.set":365,"../modules/es.reflect.set-prototype-of":364,"../modules/es.regexp.constructor":366,"../modules/es.regexp.exec":367,"../modules/es.regexp.flags":368,"../modules/es.regexp.to-string":369,"../modules/es.set":370,"../modules/es.string.anchor":371,"../modules/es.string.big":372,"../modules/es.string.blink":373,"../modules/es.string.bold":374,"../modules/es.string.code-point-at":375,"../modules/es.string.ends-with":376,"../modules/es.string.fixed":377,"../modules/es.string.fontcolor":378,"../modules/es.string.fontsize":379,"../modules/es.string.from-code-point":380,"../modules/es.string.includes":381,"../modules/es.string.italics":382,"../modules/es.string.iterator":383,"../modules/es.string.link":384,"../modules/es.string.match":386,"../modules/es.string.match-all":385,"../modules/es.string.pad-end":387,"../modules/es.string.pad-start":388,"../modules/es.string.raw":389,"../modules/es.string.repeat":390,"../modules/es.string.replace":391,"../modules/es.string.search":392,"../modules/es.string.small":393,"../modules/es.string.split":394,"../modules/es.string.starts-with":395,"../modules/es.string.strike":396,"../modules/es.string.sub":397,"../modules/es.string.sup":398,"../modules/es.string.trim":401,"../modules/es.string.trim-end":399,"../modules/es.string.trim-start":400,"../modules/es.symbol":407,"../modules/es.symbol.async-iterator":402,"../modules/es.symbol.description":403,"../modules/es.symbol.has-instance":404,"../modules/es.symbol.is-concat-spreadable":405,"../modules/es.symbol.iterator":406,"../modules/es.symbol.match":409,"../modules/es.symbol.match-all":408,"../modules/es.symbol.replace":410,"../modules/es.symbol.search":411,"../modules/es.symbol.species":412,"../modules/es.symbol.split":413,"../modules/es.symbol.to-primitive":414,"../modules/es.symbol.to-string-tag":415,"../modules/es.symbol.unscopables":416,"../modules/es.typed-array.copy-within":417,"../modules/es.typed-array.every":418,"../modules/es.typed-array.fill":419,"../modules/es.typed-array.filter":420,"../modules/es.typed-array.find":422,"../modules/es.typed-array.find-index":421,"../modules/es.typed-array.float32-array":423,"../modules/es.typed-array.float64-array":424,"../modules/es.typed-array.for-each":425,"../modules/es.typed-array.from":426,"../modules/es.typed-array.includes":427,"../modules/es.typed-array.index-of":428,"../modules/es.typed-array.int16-array":429,"../modules/es.typed-array.int32-array":430,"../modules/es.typed-array.int8-array":431,"../modules/es.typed-array.iterator":432,"../modules/es.typed-array.join":433,"../modules/es.typed-array.last-index-of":434,"../modules/es.typed-array.map":435,"../modules/es.typed-array.of":436,"../modules/es.typed-array.reduce":438,"../modules/es.typed-array.reduce-right":437,"../modules/es.typed-array.reverse":439,"../modules/es.typed-array.set":440,"../modules/es.typed-array.slice":441,"../modules/es.typed-array.some":442,"../modules/es.typed-array.sort":443,"../modules/es.typed-array.subarray":444,"../modules/es.typed-array.to-locale-string":445,"../modules/es.typed-array.to-string":446,"../modules/es.typed-array.uint16-array":447,"../modules/es.typed-array.uint32-array":448,"../modules/es.typed-array.uint8-array":449,"../modules/es.typed-array.uint8-clamped-array":450,"../modules/es.weak-map":451,"../modules/es.weak-set":452}],106:[function(t,e,i){"use strict";e.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},{}],107:[function(t,e,i){"use strict";var r=t("../internals/is-object");e.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},{"../internals/is-object":175}],108:[function(t,e,i){"use strict";var r=t("../internals/well-known-symbol"),s=t("../internals/object-create"),n=t("../internals/hide"),a=r("unscopables"),o=Array.prototype;o[a]==undefined&&n(o,a,s(null)),e.exports=function(t){o[a][t]=!0}},{"../internals/hide":163,"../internals/object-create":193,"../internals/well-known-symbol":248}],109:[function(t,e,i){"use strict";var r=t("../internals/string-multibyte").charAt;e.exports=function(t,e,i){return e+(i?r(t,e).length:1)}},{"../internals/string-multibyte":228}],110:[function(t,e,i){"use strict";e.exports=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t}},{}],111:[function(t,e,i){"use strict";var r=t("../internals/is-object");e.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":175}],112:[function(t,e,i){"use strict";var r,a=t("../internals/descriptors"),o=t("../internals/global"),s=t("../internals/is-object"),l=t("../internals/has"),n=t("../internals/classof"),u=t("../internals/hide"),p=t("../internals/redefine"),c=t("../internals/object-define-property").f,h=t("../internals/object-get-prototype-of"),f=t("../internals/object-set-prototype-of"),m=t("../internals/well-known-symbol"),d=t("../internals/uid"),g=o.DataView,b=g&&g.prototype,y=o.Int8Array,v=y&&y.prototype,_=o.Uint8ClampedArray,x=_&&_.prototype,w=y&&h(y),A=v&&h(v),E=Object.prototype,O=E.isPrototypeOf,T=m("toStringTag"),S=d("TYPED_ARRAY_TAG"),I=!(!o.ArrayBuffer||!g),k=I&&!!f,N=!1,Q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j=function j(t){var e=n(t);return"DataView"===e||l(Q,e)},C=function C(t){return s(t)&&l(Q,n(t))},P=function P(t){if(C(t))return t;throw TypeError("Target is not a typed array")},R=function R(t){if(f){if(O.call(w,t))return t}else for(var e in Q)if(l(Q,r)){var i=o[e];if(i&&(t===i||O.call(i,t)))return t}throw TypeError("Target is not a typed array constructor")},D=function D(t,e,i){if(a){if(i)for(var r in Q){var s=o[r];s&&l(s.prototype,t)&&delete s.prototype[t]}A[t]&&!i||p(A,t,i?e:k&&v[t]||e)}},L=function L(t,e,i){var r,s;if(a){if(f){if(i)for(r in Q)(s=o[r])&&l(s,t)&&delete s[t];if(w[t]&&!i)return;try{return p(w,t,i?e:k&&y[t]||e)}catch(n){}}for(r in Q)!(s=o[r])||s[t]&&!i||p(s,t,e)}};for(r in Q)o[r]||(k=!1);if((!k||"function"!=typeof w||w===Function.prototype)&&(w=function w(){throw TypeError("Incorrect invocation")},k))for(r in Q)o[r]&&f(o[r],w);if((!k||!A||A===E)&&(A=w.prototype,k))for(r in Q)o[r]&&f(o[r].prototype,A);if(k&&h(x)!==A&&f(x,A),a&&!l(A,T))for(r in N=!0,c(A,T,{get:function(){return s(this)?this[S]:undefined}}),Q)o[r]&&u(o[r],S,r);I&&f&&h(b)!==E&&f(b,E),e.exports={NATIVE_ARRAY_BUFFER:I,NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:N&&S,aTypedArray:P,aTypedArrayConstructor:R,exportProto:D,exportStatic:L,isView:j,isTypedArray:C,TypedArray:w,TypedArrayPrototype:A}},{"../internals/classof":128,"../internals/descriptors":143,"../internals/global":160,"../internals/has":161,"../internals/hide":163,"../internals/is-object":175,"../internals/object-define-property":195,"../internals/object-get-prototype-of":200,"../internals/object-set-prototype-of":204,"../internals/redefine":215,"../internals/uid":245,"../internals/well-known-symbol":248}],113:[function(t,e,i){"use strict";var r=t("../internals/global"),n=t("../internals/descriptors"),s=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER,a=t("../internals/hide"),o=t("../internals/redefine-all"),l=t("../internals/fails"),u=t("../internals/an-instance"),p=t("../internals/to-integer"),c=t("../internals/to-length"),h=t("../internals/to-index"),f=t("../internals/object-get-own-property-names").f,m=t("../internals/object-define-property").f,d=t("../internals/array-fill"),g=t("../internals/set-to-string-tag"),b=t("../internals/internal-state"),y=b.get,v=b.set,_="ArrayBuffer",x="DataView",w="prototype",A="Wrong index",E=r[_],O=E,T=r[x],S=r.Math,I=r.RangeError,k=S.abs,N=S.pow,Q=S.floor,j=S.log,C=S.LN2,P=function P(t,e,i){var r,s,n,a=new Array(i),o=8*i-e-1,l=(1<<o)-1,u=l>>1,p=23===e?N(2,-24)-N(2,-77):0,c=t<0||0===t&&1/t<0?1:0,h=0;for((t=k(t))!=t||t===1/0?(s=t!=t?1:0,r=l):(r=Q(j(t)/C),t*(n=N(2,-r))<1&&(r--,n*=2),2<=(t+=1<=r+u?p/n:p*N(2,1-u))*n&&(r++,n/=2),l<=r+u?(s=0,r=l):1<=r+u?(s=(t*n-1)*N(2,e),r+=u):(s=t*N(2,u-1)*N(2,e),r=0));8<=e;a[h++]=255&s,s/=256,e-=8);for(r=r<<e|s,o+=e;0<o;a[h++]=255&r,r/=256,o-=8);return a[--h]|=128*c,a},R=function R(t,e){var i,r=t.length,s=8*r-e-1,n=(1<<s)-1,a=n>>1,o=s-7,l=r-1,u=t[l--],p=127&u;for(u>>=7;0<o;p=256*p+t[l],l--,o-=8);for(i=p&(1<<-o)-1,p>>=-o,o+=e;0<o;i=256*i+t[l],l--,o-=8);if(0===p)p=1-a;else{if(p===n)return i?NaN:u?-1/0:1/0;i+=N(2,e),p-=a}return(u?-1:1)*i*N(2,p-e)},D=function D(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},L=function L(t){return[255&t]},M=function M(t){return[255&t,t>>8&255]},B=function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},U=function U(t){return P(t,23,4)},F=function F(t){return P(t,52,8)},G=function G(t,e){m(t[w],e,{get:function(){return y(this)[e]}})},q=function q(t,e,i,r){var s=h(+i),n=y(t);if(s+e>n.byteLength)throw I(A);var a=y(n.buffer).bytes,o=s+n.byteOffset,l=a.slice(o,o+e);return r?l:l.reverse()},z=function z(t,e,i,r,s,n){var a=h(+i),o=y(t);if(a+e>o.byteLength)throw I(A);for(var l=y(o.buffer).bytes,u=a+o.byteOffset,p=r(+s),c=0;c<e;c++)l[u+c]=p[n?c:e-c-1]};if(s){if(!l(function(){E(1)})||!l(function(){new E(-1)})||l(function(){return new E,new E(1.5),new E(NaN),E.name!=_})){for(var V,X=(O=function(t){return u(this,O),new E(h(t))})[w]=E[w],H=f(E),Y=0;H.length>Y;)(V=H[Y++])in O||a(O,V,E[V]);X.constructor=O}var J=new T(new O(2)),W=T[w].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||o(T[w],{setInt8:function(t,e){W.call(this,t,e<<24>>24)},setUint8:function(t,e){W.call(this,t,e<<24>>24)}},{unsafe:!0})}else O=function(t){u(this,O,_);var e=h(t);v(this,{bytes:d.call(new Array(e),0),byteLength:e}),n||(this.byteLength=e)},T=function(t,e,i){u(this,T,x),u(t,O,x);var r=y(t).byteLength,s=p(e);if(s<0||r<s)throw I("Wrong offset");if(r<s+(i=i===undefined?r-s:c(i)))throw I("Wrong length");v(this,{buffer:t,byteLength:i,byteOffset:s}),n||(this.buffer=t,this.byteLength=i,this.byteOffset=s)},n&&(G(O,"byteLength"),G(T,"buffer"),G(T,"byteLength"),G(T,"byteOffset")),o(T[w],{getInt8:function(t){return q(this,1,t)[0]<<24>>24},getUint8:function(t){return q(this,1,t)[0]},getInt16:function(t){var e=q(this,2,t,1<arguments.length?arguments[1]:undefined);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=q(this,2,t,1<arguments.length?arguments[1]:undefined);return e[1]<<8|e[0]},getInt32:function(t){return D(q(this,4,t,1<arguments.length?arguments[1]:undefined))},getUint32:function(t){return D(q(this,4,t,1<arguments.length?arguments[1]:undefined))>>>0},getFloat32:function(t){return R(q(this,4,t,1<arguments.length?arguments[1]:undefined),23)},getFloat64:function(t){return R(q(this,8,t,1<arguments.length?arguments[1]:undefined),52)},setInt8:function(t,e){z(this,1,t,L,e)},setUint8:function(t,e){z(this,1,t,L,e)},setInt16:function(t,e){z(this,2,t,M,e,2<arguments.length?arguments[2]:undefined)},setUint16:function(t,e){z(this,2,t,M,e,2<arguments.length?arguments[2]:undefined)},setInt32:function(t,e){z(this,4,t,B,e,2<arguments.length?arguments[2]:undefined)},setUint32:function(t,e){z(this,4,t,B,e,2<arguments.length?arguments[2]:undefined)},setFloat32:function(t,e){z(this,4,t,U,e,2<arguments.length?arguments[2]:undefined)},setFloat64:function(t,e){z(this,8,t,F,e,2<arguments.length?arguments[2]:undefined)}});g(O,_),g(T,x),i[_]=O,i[x]=T},{"../internals/an-instance":110,"../internals/array-buffer-view-core":112,"../internals/array-fill":115,"../internals/descriptors":143,"../internals/fails":148,"../internals/global":160,"../internals/hide":163,"../internals/internal-state":170,"../internals/object-define-property":195,"../internals/object-get-own-property-names":198,"../internals/redefine-all":214,"../internals/set-to-string-tag":223,"../internals/to-index":235,"../internals/to-integer":237,"../internals/to-length":238}],114:[function(t,e,i){"use strict";var u=t("../internals/to-object"),p=t("../internals/to-absolute-index"),c=t("../internals/to-length"),h=Math.min;e.exports=[].copyWithin||function(t,e){var i=u(this),r=c(i.length),s=p(t,r),n=p(e,r),a=2<arguments.length?arguments[2]:undefined,o=h((a===undefined?r:p(a,r))-n,r-s),l=1;for(n<s&&s<n+o&&(l=-1,n+=o-1,s+=o-1);0<o--;)n in i?i[s]=i[n]:delete i[s],s+=l,n+=l;return i}},{"../internals/to-absolute-index":234,"../internals/to-length":238,"../internals/to-object":239}],115:[function(t,e,i){"use strict";var o=t("../internals/to-object"),l=t("../internals/to-absolute-index"),u=t("../internals/to-length");e.exports=function(t){for(var e=o(this),i=u(e.length),r=arguments.length,s=l(1<r?arguments[1]:undefined,i),n=2<r?arguments[2]:undefined,a=n===undefined?i:l(n,i);s<a;)e[s++]=t;return e}},{"../internals/to-absolute-index":234,"../internals/to-length":238,"../internals/to-object":239}],116:[function(t,e,i){"use strict";var r=t("../internals/array-iteration").forEach,s=t("../internals/sloppy-array-method");e.exports=s("forEach")?function(t){return r(this,t,1<arguments.length?arguments[1]:undefined)}:[].forEach},{"../internals/array-iteration":119,"../internals/sloppy-array-method":226}],117:[function(t,e,i){"use strict";var h=t("../internals/bind-context"),f=t("../internals/to-object"),m=t("../internals/call-with-safe-iteration-closing"),d=t("../internals/is-array-iterator-method"),g=t("../internals/to-length"),b=t("../internals/create-property"),y=t("../internals/get-iterator-method");e.exports=function(t){var e,i,r,s,n=f(t),a="function"==typeof this?this:Array,o=arguments.length,l=1<o?arguments[1]:undefined,u=l!==undefined,p=0,c=y(n);if(u&&(l=h(l,2<o?arguments[2]:undefined,2)),c==undefined||a==Array&&d(c))for(i=new a(e=g(n.length));p<e;p++)b(i,p,u?l(n[p],p):n[p]);else for(s=c.call(n),i=new a;!(r=s.next()).done;p++)b(i,p,u?m(s,l,[r.value,p],!0):r.value);return i.length=p,i}},{"../internals/bind-context":124,"../internals/call-with-safe-iteration-closing":125,"../internals/create-property":138,"../internals/get-iterator-method":158,"../internals/is-array-iterator-method":171,"../internals/to-length":238,"../internals/to-object":239}],118:[function(t,e,i){"use strict";var l=t("../internals/to-indexed-object"),u=t("../internals/to-length"),p=t("../internals/to-absolute-index"),r=function r(o){return function(t,e,i){var r,s=l(t),n=u(s.length),a=p(i,n);if(o&&e!=e){for(;a<n;)if((r=s[a++])!=r)return!0}else for(;a<n;a++)if((o||a in s)&&s[a]===e)return o||a||0;return!o&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},{"../internals/to-absolute-index":234,"../internals/to-indexed-object":236,"../internals/to-length":238}],119:[function(t,e,i){"use strict";var _=t("../internals/bind-context"),x=t("../internals/indexed-object"),w=t("../internals/to-object"),A=t("../internals/to-length"),E=t("../internals/array-species-create"),O=[].push,r=function r(f){var m=1==f,d=2==f,g=3==f,b=4==f,y=6==f,v=5==f||y;return function(t,e,i,r){for(var s,n,a=w(t),o=x(a),l=_(e,i,3),u=A(o.length),p=0,c=r||E,h=m?c(t,u):d?c(t,0):undefined;p<u;p++)if((v||p in o)&&(n=l(s=o[p],p,a),f))if(m)h[p]=n;else if(n)switch(f){case 3:return!0;case 5:return s;case 6:return p;case 2:O.call(h,s)}else if(b)return!1;return y?-1:g||b?b:h}};e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},{"../internals/array-species-create":123,"../internals/bind-context":124,"../internals/indexed-object":167,"../internals/to-length":238,"../internals/to-object":239}],120:[function(t,e,i){"use strict";var s=t("../internals/to-indexed-object"),n=t("../internals/to-integer"),a=t("../internals/to-length"),r=t("../internals/sloppy-array-method"),o=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,p=r("lastIndexOf");e.exports=u||p?function(t){if(u)return l.apply(this,arguments)||0;var e=s(this),i=a(e.length),r=i-1;for(1<arguments.length&&(r=o(r,n(arguments[1]))),r<0&&(r=i+r);0<=r;r--)if(r in e&&e[r]===t)return r||0;return-1}:l},{"../internals/sloppy-array-method":226,"../internals/to-indexed-object":236,"../internals/to-integer":237,"../internals/to-length":238}],121:[function(t,e,i){"use strict";var r=t("../internals/fails"),s=t("../internals/well-known-symbol")("species");e.exports=function(e){return!r(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},{"../internals/fails":148,"../internals/well-known-symbol":248}],122:[function(t,e,i){"use strict";var p=t("../internals/a-function"),c=t("../internals/to-object"),h=t("../internals/indexed-object"),f=t("../internals/to-length"),r=function r(u){return function(t,e,i,r){p(e);var s=c(t),n=h(s),a=f(s.length),o=u?a-1:0,l=u?-1:1;if(i<2)for(;;){if(o in n){r=n[o],o+=l;break}if(o+=l,u?o<0:a<=o)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=o:o<a;o+=l)o in n&&(r=e(r,n[o],o,s));return r}};e.exports={left:r(!1),right:r(!0)}},{"../internals/a-function":106,"../internals/indexed-object":167,"../internals/to-length":238,"../internals/to-object":239}],123:[function(t,e,i){"use strict";var r=t("../internals/is-object"),s=t("../internals/is-array"),n=t("../internals/well-known-symbol")("species");e.exports=function(t,e){var i;return s(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!s(i.prototype)?r(i)&&null===(i=i[n])&&(i=undefined):i=undefined),new(i===undefined?Array:i)(0===e?0:e)}},{"../internals/is-array":172,"../internals/is-object":175,"../internals/well-known-symbol":248}],124:[function(t,e,i){"use strict";var n=t("../internals/a-function");e.exports=function(r,s,t){if(n(r),s===undefined)return r;switch(t){case 0:return function(){return r.call(s)};case 1:return function(t){return r.call(s,t)};case 2:return function(t,e){return r.call(s,t,e)};case 3:return function(t,e,i){return r.call(s,t,e,i)}}return function(){return r.apply(s,arguments)}}},{"../internals/a-function":106}],125:[function(t,e,i){"use strict";var a=t("../internals/an-object");e.exports=function(t,e,i,r){try{return r?e(a(i)[0],i[1]):e(i)}catch(n){var s=t["return"];throw s!==undefined&&a(s.call(t)),n}}},{"../internals/an-object":111}],126:[function(t,e,i){"use strict";var s=t("../internals/well-known-symbol")("iterator"),n=!1;try{var r=0,a={next:function(){return{done:!!r++}},"return":function(){n=!0}};a[s]=function(){return this},Array.from(a,function(){throw 2})}catch(o){}e.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var r={};r[s]=function(){return{next:function(){return{done:i=!0}}}},t(r)}catch(o){}return i}},{"../internals/well-known-symbol":248}],127:[function(t,e,i){"use strict";var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],128:[function(t,e,i){"use strict";var s=t("../internals/classof-raw"),n=t("../internals/well-known-symbol")("toStringTag"),a="Arguments"==s(function(){return arguments}()),o=function o(t,e){try{return t[e]}catch(i){}};e.exports=function(t){var e,i,r;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(i=o(e=Object(t),n))?i:a?s(e):"Object"==(r=s(e))&&"function"==typeof e.callee?"Arguments":r}},{"../internals/classof-raw":127,"../internals/well-known-symbol":248}],129:[function(t,e,i){"use strict";var a=t("../internals/object-define-property").f,p=t("../internals/object-create"),c=t("../internals/redefine-all"),h=t("../internals/bind-context"),f=t("../internals/an-instance"),m=t("../internals/iterate"),o=t("../internals/define-iterator"),l=t("../internals/set-species"),d=t("../internals/descriptors"),g=t("../internals/internal-metadata").fastKey,r=t("../internals/internal-state"),b=r.set,y=r.getterFor;e.exports={getConstructor:function(t,i,r,s){var n=t(function(t,e){f(t,n,i),b(t,{type:i,index:p(null),first:undefined,last:undefined,size:0}),d||(t.size=0),e!=undefined&&m(e,t[s],t,r)}),o=y(i),l=function l(t,e,i){var r,s,n=o(t),a=u(t,e);return a?a.value=i:(n.last=a={index:s=g(e,!0),key:e,value:i,previous:r=n.last,next:undefined,removed:!1},n.first||(n.first=a),r&&(r.next=a),d?n.size++:t.size++,"F"!==s&&(n.index[s]=a)),t},u=function u(t,e){var i,r=o(t),s=g(e);if("F"!==s)return r.index[s];for(i=r.first;i;i=i.next)if(i.key==e)return i};return c(n.prototype,{clear:function(){for(var t=o(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=undefined),delete e[i.index],i=i.next;t.first=t.last=undefined,d?t.size=0:this.size=0},"delete":function(t){var e=o(this),i=u(this,t);if(i){var r=i.next,s=i.previous;delete e.index[i.index],i.removed=!0,s&&(s.next=r),r&&(r.previous=s),e.first==i&&(e.first=r),e.last==i&&(e.last=s),d?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=o(this),r=h(t,1<arguments.length?arguments[1]:undefined,3);e=e?e.next:i.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),c(n.prototype,r?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return l(this,0===t?0:t,e)}}:{add:function(t){return l(this,t=0===t?0:t,t)}}),d&&a(n.prototype,"size",{get:function(){return o(this).size}}),n},setStrong:function(t,e,i){var r=e+" Iterator",s=y(e),n=y(r);o(t,e,function(t,e){b(this,{type:r,target:t,state:s(t),kind:e,last:undefined})},function(){for(var t=n(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=undefined,{value:undefined,done:!0})},i?"entries":"values",!i,!0),l(e)}}},{"../internals/an-instance":110,"../internals/bind-context":124,"../internals/define-iterator":141,"../internals/descriptors":143,"../internals/internal-metadata":169,"../internals/internal-state":170,"../internals/iterate":178,"../internals/object-create":193,"../internals/object-define-property":195,"../internals/redefine-all":214,"../internals/set-species":222}],130:[function(t,e,i){"use strict";var l=t("../internals/redefine-all"),u=t("../internals/internal-metadata").getWeakData,p=t("../internals/an-object"),c=t("../internals/is-object"),h=t("../internals/an-instance"),f=t("../internals/iterate"),r=t("../internals/array-iteration"),m=t("../internals/has"),s=t("../internals/internal-state"),d=s.set,g=s.getterFor,n=r.find,a=r.findIndex,b=0,y=function y(t){return t.frozen||(t.frozen=new o)},o=function o(){this.entries=[]},v=function v(t,e){return n(t.entries,function(t){return t[0]===e})};o.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.entries.push([t,e])},"delete":function(e){var t=a(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(t,i,r,s){var n=t(function(t,e){h(t,n,i),d(t,{type:i,id:b++,frozen:undefined}),e!=undefined&&f(e,t[s],t,r)}),a=g(i),o=function o(t,e,i){var r=a(t),s=u(p(e),!0);return!0===s?y(r).set(e,i):s[r.id]=i,t};return l(n.prototype,{"delete":function(t){var e=a(this);if(!c(t))return!1;var i=u(t);return!0===i?y(e)["delete"](t):i&&m(i,e.id)&&delete i[e.id]},has:function(t){var e=a(this);if(!c(t))return!1;var i=u(t);return!0===i?y(e).has(t):i&&m(i,e.id)}}),l(n.prototype,r?{get:function(t){var e=a(this);if(c(t)){var i=u(t);return!0===i?y(e).get(t):i?i[e.id]:undefined}},set:function(t,e){return o(this,t,e)}}:{add:function(t){return o(this,t,!0)}}),n}}},{"../internals/an-instance":110,"../internals/an-object":111,"../internals/array-iteration":119,"../internals/has":161,"../internals/internal-metadata":169,"../internals/internal-state":170,"../internals/is-object":175,"../internals/iterate":178,"../internals/redefine-all":214}],131:[function(t,e,i){"use strict";var g=t("../internals/export"),b=t("../internals/global"),y=t("../internals/is-forced"),v=t("../internals/redefine"),_=t("../internals/internal-metadata"),x=t("../internals/iterate"),w=t("../internals/an-instance"),A=t("../internals/is-object"),E=t("../internals/fails"),O=t("../internals/check-correctness-of-iteration"),T=t("../internals/set-to-string-tag"),S=t("../internals/inherit-if-required");e.exports=function(r,t,e,s,n){var a=b[r],o=a&&a.prototype,l=a,u=s?"set":"add",i={},p=function p(t){var i=o[t];v(o,t,"add"==t?function(t){return i.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(n&&!A(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return n&&!A(t)?undefined:i.call(this,0===t?0:t)}:"has"==t?function(t){return!(n&&!A(t))&&i.call(this,0===t?0:t)}:function(t,e){return i.call(this,0===t?0:t,e),this})};if(y(r,"function"!=typeof a||!(n||o.forEach&&!E(function(){(new a).entries().next()}))))l=e.getConstructor(t,r,s,u),_.REQUIRED=!0;else if(y(r,!0)){var c=new l,h=c[u](n?{}:-0,1)!=c,f=E(function(){c.has(1)}),m=O(function(t){new a(t)}),d=!n&&E(function(){for(var t=new a,e=5;e--;)t[u](e,e);return!t.has(-0)});m||(((l=t(function(t,e){w(t,l,r);var i=S(new a,t,l);return e!=undefined&&x(e,i[u],i,s),i})).prototype=o).constructor=l),(f||d)&&(p("delete"),p("has"),s&&p("get")),(d||h)&&p(u),n&&o.clear&&delete o.clear}return i[r]=l,g({global:!0,forced:l!=a},i),T(l,r),n||e.setStrong(l,r,s),l}},{"../internals/an-instance":110,"../internals/check-correctness-of-iteration":126,"../internals/export":147,"../internals/fails":148,"../internals/global":160,"../internals/inherit-if-required":168,"../internals/internal-metadata":169,"../internals/is-forced":173,"../internals/is-object":175,"../internals/iterate":178,"../internals/redefine":215,"../internals/set-to-string-tag":223}],132:[function(t,e,i){"use strict";var o=t("../internals/has"),l=t("../internals/own-keys"),u=t("../internals/object-get-own-property-descriptor"),p=t("../internals/object-define-property");e.exports=function(t,e){for(var i=l(e),r=p.f,s=u.f,n=0;n<i.length;n++){var a=i[n];o(t,a)||r(t,a,s(e,a))}}},{"../internals/has":161,"../internals/object-define-property":195,"../internals/object-get-own-property-descriptor":196,"../internals/own-keys":207}],133:[function(t,e,i){"use strict";var s=t("../internals/well-known-symbol")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[s]=!1,"/./"[t](e)}catch(r){}}return!1}},{"../internals/well-known-symbol":248}],134:[function(t,e,i){"use strict";var r=t("../internals/fails");e.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":148}],135:[function(t,e,i){"use strict";var a=t("../internals/require-object-coercible"),o=/"/g;e.exports=function(t,e,i,r){var s=String(a(t)),n="<"+e;return""!==i&&(n+=" "+i+'="'+String(r).replace(o,"&quot;")+'"'),n+">"+s+"</"+e+">"}},{"../internals/require-object-coercible":219}],136:[function(t,e,i){"use strict";var s=t("../internals/iterators-core").IteratorPrototype,n=t("../internals/object-create"),a=t("../internals/create-property-descriptor"),o=t("../internals/set-to-string-tag"),l=t("../internals/iterators"),u=function u(){return this};e.exports=function(t,e,i){var r=e+" Iterator";return t.prototype=n(s,{next:a(1,i)}),o(t,r,!1,!0),l[r]=u,t}},{"../internals/create-property-descriptor":137,"../internals/iterators":180,"../internals/iterators-core":179,"../internals/object-create":193,"../internals/set-to-string-tag":223}],137:[function(t,e,i){"use strict";e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],138:[function(t,e,i){"use strict";var s=t("../internals/to-primitive"),n=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");e.exports=function(t,e,i){var r=s(e);r in t?n.f(t,r,a(0,i)):t[r]=i}},{"../internals/create-property-descriptor":137,"../internals/object-define-property":195,"../internals/to-primitive":241}],139:[function(t,e,i){"use strict";var r=t("../internals/fails"),s=t("../internals/string-pad").start,n=Math.abs,a=Date.prototype,o=a.getTime,l=a.toISOString;e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-5e13-1))})||!r(function(){l.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),i=t<0?"-":9999<t?"+":"";return i+s(n(t),i?6:4,0)+"-"+s(this.getUTCMonth()+1,2,0)+"-"+s(this.getUTCDate(),2,0)+"T"+s(this.getUTCHours(),2,0)+":"+s(this.getUTCMinutes(),2,0)+":"+s(this.getUTCSeconds(),2,0)+"."+s(e,3,0)+"Z"}:l},{"../internals/fails":148,"../internals/string-pad":229}],140:[function(t,e,i){"use strict";var r=t("../internals/an-object"),s=t("../internals/to-primitive");e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return s(r(this),"number"!==t)}},{"../internals/an-object":111,"../internals/to-primitive":241}],141:[function(t,e,i){"use strict";var b=t("../internals/export"),y=t("../internals/create-iterator-constructor"),v=t("../internals/object-get-prototype-of"),_=t("../internals/object-set-prototype-of"),x=t("../internals/set-to-string-tag"),w=t("../internals/hide"),A=t("../internals/redefine"),r=t("../internals/well-known-symbol"),E=t("../internals/is-pure"),O=t("../internals/iterators"),s=t("../internals/iterators-core"),T=s.IteratorPrototype,S=s.BUGGY_SAFARI_ITERATORS,I=r("iterator"),k="values",N=function N(){return this};e.exports=function(t,e,i,r,s,n,a){y(i,e,r);var o,l,u,p=function p(t){if(t===s&&d)return d;if(!S&&t in f)return f[t];switch(t){case"keys":case k:case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},c=e+" Iterator",h=!1,f=t.prototype,m=f[I]||f["@@iterator"]||s&&f[s],d=!S&&m||p(s),g="Array"==e&&f.entries||m;if(g&&(o=v(g.call(new t)),T!==Object.prototype&&o.next&&(E||v(o)===T||(_?_(o,T):"function"!=typeof o[I]&&w(o,I,N)),x(o,c,!0,!0),E&&(O[c]=N))),s==k&&m&&m.name!==k&&(h=!0,d=function(){return m.call(this)}),E&&!a||f[I]===d||w(f,I,d),O[e]=d,s)if(l={values:p(k),keys:n?d:p("keys"),entries:p("entries")},a)for(u in l)!S&&!h&&u in f||A(f,u,l[u]);else b({target:e,proto:!0,forced:S||h},l);return l}},{"../internals/create-iterator-constructor":136,"../internals/export":147,"../internals/hide":163,"../internals/is-pure":176,"../internals/iterators":180,"../internals/iterators-core":179,"../internals/object-get-prototype-of":200,"../internals/object-set-prototype-of":204,"../internals/redefine":215,"../internals/set-to-string-tag":223,"../internals/well-known-symbol":248}],142:[function(t,e,i){"use strict";var r=t("../internals/path"),s=t("../internals/has"),n=t("../internals/wrapped-well-known-symbol"),a=t("../internals/object-define-property").f;e.exports=function(t){var e=r.Symbol||(r.Symbol={});s(e,t)||a(e,t,{value:n.f(t)})}},{"../internals/has":161,"../internals/object-define-property":195,"../internals/path":210,"../internals/wrapped-well-known-symbol":250}],143:[function(t,e,i){"use strict";var r=t("../internals/fails");e.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"../internals/fails":148}],144:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/is-object"),n=r.document,a=s(n)&&s(n.createElement);e.exports=function(t){return a?n.createElement(t):{}}},{"../internals/global":160,"../internals/is-object":175}],145:[function(t,e,i){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],146:[function(t,e,i){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],147:[function(t,e,i){"use strict";function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c=t("../internals/global"),h=t("../internals/object-get-own-property-descriptor").f,f=t("../internals/hide"),m=t("../internals/redefine"),d=t("../internals/set-global"),g=t("../internals/copy-constructor-properties"),b=t("../internals/is-forced");e.exports=function(t,e){var i,r,s,n,a,o=t.target,l=t.global,u=t.stat;if(i=l?c:u?c[o]||d(o,{}):(c[o]||{}).prototype)for(r in e){if(n=e[r],s=t.noTargetGet?(a=h(i,r))&&a.value:i[r],!b(l?r:o+(u?".":"#")+r,t.forced)&&s!==undefined){if(p(n)===p(s))continue;g(n,s)}(t.sham||s&&s.sham)&&f(n,"sham",!0),m(i,r,n,t)}}},{"../internals/copy-constructor-properties":132,"../internals/global":160,"../internals/hide":163,"../internals/is-forced":173,"../internals/object-get-own-property-descriptor":196,"../internals/redefine":215,"../internals/set-global":221}],148:[function(t,e,i){"use strict";e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],149:[function(t,e,i){"use strict";var c=t("../internals/hide"),h=t("../internals/redefine"),f=t("../internals/fails"),m=t("../internals/well-known-symbol"),d=t("../internals/regexp-exec"),g=m("species"),b=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),y=!f(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]});e.exports=function(i,t,e,r){var s=m(i),n=!f(function(){var t={};return t[s]=function(){return 7},7!=""[i](t)}),a=n&&!f(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===i&&(e.constructor={},e.constructor[g]=function(){return e}),e[s](""),!t});if(!n||!a||"replace"===i&&!b||"split"===i&&!y){var o=/./[s],l=e(s,""[i],function(t,e,i,r,s){return e.exec===d?n&&!s?{done:!0,value:o.call(e,i,r)}:{done:!0,value:t.call(i,e,r)}:{done:!1}}),u=l[0],p=l[1];h(String.prototype,i,u),h(RegExp.prototype,s,2==t?function(t,e){return p.call(t,this,e)}:function(t){return p.call(t,this)}),r&&c(RegExp.prototype[s],"sham",!0)}}},{"../internals/fails":148,"../internals/hide":163,"../internals/redefine":215,"../internals/regexp-exec":217,"../internals/well-known-symbol":248}],150:[function(t,e,i){"use strict";var h=t("../internals/is-array"),f=t("../internals/to-length"),m=t("../internals/bind-context"),d=function d(t,e,i,r,s,n,a,o){for(var l,u=s,p=0,c=!!a&&m(a,o,3);p<r;){if(p in i){if(l=c?c(i[p],p,e):i[p],0<n&&h(l))u=d(t,e,l,f(l.length),u,n-1)-1;else{if(9007199254740991<=u)throw TypeError("Exceed the acceptable array length");t[u]=l}u++}p++}return u};e.exports=d},{"../internals/bind-context":124,"../internals/is-array":172,"../internals/to-length":238}],151:[function(t,e,i){"use strict";var r=t("../internals/is-pure"),s=t("../internals/global"),n=t("../internals/fails");e.exports=r||!n(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete s[t]})},{"../internals/fails":148,"../internals/global":160,"../internals/is-pure":176}],152:[function(t,e,i){"use strict";var r=t("../internals/fails");e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})}},{"../internals/fails":148}],153:[function(t,e,i){"use strict";var r=t("../internals/fails"),s=t("../internals/whitespaces");e.exports=function(t){return r(function(){return!!s[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||s[t].name!==t})}},{"../internals/fails":148,"../internals/whitespaces":249}],154:[function(t,e,i){"use strict";var r=t("../internals/fails");e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":148}],155:[function(t,e,i){"use strict";var n=t("../internals/a-function"),a=t("../internals/is-object"),o=[].slice,l={},u=function u(t,e,i){if(!(e in l)){for(var r=[],s=0;s<e;s++)r[s]="a["+s+"]";l[e]=Function("C,a","return new C("+r.join(",")+")")}return l[e](t,i)};e.exports=Function.bind||function(e){var i=n(this),r=o.call(arguments,1),s=function(){var t=r.concat(o.call(arguments));return this instanceof s?u(i,t.length,t):i.apply(e,t)};return a(i.prototype)&&(s.prototype=i.prototype),s}},{"../internals/a-function":106,"../internals/is-object":175}],156:[function(t,e,i){"use strict";var r=t("../internals/shared");e.exports=r("native-function-to-string",Function.toString)},{"../internals/shared":225}],157:[function(t,e,i){"use strict";var r=t("../internals/path"),s=t("../internals/global"),n=function n(t){return"function"==typeof t?t:undefined};e.exports=function(t,e){return arguments.length<2?n(r[t])||n(s[t]):r[t]&&r[t][e]||s[t]&&s[t][e]}},{"../internals/global":160,"../internals/path":210}],158:[function(t,e,i){"use strict";var r=t("../internals/classof"),s=t("../internals/iterators"),n=t("../internals/well-known-symbol")("iterator");e.exports=function(t){if(t!=undefined)return t[n]||t["@@iterator"]||s[r(t)]}},{"../internals/classof":128,"../internals/iterators":180,"../internals/well-known-symbol":248}],159:[function(t,e,i){"use strict";var r=t("../internals/an-object"),s=t("../internals/get-iterator-method");e.exports=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},{"../internals/an-object":111,"../internals/get-iterator-method":158}],160:[function(t,s,e){(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object",r=function r(t){return t&&t.Math==Math&&t};s.exports=r(("undefined"==typeof globalThis?"undefined":e(globalThis))==i&&globalThis)||r(("undefined"==typeof window?"undefined":e(window))==i&&window)||r(("undefined"==typeof self?"undefined":e(self))==i&&self)||r((void 0===t?"undefined":e(t))==i&&t)||Function("return this")()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],161:[function(t,e,i){"use strict";var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],162:[function(t,e,i){"use strict";e.exports={}},{}],163:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),s=t("../internals/object-define-property"),n=t("../internals/create-property-descriptor");e.exports=r?function(t,e,i){return s.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},{"../internals/create-property-descriptor":137,"../internals/descriptors":143,"../internals/object-define-property":195}],164:[function(t,e,i){"use strict";var r=t("../internals/global");e.exports=function(t,e){var i=r.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}},{"../internals/global":160}],165:[function(t,e,i){"use strict";var r=t("../internals/get-built-in");e.exports=r("document","documentElement")},{"../internals/get-built-in":157}],166:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),s=t("../internals/fails"),n=t("../internals/document-create-element");e.exports=!r&&!s(function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":143,"../internals/document-create-element":144,"../internals/fails":148}],167:[function(t,e,i){"use strict";var r=t("../internals/fails"),s=t("../internals/classof-raw"),n="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==s(t)?n.call(t,""):Object(t)}:Object},{"../internals/classof-raw":127,"../internals/fails":148}],168:[function(t,e,i){"use strict";var n=t("../internals/is-object"),a=t("../internals/object-set-prototype-of");e.exports=function(t,e,i){var r,s;return a&&"function"==typeof(r=e.constructor)&&r!==i&&n(s=r.prototype)&&s!==i.prototype&&a(t,s),t}},{"../internals/is-object":175,"../internals/object-set-prototype-of":204}],169:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("../internals/hidden-keys"),n=t("../internals/is-object"),a=t("../internals/has"),o=t("../internals/object-define-property").f,l=t("../internals/uid"),u=t("../internals/freezing"),p=l("meta"),c=0,h=Object.isExtensible||function(){return!0},f=function f(t){o(t,p,{value:{objectID:"O"+ ++c,weakData:{}}})},m=function m(t,e){if(!n(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,p)){if(!h(t))return"F";if(!e)return"E";f(t)}return t[p].objectID},d=function d(t,e){if(!a(t,p)){if(!h(t))return!0;if(!e)return!1;f(t)}return t[p].weakData},g=function g(t){return u&&b.REQUIRED&&h(t)&&!a(t,p)&&f(t),t},b=e.exports={REQUIRED:!1,fastKey:m,getWeakData:d,onFreeze:g};s[p]=!0},{"../internals/freezing":154,"../internals/has":161,"../internals/hidden-keys":162,"../internals/is-object":175,"../internals/object-define-property":195,"../internals/uid":245}],170:[function(t,e,i){"use strict";var r,s,n,a=t("../internals/native-weak-map"),o=t("../internals/global"),l=t("../internals/is-object"),u=t("../internals/hide"),p=t("../internals/has"),c=t("../internals/shared-key"),h=t("../internals/hidden-keys"),f=o.WeakMap,m=function m(t){return n(t)?s(t):r(t,{})},d=function d(i){return function(t){var e;if(!l(t)||(e=s(t)).type!==i)throw TypeError("Incompatible receiver, "+i+" required");return e}};if(a){var g=new f,b=g.get,y=g.has,v=g.set;r=function r(t,e){return v.call(g,t,e),e},s=function s(t){return b.call(g,t)||{}},n=function n(t){return y.call(g,t)}}else{var _=c("state");h[_]=!0,r=function r(t,e){return u(t,_,e),e},s=function s(t){return p(t,_)?t[_]:{}},n=function n(t){return p(t,_)}}e.exports={set:r,get:s,has:n,enforce:m,getterFor:d}},{"../internals/global":160,"../internals/has":161,"../internals/hidden-keys":162,"../internals/hide":163,"../internals/is-object":175,"../internals/native-weak-map":188,"../internals/shared-key":224}],171:[function(t,e,i){"use strict";var r=t("../internals/well-known-symbol"),s=t("../internals/iterators"),n=r("iterator"),a=Array.prototype;e.exports=function(t){return t!==undefined&&(s.Array===t||a[n]===t)}},{"../internals/iterators":180,"../internals/well-known-symbol":248}],172:[function(t,e,i){"use strict";var r=t("../internals/classof-raw");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"../internals/classof-raw":127}],173:[function(t,e,i){"use strict";var r=t("../internals/fails"),s=/#|\.prototype\./,n=function n(t,e){var i=o[a(t)];return i==u||i!=l&&("function"==typeof e?r(e):!!e)},a=n.normalize=function(t){return String(t).replace(s,".").toLowerCase()},o=n.data={},l=n.NATIVE="N",u=n.POLYFILL="P";e.exports=n},{"../internals/fails":148}],174:[function(t,e,i){"use strict";var r=t("../internals/is-object"),s=Math.floor;e.exports=function(t){return!r(t)&&isFinite(t)&&s(t)===t}},{"../internals/is-object":175}],175:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports=function(t){return"object"===r(t)?null!==t:"function"==typeof t}},{}],176:[function(t,e,i){"use strict";e.exports=!1},{}],177:[function(t,e,i){"use strict";var r=t("../internals/is-object"),s=t("../internals/classof-raw"),n=t("../internals/well-known-symbol")("match");e.exports=function(t){var e;return r(t)&&((e=t[n])!==undefined?!!e:"RegExp"==s(t))}},{"../internals/classof-raw":127,"../internals/is-object":175,"../internals/well-known-symbol":248}],178:[function(t,e,i){"use strict";var h=t("../internals/an-object"),f=t("../internals/is-array-iterator-method"),m=t("../internals/to-length"),d=t("../internals/bind-context"),g=t("../internals/get-iterator-method"),b=t("../internals/call-with-safe-iteration-closing"),y=function y(t,e){this.stopped=t,this.result=e};(e.exports=function(t,e,i,r,s){var n,a,o,l,u,p,c=d(e,i,r?2:1);if(s)n=t;else{if("function"!=typeof(a=g(t)))throw TypeError("Target is not iterable");if(f(a)){for(o=0,l=m(t.length);o<l;o++)if((u=r?c(h(p=t[o])[0],p[1]):c(t[o]))&&u instanceof y)return u;return new y(!1)}n=a.call(t)}for(;!(p=n.next()).done;)if((u=b(n,c,p.value,r))&&u instanceof y)return u;return new y(!1)}).stop=function(t){return new y(!0,t)}},{"../internals/an-object":111,"../internals/bind-context":124,"../internals/call-with-safe-iteration-closing":125,"../internals/get-iterator-method":158,"../internals/is-array-iterator-method":171,"../internals/to-length":238}],179:[function(t,e,i){"use strict";var r,s,n,a=t("../internals/object-get-prototype-of"),o=t("../internals/hide"),l=t("../internals/has"),u=t("../internals/well-known-symbol"),p=t("../internals/is-pure"),c=u("iterator"),h=!1,f=function f(){return this};[].keys&&("next"in(n=[].keys())?(s=a(a(n)))!==Object.prototype&&(r=s):h=!0),r==undefined&&(r={}),p||l(r,c)||o(r,c,f),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},{"../internals/has":161,"../internals/hide":163,"../internals/is-pure":176,"../internals/object-get-prototype-of":200,"../internals/well-known-symbol":248}],180:[function(t,e,i){"use strict";e.exports={}},{}],181:[function(t,e,i){"use strict";var r=Math.expm1,s=Math.exp;e.exports=!r||22025.465794806718<r(10)||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:s(t)-1}:r},{}],182:[function(t,e,i){"use strict";var n=t("../internals/math-sign"),a=Math.abs,r=Math.pow,o=r(2,-52),l=r(2,-23),u=r(2,127)*(2-l),p=r(2,-126),c=function c(t){return t+1/o-1/o};e.exports=Math.fround||function(t){var e,i,r=a(t),s=n(t);return r<p?s*c(r/p/l)*p*l:u<(i=(e=(1+l/o)*r)-(e-r))||i!=i?s*Infinity:s*i}},{"../internals/math-sign":184}],183:[function(t,e,i){"use strict";var r=Math.log;e.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:r(1+t)}},{}],184:[function(t,e,i){"use strict";e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],185:[function(t,e,i){"use strict";var r,s,n,a,o,l,u,p=t("../internals/global"),c=t("../internals/object-get-own-property-descriptor").f,h=t("../internals/classof-raw"),f=t("../internals/task").set,m=t("../internals/user-agent"),d=p.MutationObserver||p.WebKitMutationObserver,g=p.process,b=p.Promise,y="process"==h(g),v=c(p,"queueMicrotask"),_=v&&v.value;_||(r=function r(){var t,e;for(y&&(t=g.domain)&&t.exit();s;){e=s.fn,s=s.next;try{e()}catch(i){throw s?a():n=undefined,i}}n=undefined,t&&t.enter()},a=y?function a(){g.nextTick(r)}:d&&!/(iphone|ipod|ipad).*applewebkit/i.test(m)?(o=!0,l=document.createTextNode(""),new d(r).observe(l,{characterData:!0}),function a(){l.data=o=!o}):b&&b.resolve?(u=b.resolve(undefined),function a(){u.then(r)}):function a(){f.call(p,r)}),e.exports=_||function(t){var e={fn:t,next:undefined};n&&(n.next=e),s||(s=e,a()),n=e}},{"../internals/classof-raw":127,"../internals/global":160,"../internals/object-get-own-property-descriptor":196,"../internals/task":232,"../internals/user-agent":246}],186:[function(t,e,i){"use strict";var r=t("../internals/fails");e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},{"../internals/fails":148}],187:[function(t,e,i){"use strict";var r=t("../internals/fails"),s=t("../internals/well-known-symbol"),n=t("../internals/is-pure"),a=s("iterator");e.exports=!r(function(){var t=new URL("b?e=1","http://a"),e=t.searchParams;return t.pathname="c%20d",n&&!t.toJSON||!e.sort||"http://a/c%20d?e=1"!==t.href||"1"!==e.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash})},{"../internals/fails":148,"../internals/is-pure":176,"../internals/well-known-symbol":248}],188:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/function-to-string"),n=r.WeakMap;e.exports="function"==typeof n&&/native code/.test(s.call(n))},{"../internals/function-to-string":156,"../internals/global":160}],189:[function(t,e,i){"use strict";var s=t("../internals/a-function"),n=function n(t){var i,r;this.promise=new t(function(t,e){if(i!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");i=t,r=e}),this.resolve=s(i),this.reject=s(r)};e.exports.f=function(t){return new n(t)}},{"../internals/a-function":106}],190:[function(t,e,i){"use strict";var r=t("../internals/is-regexp");e.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":177}],191:[function(t,e,i){"use strict";var r=t("../internals/global").isFinite;e.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},{"../internals/global":160}],192:[function(t,e,i){"use strict";var h=t("../internals/descriptors"),r=t("../internals/fails"),f=t("../internals/object-keys"),m=t("../internals/object-get-own-property-symbols"),d=t("../internals/object-property-is-enumerable"),g=t("../internals/to-object"),b=t("../internals/indexed-object"),s=Object.assign;e.exports=!s||r(function(){var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[i]||f(s({},e)).join("")!=r})?function(t,e){for(var i=g(t),r=arguments.length,s=1,n=m.f,a=d.f;s<r;)for(var o,l=b(arguments[s++]),u=n?f(l).concat(n(l)):f(l),p=u.length,c=0;c<p;)o=u[c++],h&&!a.call(l,o)||(i[o]=l[o]);return i}:s},{"../internals/descriptors":143,"../internals/fails":148,"../internals/indexed-object":167,"../internals/object-get-own-property-symbols":199,"../internals/object-keys":202,"../internals/object-property-is-enumerable":203,"../internals/to-object":239}],193:[function(t,e,i){"use strict";var r=t("../internals/an-object"),s=t("../internals/object-define-properties"),n=t("../internals/enum-bug-keys"),a=t("../internals/hidden-keys"),o=t("../internals/html"),l=t("../internals/document-create-element"),u=t("../internals/shared-key")("IE_PROTO"),p="prototype",c=function c(){},h=function(){var t,e=l("iframe"),i=n.length;for(e.style.display="none",o.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;i--;)delete h[p][n[i]];return h()};e.exports=Object.create||function(t,e){var i;return null!==t?(c[p]=r(t),i=new c,c[p]=null,i[u]=t):i=h(),e===undefined?i:s(i,e)},a[u]=!0},{"../internals/an-object":111,"../internals/document-create-element":144,"../internals/enum-bug-keys":146,"../internals/hidden-keys":162,"../internals/html":165,"../internals/object-define-properties":194,"../internals/shared-key":224}],194:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),a=t("../internals/object-define-property"),o=t("../internals/an-object"),l=t("../internals/object-keys");e.exports=r?Object.defineProperties:function(t,e){o(t);for(var i,r=l(e),s=r.length,n=0;n<s;)a.f(t,i=r[n++],e[i]);return t}},{"../internals/an-object":111,"../internals/descriptors":143,"../internals/object-define-property":195,"../internals/object-keys":202}],195:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),s=t("../internals/ie8-dom-define"),n=t("../internals/an-object"),a=t("../internals/to-primitive"),o=Object.defineProperty;i.f=r?o:function(t,e,i){if(n(t),e=a(e,!0),n(i),s)try{return o(t,e,i)}catch(r){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},{"../internals/an-object":111,"../internals/descriptors":143,"../internals/ie8-dom-define":166,"../internals/to-primitive":241}],196:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),s=t("../internals/object-property-is-enumerable"),n=t("../internals/create-property-descriptor"),a=t("../internals/to-indexed-object"),o=t("../internals/to-primitive"),l=t("../internals/has"),u=t("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;i.f=r?p:function(t,e){if(t=a(t),e=o(e,!0),u)try{return p(t,e)}catch(i){}if(l(t,e))return n(!s.f.call(t,e),t[e])}},{"../internals/create-property-descriptor":137,"../internals/descriptors":143,"../internals/has":161,"../internals/ie8-dom-define":166,"../internals/object-property-is-enumerable":203,"../internals/to-indexed-object":236,"../internals/to-primitive":241}],197:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("../internals/to-indexed-object"),n=t("../internals/object-get-own-property-names").f,a={}.toString,o="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function l(t){try{return n(t)}catch(e){return o.slice()}};e.exports.f=function(t){return o&&"[object Window]"==a.call(t)?l(t):n(s(t))}},{"../internals/object-get-own-property-names":198,"../internals/to-indexed-object":236}],198:[function(t,e,i){"use strict";var r=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return r(t,s)}},{"../internals/enum-bug-keys":146,"../internals/object-keys-internal":201}],199:[function(t,e,i){"use strict";i.f=Object.getOwnPropertySymbols},{}],200:[function(t,e,i){"use strict";var r=t("../internals/has"),s=t("../internals/to-object"),n=t("../internals/shared-key"),a=t("../internals/correct-prototype-getter"),o=n("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(t){return t=s(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},{"../internals/correct-prototype-getter":134,"../internals/has":161,"../internals/shared-key":224,"../internals/to-object":239}],201:[function(t,e,i){"use strict";var a=t("../internals/has"),o=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,u=t("../internals/hidden-keys");e.exports=function(t,e){var i,r=o(t),s=0,n=[];for(i in r)!a(u,i)&&a(r,i)&&n.push(i);for(;e.length>s;)a(r,i=e[s++])&&(~l(n,i)||n.push(i));return n}},{"../internals/array-includes":118,"../internals/has":161,"../internals/hidden-keys":162,"../internals/to-indexed-object":236}],202:[function(t,e,i){"use strict";var r=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys");e.exports=Object.keys||function(t){return r(t,s)}},{"../internals/enum-bug-keys":146,"../internals/object-keys-internal":201}],203:[function(t,e,i){"use strict";var r={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,n=s&&!r.call({1:2},1);i.f=n?function(t){var e=s(this,t);return!!e&&e.enumerable}:r},{}],204:[function(t,e,i){"use strict";var s=t("../internals/an-object"),n=t("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i,r=!1,t={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(e){}return function(t,e){return s(t),n(e),r?i.call(t,e):t.__proto__=e,t}}():undefined)},{"../internals/a-possible-prototype":107,"../internals/an-object":111}],205:[function(t,e,i){"use strict";var l=t("../internals/descriptors"),u=t("../internals/object-keys"),p=t("../internals/to-indexed-object"),c=t("../internals/object-property-is-enumerable").f,r=function r(o){return function(t){for(var e,i=p(t),r=u(i),s=r.length,n=0,a=[];n<s;)e=r[n++],l&&!c.call(i,e)||a.push(o?[e,i[e]]:i[e]);return a}};e.exports={entries:r(!0),values:r(!1)}},{"../internals/descriptors":143,"../internals/object-keys":202,"../internals/object-property-is-enumerable":203,"../internals/to-indexed-object":236}],206:[function(t,e,i){"use strict";var r=t("../internals/classof"),s={};s[t("../internals/well-known-symbol")("toStringTag")]="z",e.exports="[object z]"!==String(s)?function(){return"[object "+r(this)+"]"}:s.toString},{"../internals/classof":128,"../internals/well-known-symbol":248}],207:[function(t,e,i){"use strict";var r=t("../internals/get-built-in"),s=t("../internals/object-get-own-property-names"),n=t("../internals/object-get-own-property-symbols"),a=t("../internals/an-object");e.exports=r("Reflect","ownKeys")||function(t){var e=s.f(a(t)),i=n.f;return i?e.concat(i(t)):e}},{"../internals/an-object":111,"../internals/get-built-in":157,"../internals/object-get-own-property-names":198,"../internals/object-get-own-property-symbols":199}],208:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/string-trim").trim,n=t("../internals/whitespaces"),a=r.parseFloat,o=1/a(n+"-0")!=-Infinity;e.exports=o?function(t){var e=s(String(t)),i=a(e);return 0===i&&"-"==e.charAt(0)?-0:i}:a},{"../internals/global":160,"../internals/string-trim":231,"../internals/whitespaces":249}],209:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/string-trim").trim,n=t("../internals/whitespaces"),a=r.parseInt,o=/^[+-]?0[Xx]/,l=8!==a(n+"08")||22!==a(n+"0x16");e.exports=l?function(t,e){var i=s(String(t));return a(i,e>>>0||(o.test(i)?16:10))}:a},{"../internals/global":160,"../internals/string-trim":231,"../internals/whitespaces":249}],210:[function(t,e,i){"use strict";e.exports=t("../internals/global")},{"../internals/global":160}],211:[function(t,e,i){"use strict";e.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},{}],212:[function(t,e,i){"use strict";var r=t("../internals/an-object"),s=t("../internals/is-object"),n=t("../internals/new-promise-capability");e.exports=function(t,e){if(r(t),s(e)&&e.constructor===t)return e;var i=n.f(t);return(0,i.resolve)(e),i.promise}},{"../internals/an-object":111,"../internals/is-object":175,"../internals/new-promise-capability":189}],213:[function(t,e,i){"use strict";var b=2147483647,n=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,y="Overflow: input needs wider integers to process",v=Math.floor,_=String.fromCharCode,x=function x(t){for(var e=[],i=0,r=t.length;i<r;){var s=t.charCodeAt(i++);if(55296<=s&&s<=56319&&i<r){var n=t.charCodeAt(i++);56320==(64512&n)?e.push(((1023&s)<<10)+(1023&n)+65536):(e.push(s),i--)}else e.push(s)}return e},w=function w(t){return t+22+75*(t<26)},A=function A(t,e,i){var r=0;for(t=i?v(t/700):t>>1,t+=v(t/e);455<t;r+=36)t=v(t/35);return v(r+36*t/(t+38))},E=function E(t){var e,i,r=[],s=(t=x(t)).length,n=128,a=0,o=72;for(e=0;e<t.length;e++)(i=t[e])<128&&r.push(_(i));var l=r.length,u=l;for(l&&r.push("-");u<s;){var p=b;for(e=0;e<t.length;e++)n<=(i=t[e])&&i<p&&(p=i);var c=u+1;if(p-n>v((b-a)/c))throw RangeError(y);for(a+=(p-n)*c,n=p,e=0;e<t.length;e++){if((i=t[e])<n&&++a>b)throw RangeError(y);if(i==n){for(var h=a,f=36;;f+=36){var m=f<=o?1:o+26<=f?26:f-o;if(h<m)break;var d=h-m,g=36-m;r.push(_(w(m+d%g))),h=v(d/g)}r.push(_(w(h))),o=A(a,c,u==l),a=0,++u}}++a,++n}return r.join("")};e.exports=function(t){var e,i,r=[],s=t.toLowerCase().replace(a,".").split(".");for(e=0;e<s.length;e++)i=s[e],r.push(n.test(i)?"xn--"+E(i):i);return r.join(".")}},{}],214:[function(t,e,i){"use strict";var s=t("../internals/redefine");e.exports=function(t,e,i){for(var r in e)s(t,r,e[r],i);return t}},{"../internals/redefine":215}],215:[function(t,e,i){"use strict";var o=t("../internals/global"),r=t("../internals/shared"),l=t("../internals/hide"),u=t("../internals/has"),p=t("../internals/set-global"),s=t("../internals/function-to-string"),n=t("../internals/internal-state"),a=n.get,c=n.enforce,h=String(s).split("toString");r("inspectSource",function(t){return s.call(t)}),(e.exports=function(t,e,i,r){var s=!!r&&!!r.unsafe,n=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof i&&("string"!=typeof e||u(i,"name")||l(i,"name",e),c(i).source=h.join("string"==typeof e?e:"")),t!==o?(s?!a&&t[e]&&(n=!0):delete t[e],n?t[e]=i:l(t,e,i)):n?t[e]=i:p(e,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&a(this).source||s.call(this)})},{"../internals/function-to-string":156,"../internals/global":160,"../internals/has":161,"../internals/hide":163,"../internals/internal-state":170,"../internals/set-global":221,"../internals/shared":225}],216:[function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=t("./classof-raw"),a=t("./regexp-exec");e.exports=function(t,e){var i=t.exec;if("function"==typeof i){var r=i.call(t,e);if("object"!==s(r))throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},{"./classof-raw":127,"./regexp-exec":217}],217:[function(t,e,i){"use strict";var r,s,n=t("./regexp-flags"),a=RegExp.prototype.exec,o=String.prototype.replace,l=a,u=(r=/a/,s=/b*/g,a.call(r,"a"),a.call(s,"a"),0!==r.lastIndex||0!==s.lastIndex),p=/()??/.exec("")[1]!==undefined;(u||p)&&(l=function(t){var e,i,r,s;return p&&(i=new RegExp("^"+this.source+"$(?!\\s)",n.call(this))),u&&(e=this.lastIndex),r=a.call(this,t),u&&r&&(this.lastIndex=this.global?r.index+r[0].length:e),p&&r&&1<r.length&&o.call(r[0],i,function(){for(s=1;s<arguments.length-2;s++)arguments[s]===undefined&&(r[s]=undefined)}),r}),e.exports=l},{"./regexp-flags":218}],218:[function(t,e,i){"use strict";var r=t("../internals/an-object");e.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"../internals/an-object":111}],219:[function(t,e,i){"use strict";e.exports=function(t){if(t==undefined)throw TypeError("Can't call method on "+t);return t}},{}],220:[function(t,e,i){"use strict";e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],221:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/hide");e.exports=function(t,e){try{s(r,t,e)}catch(i){r[t]=e}return e}},{"../internals/global":160,"../internals/hide":163}],222:[function(t,e,i){"use strict";var r=t("../internals/get-built-in"),s=t("../internals/object-define-property"),n=t("../internals/well-known-symbol"),a=t("../internals/descriptors"),o=n("species");e.exports=function(t){var e=r(t),i=s.f;a&&e&&!e[o]&&i(e,o,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":143,"../internals/get-built-in":157,"../internals/object-define-property":195,"../internals/well-known-symbol":248}],223:[function(t,e,i){"use strict";var r=t("../internals/object-define-property").f,s=t("../internals/has"),n=t("../internals/well-known-symbol")("toStringTag");e.exports=function(t,e,i){t&&!s(t=i?t:t.prototype,n)&&r(t,n,{configurable:!0,value:e})}},{"../internals/has":161,"../internals/object-define-property":195,"../internals/well-known-symbol":248}],224:[function(t,e,i){"use strict";var r=t("../internals/shared"),s=t("../internals/uid"),n=r("keys");e.exports=function(t){return n[t]||(n[t]=s(t))}},{"../internals/shared":225,"../internals/uid":245}],225:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/set-global"),n=t("../internals/is-pure"),a="__core-js_shared__",o=r[a]||s(a,{});(e.exports=function(t,e){return o[t]||(o[t]=e!==undefined?e:{})})("versions",[]).push({version:"3.1.3",mode:n?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},{"../internals/global":160,"../internals/is-pure":176,"../internals/set-global":221}],226:[function(t,e,i){"use strict";var r=t("../internals/fails");e.exports=function(t,e){var i=[][t];return!i||!r(function(){i.call(null,e||function(){throw 1},1)})}},{"../internals/fails":148}],227:[function(t,e,i){"use strict";var s=t("../internals/an-object"),n=t("../internals/a-function"),a=t("../internals/well-known-symbol")("species");e.exports=function(t,e){var i,r=s(t).constructor;return r===undefined||(i=s(r)[a])==undefined?e:n(i)}},{"../internals/a-function":106,"../internals/an-object":111,"../internals/well-known-symbol":248}],228:[function(t,e,i){"use strict";var l=t("../internals/to-integer"),u=t("../internals/require-object-coercible"),r=function r(o){return function(t,e){var i,r,s=String(u(t)),n=l(e),a=s.length;return n<0||a<=n?o?"":undefined:(i=s.charCodeAt(n))<55296||56319<i||n+1===a||(r=s.charCodeAt(n+1))<56320||57343<r?o?s.charAt(n):i:o?s.slice(n,n+2):r-56320+(i-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},{"../internals/require-object-coercible":219,"../internals/to-integer":237}],229:[function(t,e,i){"use strict";var p=t("../internals/to-length"),c=t("../internals/string-repeat"),h=t("../internals/require-object-coercible"),f=Math.ceil,r=function r(u){return function(t,e,i){var r,s,n=String(h(t)),a=n.length,o=i===undefined?" ":String(i),l=p(e);return l<=a||""==o?n:(r=l-a,(s=c.call(o,f(r/o.length))).length>r&&(s=s.slice(0,r)),u?n+s:s+n)}};e.exports={start:r(!1),end:r(!0)}},{"../internals/require-object-coercible":219,"../internals/string-repeat":230,"../internals/to-length":238}],230:[function(t,e,i){"use strict";var s=t("../internals/to-integer"),n=t("../internals/require-object-coercible");e.exports="".repeat||function(t){var e=String(n(this)),i="",r=s(t);if(r<0||r==Infinity)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},{"../internals/require-object-coercible":219,"../internals/to-integer":237}],231:[function(t,e,i){"use strict";var r=t("../internals/require-object-coercible"),s="["+t("../internals/whitespaces")+"]",n=RegExp("^"+s+s+"*"),a=RegExp(s+s+"*$"),o=function o(i){return function(t){var e=String(r(t));return 1&i&&(e=e.replace(n,"")),2&i&&(e=e.replace(a,"")),e}};e.exports={start:o(1),end:o(2),trim:o(3)}},{"../internals/require-object-coercible":219,"../internals/whitespaces":249}],232:[function(t,e,i){"use strict";var r,s,n,a=t("../internals/global"),o=t("../internals/fails"),l=t("../internals/classof-raw"),u=t("../internals/bind-context"),p=t("../internals/html"),c=t("../internals/document-create-element"),h=a.location,f=a.setImmediate,m=a.clearImmediate,d=a.process,g=a.MessageChannel,b=a.Dispatch,y=0,v={},_="onreadystatechange",x=function x(t){if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},w=function w(t){return function(){x(t)}},A=function A(t){x(t.data)},E=function E(t){a.postMessage(t+"",h.protocol+"//"+h.host)};f&&m||(f=function(t){for(var e=[],i=1;i<arguments.length;)e.push(arguments[i++]);return v[++y]=function(){("function"==typeof t?t:Function(t)).apply(undefined,e)},r(y),y},m=function(t){delete v[t]},"process"==l(d)?r=function r(t){d.nextTick(w(t))}:b&&b.now?r=function r(t){b.now(w(t))}:g?(n=(s=new g).port2,s.port1.onmessage=A,r=u(n.postMessage,n,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||o(E)?r=_ in c("script")?function r(t){p.appendChild(c("script"))[_]=function(){p.removeChild(this),x(t)}}:function r(t){setTimeout(w(t),0)}:(r=E,a.addEventListener("message",A,!1))),e.exports={set:f,clear:m}},{"../internals/bind-context":124,"../internals/classof-raw":127,"../internals/document-create-element":144,"../internals/fails":148,"../internals/global":160,"../internals/html":165}],233:[function(t,e,i){"use strict";var r=t("../internals/classof-raw");e.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":127}],234:[function(t,e,i){"use strict";var r=t("../internals/to-integer"),s=Math.max,n=Math.min;e.exports=function(t,e){var i=r(t);return i<0?s(i+e,0):n(i,e)}},{"../internals/to-integer":237}],235:[function(t,e,i){"use strict";var r=t("../internals/to-integer"),s=t("../internals/to-length");e.exports=function(t){if(t===undefined)return 0;var e=r(t),i=s(e);if(e!==i)throw RangeError("Wrong length or index");return i}},{"../internals/to-integer":237,"../internals/to-length":238}],236:[function(t,e,i){"use strict";var r=t("../internals/indexed-object"),s=t("../internals/require-object-coercible");e.exports=function(t){return r(s(t))}},{"../internals/indexed-object":167,"../internals/require-object-coercible":219}],237:[function(t,e,i){"use strict";var r=Math.ceil,s=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(0<t?s:r)(t)}},{}],238:[function(t,e,i){"use strict";var r=t("../internals/to-integer"),s=Math.min;e.exports=function(t){return 0<t?s(r(t),9007199254740991):0}},{"../internals/to-integer":237}],239:[function(t,e,i){"use strict";var r=t("../internals/require-object-coercible");e.exports=function(t){return Object(r(t))}},{"../internals/require-object-coercible":219}],240:[function(t,e,i){"use strict";var r=t("../internals/to-integer");e.exports=function(t,e){var i=r(t);if(i<0||i%e)throw RangeError("Wrong offset");return i}},{"../internals/to-integer":237}],241:[function(t,e,i){"use strict";var s=t("../internals/is-object");e.exports=function(t,e){if(!s(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!s(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!s(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!s(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":175}],242:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return W(t,e=p(e,!0))?u(2,t[e]):P(t,e)}function n(t,e,i){return!(W(t,e=p(e,!0))&&w(i)&&c(i,"value"))||c(i,"get")||c(i,"set")||i.configurable||c(i,"writable")&&!i.writable||c(i,"enumerable")&&!i.enumerable?C(t,e,i):(t[e]=i.value,t)}var m=t("../internals/export"),d=t("../internals/global"),a=t("../internals/descriptors"),g=t("../internals/typed-arrays-constructors-requires-wrappers"),o=t("../internals/array-buffer-view-core"),l=t("../internals/array-buffer"),b=t("../internals/an-instance"),u=t("../internals/create-property-descriptor"),y=t("../internals/hide"),v=t("../internals/to-length"),_=t("../internals/to-index"),x=t("../internals/to-offset"),p=t("../internals/to-primitive"),c=t("../internals/has"),h=t("../internals/classof"),w=t("../internals/is-object"),A=t("../internals/object-create"),E=t("../internals/object-set-prototype-of"),O=t("../internals/object-get-own-property-names").f,T=t("../internals/typed-array-from"),S=t("../internals/array-iteration").forEach,I=t("../internals/set-species"),f=t("../internals/object-define-property"),k=t("../internals/object-get-own-property-descriptor"),N=t("../internals/internal-state"),Q=N.get,j=N.set,C=f.f,P=k.f,R=Math.round,D=d.RangeError,L=l.ArrayBuffer,M=l.DataView,B=o.NATIVE_ARRAY_BUFFER_VIEWS,U=o.TYPED_ARRAY_TAG,F=o.TypedArray,G=o.TypedArrayPrototype,q=o.aTypedArrayConstructor,z=o.isTypedArray,V="BYTES_PER_ELEMENT",X="Wrong length",H=function H(t,e){for(var i=0,r=e.length,s=new(q(t))(r);i<r;)s[i]=e[i++];return s},Y=function Y(t,e){C(t,e,{get:function(){return Q(this)[e]}})},J=function J(t){var e;return t instanceof L||"ArrayBuffer"==(e=h(t))||"SharedArrayBuffer"==e},W=function W(t,e){return z(t)&&"symbol"!=r(e)&&e in t&&String(+e)==String(e)};a?(B||(k.f=s,f.f=n,Y(G,"buffer"),Y(G,"byteOffset"),Y(G,"byteLength"),Y(G,"length")),m({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:s,defineProperty:n}),e.exports=function(t,p,e,s){var c=t+(s?"Clamped":"")+"Array",r="get"+t,n="set"+t,a=d[c],h=a,i=h&&h.prototype,o={},l=function l(t,e){var i=Q(t);return i.view[r](e*p+i.byteOffset,!0)},u=function u(t,e,i){var r=Q(t);s&&(i=(i=R(i))<0?0:255<i?255:255&i),r.view[n](e*p+r.byteOffset,i,!0)},f=function f(t,e){C(t,e,{get:function(){return l(this,e)},set:function(t){return u(this,e,t)},enumerable:!0})};B?g&&(h=e(function(t,e,i,r){return b(t,h,c),w(e)?J(e)?r!==undefined?new a(e,x(i,p),r):i!==undefined?new a(e,x(i,p)):new a(e):z(e)?H(h,e):T.call(h,e):new a(_(e))}),E&&E(h,F),S(O(a),function(t){t in h||y(h,t,a[t])}),h.prototype=i):(h=e(function(t,e,i,r){b(t,h,c);var s,n,a,o=0,l=0;if(w(e)){if(!J(e))return z(e)?H(h,e):T.call(h,e);s=e,l=x(i,p);var u=e.byteLength;if(r===undefined){if(u%p)throw D(X);if((n=u-l)<0)throw D(X)}else if(u<(n=v(r)*p)+l)throw D(X);a=n/p}else a=_(e),s=new L(n=a*p);for(j(t,{buffer:s,byteOffset:l,byteLength:n,length:a,view:new M(s)});o<a;)f(t,o++)}),E&&E(h,F),i=h.prototype=A(G)),i.constructor!==h&&y(i,"constructor",h),U&&y(i,U,c),o[c]=h,m({global:!0,forced:h!=a,sham:!B},o),V in h||y(h,V,p),V in i||y(i,V,p),I(c)}):e.exports=function(){}},{"../internals/an-instance":110,"../internals/array-buffer":113,"../internals/array-buffer-view-core":112,"../internals/array-iteration":119,"../internals/classof":128,"../internals/create-property-descriptor":137,"../internals/descriptors":143,"../internals/export":147,"../internals/global":160,"../internals/has":161,"../internals/hide":163,"../internals/internal-state":170,"../internals/is-object":175,"../internals/object-create":193,"../internals/object-define-property":195,"../internals/object-get-own-property-descriptor":196,"../internals/object-get-own-property-names":198,"../internals/object-set-prototype-of":204,"../internals/set-species":222,"../internals/to-index":235,"../internals/to-length":238,"../internals/to-offset":240,"../internals/to-primitive":241,"../internals/typed-array-from":243,"../internals/typed-arrays-constructors-requires-wrappers":244}],243:[function(t,e,i){"use strict";var c=t("../internals/to-object"),h=t("../internals/to-length"),f=t("../internals/get-iterator-method"),m=t("../internals/is-array-iterator-method"),d=t("../internals/bind-context"),g=t("../internals/array-buffer-view-core").aTypedArrayConstructor;e.exports=function(t){var e,i,r,s,n,a=c(t),o=arguments.length,l=1<o?arguments[1]:undefined,u=l!==undefined,p=f(a);if(p!=undefined&&!m(p))for(n=p.call(a),a=[];!(s=n.next()).done;)a.push(s.value);for(u&&2<o&&(l=d(l,arguments[2],2)),i=h(a.length),r=new(g(this))(i),e=0;e<i;e++)r[e]=u?l(a[e],e):a[e];return r}},{"../internals/array-buffer-view-core":112,"../internals/bind-context":124,"../internals/get-iterator-method":158,"../internals/is-array-iterator-method":171,"../internals/to-length":238,"../internals/to-object":239}],244:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/fails"),n=t("../internals/check-correctness-of-iteration"),a=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,o=r.ArrayBuffer,l=r.Int8Array;e.exports=!a||!s(function(){l(1)})||!s(function(){new l(-1)})||!n(function(t){new l,new l(null),new l(1.5),new l(t)},!0)||s(function(){return 1!==new l(new o(2),1,undefined).length})},{"../internals/array-buffer-view-core":112,"../internals/check-correctness-of-iteration":126,"../internals/fails":148,"../internals/global":160}],245:[function(t,e,i){"use strict";var r=0,s=Math.random();e.exports=function(t){return"Symbol("+String(t===undefined?"":t)+")_"+(++r+s).toString(36)}},{}],246:[function(t,e,i){"use strict";var r=t("../internals/get-built-in");e.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":157}],247:[function(t,e,i){"use strict";var r=t("../internals/user-agent");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},{"../internals/user-agent":246}],248:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/shared"),n=t("../internals/uid"),a=t("../internals/native-symbol"),o=r.Symbol,l=s("wks");e.exports=function(t){return l[t]||(l[t]=a&&o[t]||(a?o:n)("Symbol."+t))}},{"../internals/global":160,"../internals/native-symbol":186,"../internals/shared":225,"../internals/uid":245}],249:[function(t,e,i){"use strict";e.exports="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],250:[function(t,e,i){"use strict";i.f=t("../internals/well-known-symbol")},{"../internals/well-known-symbol":248}],251:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/global"),n=t("../internals/array-buffer"),a=t("../internals/set-species"),o="ArrayBuffer",l=n[o];r({global:!0,forced:s[o]!==l},{ArrayBuffer:l}),a(o)},{"../internals/array-buffer":113,"../internals/export":147,"../internals/global":160,"../internals/set-species":222}],252:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-buffer-view-core");r({target:"ArrayBuffer",stat:!0,forced:!s.NATIVE_ARRAY_BUFFER_VIEWS},{isView:s.isView})},{"../internals/array-buffer-view-core":112,"../internals/export":147}],253:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/array-buffer"),u=t("../internals/an-object"),p=t("../internals/to-absolute-index"),c=t("../internals/to-length"),h=t("../internals/species-constructor"),f=n.ArrayBuffer,m=n.DataView,d=f.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s(function(){return!new f(2).slice(1,undefined).byteLength})},{slice:function(t,e){if(d!==undefined&&e===undefined)return d.call(u(this),t);for(var i=u(this).byteLength,r=p(t,i),s=p(e===undefined?i:e,i),n=new(h(this,f))(c(s-r)),a=new m(this),o=new m(n),l=0;r<s;)o.setUint8(l++,a.getUint8(r++));return n}})},{"../internals/an-object":111,"../internals/array-buffer":113,"../internals/export":147,"../internals/fails":148,"../internals/species-constructor":227,"../internals/to-absolute-index":234,"../internals/to-length":238}],254:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/is-array"),a=t("../internals/is-object"),u=t("../internals/to-object"),p=t("../internals/to-length"),c=t("../internals/create-property"),h=t("../internals/array-species-create"),o=t("../internals/array-method-has-species-support"),l=t("../internals/well-known-symbol")("isConcatSpreadable"),f=9007199254740991,m="Maximum allowed index exceeded",d=!s(function(){var t=[];return t[l]=!1,t.concat()[0]!==t}),g=o("concat"),b=function b(t){if(!a(t))return!1;var e=t[l];return e!==undefined?!!e:n(t)};r({target:"Array",proto:!0,forced:!d||!g},{concat:function(t){var e,i,r,s,n,a=u(this),o=h(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(b(n=-1===e?a:arguments[e])){if(s=p(n.length),f<l+s)throw TypeError(m);for(i=0;i<s;i++,l++)i in n&&c(o,l,n[i])}else{if(f<=l)throw TypeError(m);c(o,l++,n)}return o.length=l,o}})},{"../internals/array-method-has-species-support":121,"../internals/array-species-create":123,"../internals/create-property":138,"../internals/export":147,"../internals/fails":148,"../internals/is-array":172,"../internals/is-object":175,"../internals/to-length":238,"../internals/to-object":239,"../internals/well-known-symbol":248}],255:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-copy-within"),n=t("../internals/add-to-unscopables");r({target:"Array",proto:!0},{copyWithin:s}),n("copyWithin")},{"../internals/add-to-unscopables":108,"../internals/array-copy-within":114,"../internals/export":147}],256:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-iteration").every;r({target:"Array",proto:!0,forced:t("../internals/sloppy-array-method")("every")},{every:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}})},{"../internals/array-iteration":119,"../internals/export":147,"../internals/sloppy-array-method":226}],257:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-fill"),n=t("../internals/add-to-unscopables");r({target:"Array",proto:!0},{fill:s}),n("fill")},{"../internals/add-to-unscopables":108,"../internals/array-fill":115,"../internals/export":147}],258:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-iteration").filter;r({target:"Array",proto:!0,forced:!t("../internals/array-method-has-species-support")("filter")},{filter:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}})},{"../internals/array-iteration":119,"../internals/array-method-has-species-support":121,"../internals/export":147}],259:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-iteration").findIndex,n=t("../internals/add-to-unscopables"),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r({target:"Array",proto:!0,forced:o},{findIndex:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}}),n(a)},{"../internals/add-to-unscopables":108,"../internals/array-iteration":119,"../internals/export":147}],260:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-iteration").find,n=t("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{find:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}}),n("find")},{"../internals/add-to-unscopables":108,"../internals/array-iteration":119,"../internals/export":147}],261:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/flatten-into-array"),n=t("../internals/to-object"),a=t("../internals/to-length"),o=t("../internals/a-function"),l=t("../internals/array-species-create");r({target:"Array",proto:!0},{flatMap:function(t){var e,i=n(this),r=a(i.length);return o(t),(e=l(i,0)).length=s(e,i,i,r,0,1,t,1<arguments.length?arguments[1]:undefined),e}})},{"../internals/a-function":106,"../internals/array-species-create":123,"../internals/export":147,"../internals/flatten-into-array":150,"../internals/to-length":238,"../internals/to-object":239}],262:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/flatten-into-array"),n=t("../internals/to-object"),a=t("../internals/to-length"),o=t("../internals/to-integer"),l=t("../internals/array-species-create");r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:undefined,e=n(this),i=a(e.length),r=l(e,0);return r.length=s(r,e,e,i,0,t===undefined?1:o(t)),r}})},{"../internals/array-species-create":123,"../internals/export":147,"../internals/flatten-into-array":150,"../internals/to-integer":237,"../internals/to-length":238,"../internals/to-object":239}],263:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-for-each");r({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},{"../internals/array-for-each":116,"../internals/export":147}],264:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-from");r({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(t){Array.from(t)})},{from:s})},{"../internals/array-from":117,"../internals/check-correctness-of-iteration":126,"../internals/export":147}],265:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-includes").includes,n=t("../internals/add-to-unscopables");r({target:"Array",proto:!0},{includes:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}}),n("includes")},{"../internals/add-to-unscopables":108,"../internals/array-includes":118,"../internals/export":147}],266:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-includes").indexOf,n=t("../internals/sloppy-array-method"),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0,l=n("indexOf");r({target:"Array",proto:!0,forced:o||l},{indexOf:function(t){return o?a.apply(this,arguments)||0:s(this,t,1<arguments.length?arguments[1]:undefined)}})},{"../internals/array-includes":118,"../internals/export":147,"../internals/sloppy-array-method":226}],267:[function(t,e,i){"use strict";t("../internals/export")({target:"Array",stat:!0},{isArray:t("../internals/is-array")})},{"../internals/export":147,"../internals/is-array":172}],268:[function(t,e,i){"use strict";var r=t("../internals/to-indexed-object"),s=t("../internals/add-to-unscopables"),n=t("../internals/iterators"),a=t("../internals/internal-state"),o=t("../internals/define-iterator"),l="Array Iterator",u=a.set,p=a.getterFor(l);e.exports=o(Array,"Array",function(t,e){u(this,{type:l,target:r(t),index:0,kind:e})},function(){var t=p(this),e=t.target,i=t.kind,r=t.index++;return!e||r>=e.length?(t.target=undefined,{value:undefined,done:!0}):"keys"==i?{value:r,done:!1}:"values"==i?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),n.Arguments=n.Array,s("keys"),s("values"),s("entries")},{"../internals/add-to-unscopables":108,"../internals/define-iterator":141,"../internals/internal-state":170,"../internals/iterators":180,"../internals/to-indexed-object":236}],269:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/indexed-object"),n=t("../internals/to-indexed-object"),a=t("../internals/sloppy-array-method"),o=[].join,l=s!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:l||u},{join:function(t){return o.call(n(this),t===undefined?",":t)}})},{"../internals/export":147,"../internals/indexed-object":167,"../internals/sloppy-array-method":226,"../internals/to-indexed-object":236}],270:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-last-index-of");r({target:"Array",proto:!0,forced:s!==[].lastIndexOf},{lastIndexOf:s})},{"../internals/array-last-index-of":120,"../internals/export":147}],271:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-iteration").map;r({target:"Array",proto:!0,forced:!t("../internals/array-method-has-species-support")("map")},{map:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}})},{"../internals/array-iteration":119,"../internals/array-method-has-species-support":121,"../internals/export":147}],272:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/create-property");r({target:"Array",stat:!0,forced:s(function(){function t(){}return!(Array.of.call(t)instanceof t)})},{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);t<e;)n(i,t,arguments[t++]);return i.length=e,i}})},{"../internals/create-property":138,"../internals/export":147,"../internals/fails":148}],273:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-reduce").right;r({target:"Array",proto:!0,forced:t("../internals/sloppy-array-method")("reduceRight")},{reduceRight:function(t){return s(this,t,arguments.length,1<arguments.length?arguments[1]:undefined)}})},{"../internals/array-reduce":122,"../internals/export":147,"../internals/sloppy-array-method":226}],274:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-reduce").left;r({target:"Array",proto:!0,forced:t("../internals/sloppy-array-method")("reduce")},{reduce:function(t){return s(this,t,arguments.length,1<arguments.length?arguments[1]:undefined)}})},{"../internals/array-reduce":122,"../internals/export":147,"../internals/sloppy-array-method":226}],275:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/is-array"),n=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),n.call(this)}})},{"../internals/export":147,"../internals/is-array":172}],276:[function(t,e,i){"use strict";var r=t("../internals/export"),u=t("../internals/is-object"),p=t("../internals/is-array"),c=t("../internals/to-absolute-index"),h=t("../internals/to-length"),f=t("../internals/to-indexed-object"),m=t("../internals/create-property"),s=t("../internals/array-method-has-species-support"),d=t("../internals/well-known-symbol")("species"),g=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!s("slice")},{slice:function(t,e){var i,r,s,n=f(this),a=h(n.length),o=c(t,a),l=c(e===undefined?a:e,a);if(p(n)&&("function"!=typeof(i=n.constructor)||i!==Array&&!p(i.prototype)?u(i)&&null===(i=i[d])&&(i=undefined):i=undefined,i===Array||i===undefined))return g.call(n,o,l);for(r=new(i===undefined?Array:i)(b(l-o,0)),s=0;o<l;o++,s++)o in n&&m(r,s,n[o]);return r.length=s,r}})},{"../internals/array-method-has-species-support":121,"../internals/create-property":138,"../internals/export":147,"../internals/is-array":172,"../internals/is-object":175,"../internals/to-absolute-index":234,"../internals/to-indexed-object":236,"../internals/to-length":238,"../internals/well-known-symbol":248}],277:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-iteration").some;r({target:"Array",proto:!0,forced:t("../internals/sloppy-array-method")("some")},{some:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}})},{"../internals/array-iteration":119,"../internals/export":147,"../internals/sloppy-array-method":226}],278:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/a-function"),n=t("../internals/to-object"),a=t("../internals/fails"),o=t("../internals/sloppy-array-method"),l=[].sort,u=[1,2,3],p=a(function(){u.sort(undefined)}),c=a(function(){u.sort(null)}),h=o("sort");r({target:"Array",proto:!0,forced:p||!c||h},{sort:function(t){return t===undefined?l.call(n(this)):l.call(n(this),s(t))}})},{"../internals/a-function":106,"../internals/export":147,"../internals/fails":148,"../internals/sloppy-array-method":226,"../internals/to-object":239}],279:[function(t,e,i){"use strict";t("../internals/set-species")("Array")},{"../internals/set-species":222}],280:[function(t,e,i){"use strict";var r=t("../internals/export"),h=t("../internals/to-absolute-index"),f=t("../internals/to-integer"),m=t("../internals/to-length"),d=t("../internals/to-object"),g=t("../internals/array-species-create"),b=t("../internals/create-property"),s=t("../internals/array-method-has-species-support"),y=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!s("splice")},{splice:function(t,e){var i,r,s,n,a,o,l=d(this),u=m(l.length),p=h(t,u),c=arguments.length;if(0===c?i=r=0:r=1===c?(i=0,u-p):(i=c-2,v(y(f(e),0),u-p)),9007199254740991<u+i-r)throw TypeError("Maximum allowed length exceeded");for(s=g(l,r),n=0;n<r;n++)(a=p+n)in l&&b(s,n,l[a]);if(i<(s.length=r)){for(n=p;n<u-r;n++)o=n+i,(a=n+r)in l?l[o]=l[a]:delete l[o];for(n=u;u-r+i<n;n--)delete l[n-1]}else if(r<i)for(n=u-r;p<n;n--)o=n+i-1,(a=n+r-1)in l?l[o]=l[a]:delete l[o];for(n=0;n<i;n++)l[n+p]=arguments[n+2];return l.length=u-r+i,s}})},{"../internals/array-method-has-species-support":121,"../internals/array-species-create":123,"../internals/create-property":138,"../internals/export":147,"../internals/to-absolute-index":234,"../internals/to-integer":237,"../internals/to-length":238,"../internals/to-object":239}],281:[function(t,e,i){"use strict";t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":108}],282:[function(t,e,i){"use strict";t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":108}],283:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/array-buffer");r({global:!0,forced:!t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER},{DataView:s.DataView})},{"../internals/array-buffer":113,"../internals/array-buffer-view-core":112,"../internals/export":147}],284:[function(t,e,i){"use strict";t("../internals/export")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},{"../internals/export":147}],285:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/date-to-iso-string");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==s},{toISOString:s})},{"../internals/date-to-iso-string":139,"../internals/export":147}],286:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/to-object"),a=t("../internals/to-primitive");r({target:"Date",proto:!0,forced:s(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(t){var e=n(this),i=a(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},{"../internals/export":147,"../internals/fails":148,"../internals/to-object":239,"../internals/to-primitive":241}],287:[function(t,e,i){"use strict";var r=t("../internals/hide"),s=t("../internals/date-to-primitive"),n=t("../internals/well-known-symbol")("toPrimitive"),a=Date.prototype;n in a||r(a,n,s)},{"../internals/date-to-primitive":140,"../internals/hide":163,"../internals/well-known-symbol":248}],288:[function(t,e,i){"use strict";var r=t("../internals/redefine"),s=Date.prototype,n="Invalid Date",a=s.toString,o=s.getTime;new Date(NaN)+""!=n&&r(s,"toString",function(){var t=o.call(this);return t==t?a.call(this):n})},{"../internals/redefine":215}],289:[function(t,e,i){"use strict";t("../internals/export")({target:"Function",proto:!0},{bind:t("../internals/function-bind")})},{"../internals/export":147,"../internals/function-bind":155}],290:[function(t,e,i){"use strict";var r=t("../internals/is-object"),s=t("../internals/object-define-property"),n=t("../internals/object-get-prototype-of"),a=t("../internals/well-known-symbol")("hasInstance"),o=Function.prototype;a in o||s.f(o,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=n(t);)if(this.prototype===t)return!0;return!1}})},{"../internals/is-object":175,"../internals/object-define-property":195,"../internals/object-get-prototype-of":200,"../internals/well-known-symbol":248}],291:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),s=t("../internals/object-define-property").f,n=Function.prototype,a=n.toString,o=/^\s*function ([^ (]*)/;!r||"name"in n||s(n,"name",{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},{"../internals/descriptors":143,"../internals/object-define-property":195}],292:[function(t,e,i){"use strict";var r=t("../internals/global");t("../internals/set-to-string-tag")(r.JSON,"JSON",!0)},{"../internals/global":160,"../internals/set-to-string-tag":223}],293:[function(t,e,i){"use strict";var r=t("../internals/collection"),s=t("../internals/collection-strong");e.exports=r("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:undefined)}},s,!0)},{"../internals/collection":131,"../internals/collection-strong":129}],294:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/math-log1p"),n=Math.acosh,a=Math.log,o=Math.sqrt,l=Math.LN2;r({target:"Math",stat:!0,forced:!n||710!=Math.floor(n(Number.MAX_VALUE))||n(Infinity)!=Infinity},{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?a(t)+l:s(t-1+o(t-1)*o(t+1))}})},{"../internals/export":147,"../internals/math-log1p":183}],295:[function(t,e,i){"use strict";var r=t("../internals/export"),s=Math.asinh,n=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(s&&0<1/s(0))},{asinh:function o(t){return isFinite(t=+t)&&0!=t?t<0?-o(-t):n(t+a(t*t+1)):t}})},{"../internals/export":147}],296:[function(t,e,i){"use strict";var r=t("../internals/export"),s=Math.atanh,n=Math.log;r({target:"Math",stat:!0,forced:!(s&&1/s(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:n((1+t)/(1-t))/2}})},{"../internals/export":147}],297:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/math-sign"),n=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return s(t=+t)*a(n(t),1/3)}})},{"../internals/export":147,"../internals/math-sign":184}],298:[function(t,e,i){"use strict";var r=t("../internals/export"),s=Math.floor,n=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-s(n(t+.5)*a):32}})},{"../internals/export":147}],299:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/math-expm1"),n=Math.cosh,a=Math.abs,o=Math.E;r({target:"Math",stat:!0,forced:!n||n(710)===Infinity},{cosh:function(t){var e=s(a(t)-1)+1;return(e+1/(e*o*o))*(o/2)}})},{"../internals/export":147,"../internals/math-expm1":181}],300:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/math-expm1");r({target:"Math",stat:!0,forced:s!=Math.expm1},{expm1:s})},{"../internals/export":147,"../internals/math-expm1":181}],301:[function(t,e,i){"use strict";t("../internals/export")({target:"Math",stat:!0},{fround:t("../internals/math-fround")})},{"../internals/export":147,"../internals/math-fround":182}],302:[function(t,e,i){"use strict";var r=t("../internals/export"),l=Math.abs,u=Math.sqrt;r({target:"Math",stat:!0},{hypot:function(t,e){for(var i,r,s=0,n=0,a=arguments.length,o=0;n<a;)o<(i=l(arguments[n++]))?(s=s*(r=o/i)*r+1,o=i):s+=0<i?(r=i/o)*r:i;return o===Infinity?Infinity:o*u(s)}})},{"../internals/export":147}],303:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=Math.imul;r({target:"Math",stat:!0,forced:s(function(){return-5!=n(4294967295,5)||2!=n.length})},{imul:function(t,e){var i=+t,r=+e,s=65535&i,n=65535&r;return 0|s*n+((65535&i>>>16)*n+s*(65535&r>>>16)<<16>>>0)}})},{"../internals/export":147,"../internals/fails":148}],304:[function(t,e,i){"use strict";var r=t("../internals/export"),s=Math.log,n=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return s(t)*n}})},{"../internals/export":147}],305:[function(t,e,i){"use strict";t("../internals/export")({target:"Math",stat:!0},{log1p:t("../internals/math-log1p")})},{"../internals/export":147,"../internals/math-log1p":183}],306:[function(t,e,i){"use strict";var r=t("../internals/export"),s=Math.log,n=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return s(t)/n}})},{"../internals/export":147}],307:[function(t,e,i){"use strict";t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":147,"../internals/math-sign":184}],308:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/math-expm1"),a=Math.abs,o=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:s(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(t){return a(t=+t)<1?(n(t)-n(-t))/2:(o(t-1)-o(-t-1))*(l/2)}})},{"../internals/export":147,"../internals/fails":148,"../internals/math-expm1":181}],309:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/math-expm1"),n=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=s(t=+t),i=s(-t);return e==Infinity?1:i==Infinity?-1:(e-i)/(n(t)+n(-t))}})},{"../internals/export":147,"../internals/math-expm1":181}],310:[function(t,e,i){"use strict";t("../internals/set-to-string-tag")(Math,"Math",!0)},{"../internals/set-to-string-tag":223}],311:[function(t,e,i){"use strict";var r=t("../internals/export"),s=Math.ceil,n=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(0<t?n:s)(t)}})},{"../internals/export":147}],312:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),s=t("../internals/global"),n=t("../internals/is-forced"),a=t("../internals/redefine"),o=t("../internals/has"),l=t("../internals/classof-raw"),u=t("../internals/inherit-if-required"),p=t("../internals/to-primitive"),c=t("../internals/fails"),h=t("../internals/object-create"),f=t("../internals/object-get-own-property-names").f,m=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/object-define-property").f,g=t("../internals/string-trim").trim,b="Number",y=s[b],v=y.prototype,_=l(h(v))==b,x=function x(t){var e,i,r,s,n,a,o,l,u=p(t,!1);if("string"==typeof u&&2<u.length)if(43===(e=(u=g(u)).charCodeAt(0))||45===e){if(88===(i=u.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+u}for(a=(n=u.slice(2)).length,o=0;o<a;o++)if((l=n.charCodeAt(o))<48||s<l)return NaN;return parseInt(n,r)}return+u};if(n(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,A=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof A&&(_?c(function(){v.valueOf.call(i)}):l(i)!=b)?u(new y(x(e)),i,A):x(e)},E=r?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;E.length>O;O++)o(y,w=E[O])&&!o(A,w)&&d(A,w,m(y,w));(A.prototype=v).constructor=A,a(s,b,A)}},{"../internals/classof-raw":127,"../internals/descriptors":143,"../internals/fails":148,"../internals/global":160,"../internals/has":161,"../internals/inherit-if-required":168,"../internals/is-forced":173,"../internals/object-create":193,"../internals/object-define-property":195,"../internals/object-get-own-property-descriptor":196,"../internals/object-get-own-property-names":198,"../internals/redefine":215,"../internals/string-trim":231,"../internals/to-primitive":241}],313:[function(t,e,i){"use strict";t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":147}],314:[function(t,e,i){"use strict";t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":147,"../internals/number-is-finite":191}],315:[function(t,e,i){"use strict";t("../internals/export")({target:"Number",stat:!0},{isInteger:t("../internals/is-integer")})},{"../internals/export":147,"../internals/is-integer":174}],316:[function(t,e,i){"use strict";t("../internals/export")({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},{"../internals/export":147}],317:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/is-integer"),n=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return s(t)&&n(t)<=9007199254740991}})},{"../internals/export":147,"../internals/is-integer":174}],318:[function(t,e,i){"use strict";t("../internals/export")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},{"../internals/export":147}],319:[function(t,e,i){"use strict";t("../internals/export")({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},{"../internals/export":147}],320:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/parse-float");r({target:"Number",stat:!0,forced:Number.parseFloat!=s},{parseFloat:s})},{"../internals/export":147,"../internals/parse-float":208}],321:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/parse-int");r({target:"Number",stat:!0,forced:Number.parseInt!=s},{parseInt:s})},{"../internals/export":147,"../internals/parse-int":209}],322:[function(t,e,i){"use strict";var r=t("../internals/export"),f=t("../internals/to-integer"),m=t("../internals/this-number-value"),d=t("../internals/string-repeat"),s=t("../internals/fails"),n=1..toFixed,g=Math.floor,b=function b(t,e,i){return 0===e?i:e%2==1?b(t,e-1,i*t):b(t*t,e/2,i)},y=function y(t){for(var e=0,i=t;4096<=i;)e+=12,i/=4096;for(;2<=i;)e+=1,i/=2;return e};r({target:"Number",proto:!0,forced:n&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(function(){n.call({})})},{toFixed:function(t){var e,i,r,s,n=m(this),a=f(t),o=[0,0,0,0,0,0],l="",u="0",p=function p(t,e){for(var i=-1,r=e;++i<6;)r+=t*o[i],o[i]=r%1e7,r=g(r/1e7)},c=function c(t){for(var e=6,i=0;0<=--e;)i+=o[e],o[e]=g(i/t),i=i%t*1e7},h=function h(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==o[t]){var i=String(o[t]);e=""===e?i:e+d.call("0",7-i.length)+i}return e};if(a<0||20<a)throw RangeError("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||1e21<=n)return String(n);if(n<0&&(l="-",n=-n),1e-21<n)if(i=(e=y(n*b(2,69,1))-69)<0?n*b(2,-e,1):n/b(2,e,1),i*=4503599627370496,0<(e=52-e)){for(p(0,i),r=a;7<=r;)p(1e7,0),r-=7;for(p(b(10,r,1),0),r=e-1;23<=r;)c(1<<23),r-=23;c(1<<r),p(1,1),c(2),u=h()}else p(0,i),p(1<<-e,0),u=h()+d.call("0",a);return u=0<a?l+((s=u.length)<=a?"0."+d.call("0",a-s)+u:u.slice(0,s-a)+"."+u.slice(s-a)):l+u}})},{"../internals/export":147,"../internals/fails":148,"../internals/string-repeat":230,"../internals/this-number-value":233,"../internals/to-integer":237}],323:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/this-number-value"),a=1..toPrecision;r({target:"Number",proto:!0,forced:s(function(){return"1"!==a.call(1,undefined)})||!s(function(){a.call({})})},{toPrecision:function(t){return t===undefined?a.call(n(this)):a.call(n(this),t)}})},{"../internals/export":147,"../internals/fails":148,"../internals/this-number-value":233}],324:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/object-assign");r({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},{"../internals/export":147,"../internals/object-assign":192}],325:[function(t,e,i){"use strict";t("../internals/export")({target:"Object",stat:!0,sham:!t("../internals/descriptors")},{create:t("../internals/object-create")})},{"../internals/descriptors":143,"../internals/export":147,"../internals/object-create":193}],326:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors"),n=t("../internals/forced-object-prototype-accessors-methods"),a=t("../internals/to-object"),o=t("../internals/a-function"),l=t("../internals/object-define-property");s&&r({target:"Object",proto:!0,forced:n},{__defineGetter__:function(t,e){l.f(a(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},{"../internals/a-function":106,"../internals/descriptors":143,"../internals/export":147,"../internals/forced-object-prototype-accessors-methods":151,"../internals/object-define-property":195,"../internals/to-object":239}],327:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors");r({target:"Object",stat:!0,forced:!s,sham:!s},{defineProperties:t("../internals/object-define-properties")})},{"../internals/descriptors":143,"../internals/export":147,"../internals/object-define-properties":194}],328:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors");r({target:"Object",stat:!0,forced:!s,sham:!s},{defineProperty:t("../internals/object-define-property").f})},{"../internals/descriptors":143,"../internals/export":147,"../internals/object-define-property":195}],329:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors"),n=t("../internals/forced-object-prototype-accessors-methods"),a=t("../internals/to-object"),o=t("../internals/a-function"),l=t("../internals/object-define-property");s&&r({target:"Object",proto:!0,forced:n},{__defineSetter__:function(t,e){l.f(a(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},{"../internals/a-function":106,"../internals/descriptors":143,"../internals/export":147,"../internals/forced-object-prototype-accessors-methods":151,"../internals/object-define-property":195,"../internals/to-object":239}],330:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/object-to-array").entries;r({target:"Object",stat:!0},{entries:function(t){return s(t)}})},{"../internals/export":147,"../internals/object-to-array":205}],331:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/freezing"),n=t("../internals/fails"),a=t("../internals/is-object"),o=t("../internals/internal-metadata").onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:n(function(){l(1)}),sham:!s},{freeze:function(t){return l&&a(t)?l(o(t)):t}})},{"../internals/export":147,"../internals/fails":148,"../internals/freezing":154,"../internals/internal-metadata":169,"../internals/is-object":175}],332:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/iterate"),n=t("../internals/create-property");r({target:"Object",stat:!0},{fromEntries:function(t){var i={};return s(t,function(t,e){n(i,t,e)},undefined,!0),i}})},{"../internals/create-property":138,"../internals/export":147,"../internals/iterate":178}],333:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/to-indexed-object"),a=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/descriptors"),l=s(function(){a(1)});r({target:"Object",stat:!0,forced:!o||l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a(n(t),e)}})},{"../internals/descriptors":143,"../internals/export":147,"../internals/fails":148,"../internals/object-get-own-property-descriptor":196,"../internals/to-indexed-object":236}],334:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors"),l=t("../internals/own-keys"),u=t("../internals/to-indexed-object"),p=t("../internals/object-get-own-property-descriptor"),c=t("../internals/create-property");r({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){for(var e,i,r=u(t),s=p.f,n=l(r),a={},o=0;n.length>o;)(i=s(r,e=n[o++]))!==undefined&&c(a,e,i);return a}})},{"../internals/create-property":138,"../internals/descriptors":143,"../internals/export":147,"../internals/object-get-own-property-descriptor":196,"../internals/own-keys":207,"../internals/to-indexed-object":236}],335:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/object-get-own-property-names-external").f;r({target:"Object",stat:!0,forced:s(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:n})},{"../internals/export":147,"../internals/fails":148,"../internals/object-get-own-property-names-external":197}],336:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/to-object"),a=t("../internals/object-get-prototype-of"),o=t("../internals/correct-prototype-getter");r({target:"Object",stat:!0,forced:s(function(){a(1)}),sham:!o},{getPrototypeOf:function(t){return a(n(t))}})},{"../internals/correct-prototype-getter":134,"../internals/export":147,"../internals/fails":148,"../internals/object-get-prototype-of":200,"../internals/to-object":239}],337:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/is-object"),a=Object.isExtensible;r({target:"Object",stat:!0,forced:s(function(){a(1)})},{isExtensible:function(t){return!!n(t)&&(!a||a(t))}})},{"../internals/export":147,"../internals/fails":148,"../internals/is-object":175}],338:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/is-object"),a=Object.isFrozen;r({target:"Object",stat:!0,forced:s(function(){a(1)})},{isFrozen:function(t){return!n(t)||!!a&&a(t)}})},{"../internals/export":147,"../internals/fails":148,"../internals/is-object":175}],339:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/fails"),n=t("../internals/is-object"),a=Object.isSealed;r({target:"Object",stat:!0,forced:s(function(){a(1)})},{isSealed:function(t){return!n(t)||!!a&&a(t)}})},{"../internals/export":147,"../internals/fails":148,"../internals/is-object":175}],340:[function(t,e,i){"use strict";t("../internals/export")({target:"Object",stat:!0},{is:t("../internals/same-value")})},{"../internals/export":147,"../internals/same-value":220}],341:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/to-object"),n=t("../internals/object-keys");r({target:"Object",stat:!0,forced:t("../internals/fails")(function(){n(1)})},{keys:function(t){return n(s(t))}})},{"../internals/export":147,"../internals/fails":148,"../internals/object-keys":202,"../internals/to-object":239}],342:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors"),n=t("../internals/forced-object-prototype-accessors-methods"),a=t("../internals/to-object"),o=t("../internals/to-primitive"),l=t("../internals/object-get-prototype-of"),u=t("../internals/object-get-own-property-descriptor").f;s&&r({target:"Object",proto:!0,forced:n},{__lookupGetter__:function(t){var e,i=a(this),r=o(t,!0);do{if(e=u(i,r))return e.get}while(i=l(i))}})},{"../internals/descriptors":143,"../internals/export":147,"../internals/forced-object-prototype-accessors-methods":151,"../internals/object-get-own-property-descriptor":196,"../internals/object-get-prototype-of":200,"../internals/to-object":239,"../internals/to-primitive":241}],343:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors"),n=t("../internals/forced-object-prototype-accessors-methods"),a=t("../internals/to-object"),o=t("../internals/to-primitive"),l=t("../internals/object-get-prototype-of"),u=t("../internals/object-get-own-property-descriptor").f;s&&r({target:"Object",proto:!0,forced:n},{__lookupSetter__:function(t){var e,i=a(this),r=o(t,!0);do{if(e=u(i,r))return e.set}while(i=l(i))}})},{"../internals/descriptors":143,"../internals/export":147,"../internals/forced-object-prototype-accessors-methods":151,"../internals/object-get-own-property-descriptor":196,"../internals/object-get-prototype-of":200,"../internals/to-object":239,"../internals/to-primitive":241}],344:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/is-object"),n=t("../internals/internal-metadata").onFreeze,a=t("../internals/freezing"),o=t("../internals/fails"),l=Object.preventExtensions;r({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!a},{preventExtensions:function(t){return l&&s(t)?l(n(t)):t}})},{"../internals/export":147,"../internals/fails":148,"../internals/freezing":154,"../internals/internal-metadata":169,"../internals/is-object":175}],345:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/is-object"),n=t("../internals/internal-metadata").onFreeze,a=t("../internals/freezing"),o=t("../internals/fails"),l=Object.seal;r({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!a},{seal:function(t){return l&&s(t)?l(n(t)):t}})},{"../internals/export":147,"../internals/fails":148,"../internals/freezing":154,"../internals/internal-metadata":169,"../internals/is-object":175}],346:[function(t,e,i){"use strict";t("../internals/export")({target:"Object",stat:!0},{setPrototypeOf:t("../internals/object-set-prototype-of")})},{"../internals/export":147,"../internals/object-set-prototype-of":204}],347:[function(t,e,i){"use strict";var r=t("../internals/redefine"),s=t("../internals/object-to-string"),n=Object.prototype;s!==n.toString&&r(n,"toString",s,{unsafe:!0})},{"../internals/object-to-string":206,"../internals/redefine":215}],348:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/object-to-array").values;r({target:"Object",stat:!0},{values:function(t){return s(t)}})},{"../internals/export":147,"../internals/object-to-array":205}],349:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/parse-float");r({global:!0,forced:parseFloat!=s},{parseFloat:s})},{"../internals/export":147,"../internals/parse-float":208}],350:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/parse-int");r({global:!0,forced:parseInt!=s},{parseInt:s})},{"../internals/export":147,"../internals/parse-int":209}],351:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/get-built-in"),n=t("../internals/species-constructor"),a=t("../internals/promise-resolve");r({target:"Promise",proto:!0,real:!0},{"finally":function(e){var i=n(this,s("Promise")),t="function"==typeof e;return this.then(t?function(t){return a(i,e()).then(function(){return t})}:e,t?function(t){return a(i,e()).then(function(){throw t})}:e)}})},{"../internals/export":147,"../internals/get-built-in":157,"../internals/promise-resolve":212,"../internals/species-constructor":227}],352:[function(t,e,i){"use strict";var r,s,n,a=t("../internals/export"),o=t("../internals/is-pure"),l=t("../internals/global"),u=t("../internals/path"),p=t("../internals/redefine-all"),c=t("../internals/set-to-string-tag"),h=t("../internals/set-species"),f=t("../internals/is-object"),m=t("../internals/a-function"),d=t("../internals/an-instance"),g=t("../internals/classof-raw"),b=t("../internals/iterate"),y=t("../internals/check-correctness-of-iteration"),v=t("../internals/species-constructor"),_=t("../internals/task").set,x=t("../internals/microtask"),w=t("../internals/promise-resolve"),A=t("../internals/host-report-errors"),E=t("../internals/new-promise-capability"),O=t("../internals/perform"),T=t("../internals/user-agent"),S=t("../internals/internal-state"),I=t("../internals/is-forced"),k=t("../internals/well-known-symbol")("species"),N="Promise",Q=S.get,j=S.set,C=S.getterFor(N),P=l[N],R=l.TypeError,D=l.document,L=l.process,M=l.fetch,B=L&&L.versions,U=B&&B.v8||"",F=E.f,G=F,q="process"==g(L),z=!!(D&&D.createEvent&&l.dispatchEvent),V="unhandledrejection",X=I(N,function(){var t=P.resolve(1),e=function e(){},i=(t.constructor={})[k]=function(t){t(e,e)};return!((q||"function"==typeof PromiseRejectionEvent)&&(!o||t["finally"])&&t.then(e)instanceof i&&0!==U.indexOf("6.6")&&-1===T.indexOf("Chrome/66"))}),H=X||!y(function(t){P.all(t)["catch"](function(){})}),Y=function Y(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},J=function J(h,f,m){if(!f.notified){f.notified=!0;var d=f.reactions;x(function(){for(var t=f.value,e=1==f.state,i=0;d.length>i;){var r,s,n,a=d[i++],o=e?a.ok:a.fail,l=a.resolve,u=a.reject,p=a.domain;try{o?(e||(2===f.rejection&&Z(h,f),f.rejection=1),!0===o?r=t:(p&&p.enter(),r=o(t),p&&(p.exit(),n=!0)),r===a.promise?u(R("Promise-chain cycle")):(s=Y(r))?s.call(r,l,u):l(r)):u(t)}catch(c){p&&!n&&p.exit(),u(c)}}f.reactions=[],f.notified=!1,m&&!f.rejection&&K(h,f)})}},W=function W(t,e,i){var r,s;z?((r=D.createEvent("Event")).promise=e,r.reason=i,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:i},(s=l["on"+t])?s(r):t===V&&A("Unhandled promise rejection",i)},K=function K(i,r){_.call(l,function(){var t,e=r.value;if($(r)&&(t=O(function(){q?L.emit("unhandledRejection",e,i):W(V,i,e)}),r.rejection=q||$(r)?2:1,t.error))throw t.value})},$=function $(t){return 1!==t.rejection&&!t.parent},Z=function Z(t,e){_.call(l,function(){q?L.emit("rejectionHandled",t):W("rejectionhandled",t,e.value)})},tt=function tt(e,i,r,s){return function(t){e(i,r,t,s)}},et=function et(t,e,i,r){e.done||(e.done=!0,r&&(e=r),e.value=i,e.state=2,J(t,e,!0))},it=function it(i,r,s,t){if(!r.done){r.done=!0,t&&(r=t);try{if(i===s)throw R("Promise can't be resolved itself");var n=Y(s);n?x(function(){var t={done:!1};try{n.call(s,tt(it,i,t,r),tt(et,i,t,r))}catch(e){et(i,t,e,r)}}):(r.value=s,r.state=1,J(i,r,!1))}catch(e){et(i,{done:!1},e,r)}}};X&&(P=function(t){d(this,P,N),m(t),r.call(this);var e=Q(this);try{t(tt(it,this,e),tt(et,this,e))}catch(i){et(this,e,i)}},(r=function(t){j(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:undefined})}).prototype=p(P.prototype,{then:function(t,e){var i=C(this),r=F(v(this,P));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=q?L.domain:undefined,i.parent=!0,i.reactions.push(r),0!=i.state&&J(this,i,!1),r.promise},"catch":function(t){return this.then(undefined,t)}}),s=function s(){var t=new r,e=Q(t);this.promise=t,this.resolve=tt(it,t,e),this.reject=tt(et,t,e)},E.f=F=function F(t){return t===P||t===n?new s(t):G(t)},o||"function"!=typeof M||a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return w(P,M.apply(l,arguments))}})),a({global:!0,wrap:!0,forced:X},{Promise:P}),c(P,N,!1,!0),h(N),n=u[N],a({target:N,stat:!0,forced:X},{reject:function(t){var e=F(this);return e.reject.call(undefined,t),e.promise}}),a({target:N,stat:!0,forced:o||X},{resolve:function(t){return w(o&&this===n?P:this,t)}}),a({target:N,stat:!0,forced:H},{all:function(t){var o=this,e=F(o),l=e.resolve,u=e.reject,i=O(function(){var r=m(o.resolve),s=[],n=0,a=1;b(t,function(t){var e=n++,i=!1;s.push(undefined),a++,r.call(o,t).then(function(t){i||(i=!0,s[e]=t,--a||l(s))},u)}),--a||l(s)});return i.error&&u(i.value),e.promise},race:function(t){var i=this,r=F(i),s=r.reject,e=O(function(){var e=m(i.resolve);b(t,function(t){e.call(i,t).then(r.resolve,s)})});return e.error&&s(e.value),r.promise}})},{"../internals/a-function":106,"../internals/an-instance":110,"../internals/check-correctness-of-iteration":126,"../internals/classof-raw":127,"../internals/export":147,"../internals/global":160,"../internals/host-report-errors":164,"../internals/internal-state":170,"../internals/is-forced":173,"../internals/is-object":175,"../internals/is-pure":176,"../internals/iterate":178,"../internals/microtask":185,"../internals/new-promise-capability":189,"../internals/path":210,"../internals/perform":211,"../internals/promise-resolve":212,"../internals/redefine-all":214,"../internals/set-species":222,"../internals/set-to-string-tag":223,"../internals/species-constructor":227,"../internals/task":232,"../internals/user-agent":246,"../internals/well-known-symbol":248}],353:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/get-built-in"),n=t("../internals/a-function"),a=t("../internals/an-object"),o=t("../internals/fails"),l=s("Reflect","apply"),u=Function.apply;r({target:"Reflect",stat:!0,forced:!o(function(){l(function(){})})},{apply:function(t,e,i){return n(t),a(i),l?l(t,e,i):u.call(t,e,i)}})},{"../internals/a-function":106,"../internals/an-object":111,"../internals/export":147,"../internals/fails":148,"../internals/get-built-in":157}],354:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/get-built-in"),o=t("../internals/a-function"),l=t("../internals/an-object"),u=t("../internals/is-object"),p=t("../internals/object-create"),c=t("../internals/function-bind"),n=t("../internals/fails"),h=s("Reflect","construct"),f=n(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),m=!n(function(){h(function(){})}),a=f||m;r({target:"Reflect",stat:!0,forced:a,sham:a},{construct:function(t,e){o(t),l(e);var i=arguments.length<3?t:o(arguments[2]);if(m&&!f)return h(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var s=i.prototype,n=p(u(s)?s:Object.prototype),a=Function.apply.call(t,n,e);return u(a)?a:n}})},{"../internals/a-function":106,"../internals/an-object":111,"../internals/export":147,"../internals/fails":148,"../internals/function-bind":155,"../internals/get-built-in":157,"../internals/is-object":175,"../internals/object-create":193}],355:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors"),n=t("../internals/an-object"),a=t("../internals/to-primitive"),o=t("../internals/object-define-property");r({target:"Reflect",stat:!0,forced:t("../internals/fails")(function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})}),sham:!s},{defineProperty:function(t,e,i){n(t);var r=a(e,!0);n(i);try{return o.f(t,r,i),!0}catch(s){return!1}}})},{"../internals/an-object":111,"../internals/descriptors":143,"../internals/export":147,"../internals/fails":148,"../internals/object-define-property":195,"../internals/to-primitive":241}],356:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/an-object"),n=t("../internals/object-get-own-property-descriptor").f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var i=n(s(t),e);return!(i&&!i.configurable)&&delete t[e]}})},{"../internals/an-object":111,"../internals/export":147,"../internals/object-get-own-property-descriptor":196}],357:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors"),n=t("../internals/an-object"),a=t("../internals/object-get-own-property-descriptor");r({target:"Reflect",stat:!0,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a.f(n(t),e)}})},{"../internals/an-object":111,"../internals/descriptors":143,"../internals/export":147,"../internals/object-get-own-property-descriptor":196}],358:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/an-object"),n=t("../internals/object-get-prototype-of");r({target:"Reflect",stat:!0,sham:!t("../internals/correct-prototype-getter")},{getPrototypeOf:function(t){return n(s(t))}})},{"../internals/an-object":111,"../internals/correct-prototype-getter":134,"../internals/export":147,"../internals/object-get-prototype-of":200}],359:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/is-object"),a=t("../internals/an-object"),o=t("../internals/has"),l=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-get-prototype-of");r({target:"Reflect",stat:!0},{get:function p(t,e){var i,r,s=arguments.length<3?t:arguments[2];return a(t)===s?t[e]:(i=l.f(t,e))?o(i,"value")?i.value:i.get===undefined?undefined:i.get.call(s):n(r=u(t))?p(r,e,s):void 0}})},{"../internals/an-object":111,"../internals/export":147,"../internals/has":161,"../internals/is-object":175,"../internals/object-get-own-property-descriptor":196,"../internals/object-get-prototype-of":200}],360:[function(t,e,i){"use strict";t("../internals/export")({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},{"../internals/export":147}],361:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/an-object"),n=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return s(t),!n||n(t)}})},{"../internals/an-object":111,"../internals/export":147}],362:[function(t,e,i){"use strict";t("../internals/export")({target:"Reflect",stat:!0},{ownKeys:t("../internals/own-keys")})},{"../internals/export":147,"../internals/own-keys":207}],363:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/get-built-in"),n=t("../internals/an-object");r({target:"Reflect",stat:!0,sham:!t("../internals/freezing")},{preventExtensions:function(t){n(t);try{var e=s("Object","preventExtensions");return e&&e(t),!0}catch(i){return!1}}})},{"../internals/an-object":111,"../internals/export":147,"../internals/freezing":154,"../internals/get-built-in":157}],364:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/an-object"),n=t("../internals/a-possible-prototype"),a=t("../internals/object-set-prototype-of");a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){s(t),n(e);try{return a(t,e),!0}catch(i){return!1}}})},{"../internals/a-possible-prototype":107,"../internals/an-object":111,"../internals/export":147,"../internals/object-set-prototype-of":204}],365:[function(t,e,i){"use strict";var r=t("../internals/export"),o=t("../internals/an-object"),l=t("../internals/is-object"),u=t("../internals/has"),p=t("../internals/object-define-property"),c=t("../internals/object-get-own-property-descriptor"),h=t("../internals/object-get-prototype-of"),f=t("../internals/create-property-descriptor");r({target:"Reflect",stat:!0},{set:function m(t,e,i){var r,s,n=arguments.length<4?t:arguments[3],a=c.f(o(t),e);if(!a){if(l(s=h(t)))return m(s,e,i,n);a=f(0)}if(u(a,"value")){if(!1===a.writable||!l(n))return!1;if(r=c.f(n,e)){if(r.get||r.set||!1===r.writable)return!1;r.value=i,p.f(n,e,r)}else p.f(n,e,f(0,i));return!0}return a.set!==undefined&&(a.set.call(n,i),!0)}})},{"../internals/an-object":111,"../internals/create-property-descriptor":137,"../internals/export":147,"../internals/has":161,"../internals/is-object":175,"../internals/object-define-property":195,"../internals/object-get-own-property-descriptor":196,"../internals/object-get-prototype-of":200}],366:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),s=t("../internals/global"),n=t("../internals/is-forced"),a=t("../internals/inherit-if-required"),o=t("../internals/object-define-property").f,l=t("../internals/object-get-own-property-names").f,u=t("../internals/is-regexp"),p=t("../internals/regexp-flags"),c=t("../internals/redefine"),h=t("../internals/fails"),f=t("../internals/set-species"),m=t("../internals/well-known-symbol")("match"),d=s.RegExp,g=d.prototype,b=/a/g,y=/a/g,v=new d(b)!==b;if(r&&n("RegExp",!v||h(function(){return y[m]=!1,d(b)!=b||d(y)==y||"/a/i"!=d(b,"i")}))){for(var _=function(t,e){var i=this instanceof _,r=u(t),s=e===undefined;return!i&&r&&t.constructor===_&&s?t:a(v?new d(r&&!s?t.source:t,e):d((r=t instanceof _)?t.source:t,r&&s?p.call(t):e),i?this:g,_)},x=function x(e){e in _||o(_,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},w=l(d),A=0;w.length>A;)x(w[A++]);(g.constructor=_).prototype=g,c(s,"RegExp",_)}f("RegExp")},{"../internals/descriptors":143,"../internals/fails":148,"../internals/global":160,"../internals/inherit-if-required":168,"../internals/is-forced":173,"../internals/is-regexp":177,"../internals/object-define-property":195,"../internals/object-get-own-property-names":198,"../internals/redefine":215,"../internals/regexp-flags":218,"../internals/set-species":222,"../internals/well-known-symbol":248}],367:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/regexp-exec");r({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},{"../internals/export":147,"../internals/regexp-exec":217}],368:[function(t,e,i){"use strict";var r=t("../internals/descriptors"),s=t("../internals/object-define-property"),n=t("../internals/regexp-flags");r&&"g"!=/./g.flags&&s.f(RegExp.prototype,"flags",{configurable:!0,get:n})},{"../internals/descriptors":143,"../internals/object-define-property":195,"../internals/regexp-flags":218}],369:[function(t,e,i){"use strict";var r=t("../internals/redefine"),s=t("../internals/an-object"),n=t("../internals/fails"),a=t("../internals/regexp-flags"),o="toString",l=RegExp.prototype,u=l[o],p=n(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),c=u.name!=o;(p||c)&&r(RegExp.prototype,o,function(){var t=s(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(i===undefined&&t instanceof RegExp&&!("flags"in l)?a.call(t):i)},{unsafe:!0})},{"../internals/an-object":111,"../internals/fails":148,"../internals/redefine":215,"../internals/regexp-flags":218}],370:[function(t,e,i){"use strict";var r=t("../internals/collection"),s=t("../internals/collection-strong");e.exports=r("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:undefined)}},s)},{"../internals/collection":131,"../internals/collection-strong":129}],371:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("anchor")},{anchor:function(t){return s(this,"a","name",t)}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],372:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("big")},{big:function(){return s(this,"big","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],373:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("blink")},{blink:function(){return s(this,"blink","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],374:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("bold")},{bold:function(){return s(this,"b","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],375:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/string-multibyte").codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return s(this,t)}})},{"../internals/export":147,"../internals/string-multibyte":228}],376:[function(t,e,i){"use strict";var r=t("../internals/export"),a=t("../internals/to-length"),o=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible"),s=t("../internals/correct-is-regexp-logic"),u="".endsWith,p=Math.min;r({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(t){var e=String(l(this));o(t);var i=1<arguments.length?arguments[1]:undefined,r=a(e.length),s=i===undefined?r:p(a(i),r),n=String(t);return u?u.call(e,n,s):e.slice(s-n.length,s)===n}})},{"../internals/correct-is-regexp-logic":133,"../internals/export":147,"../internals/not-a-regexp":190,"../internals/require-object-coercible":219,"../internals/to-length":238}],377:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("fixed")},{fixed:function(){return s(this,"tt","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],378:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("fontcolor")},{fontcolor:function(t){return s(this,"font","color",t)}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],379:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("fontsize")},{fontsize:function(t){return s(this,"font","size",t)}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],380:[function(t,e,i){"use strict";var r=t("../internals/export"),n=t("../internals/to-absolute-index"),a=String.fromCharCode,s=String.fromCodePoint;r({target:"String",stat:!0,forced:!!s&&1!=s.length},{fromCodePoint:function(t){for(var e,i=[],r=arguments.length,s=0;s<r;){if(e=+arguments[s++],n(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},{"../internals/export":147,"../internals/to-absolute-index":234}],381:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/not-a-regexp"),n=t("../internals/require-object-coercible");r({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(t){return!!~String(n(this)).indexOf(s(t),1<arguments.length?arguments[1]:undefined)}})},{"../internals/correct-is-regexp-logic":133,"../internals/export":147,"../internals/not-a-regexp":190,"../internals/require-object-coercible":219}],382:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("italics")},{italics:function(){return s(this,"i","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],383:[function(t,e,i){"use strict";var s=t("../internals/string-multibyte").charAt,r=t("../internals/internal-state"),n=t("../internals/define-iterator"),a="String Iterator",o=r.set,l=r.getterFor(a);n(String,"String",function(t){o(this,{type:a,string:String(t),index:0})},function(){var t,e=l(this),i=e.string,r=e.index;return r>=i.length?{value:undefined,done:!0}:(t=s(i,r),e.index+=t.length,{value:t,done:!1})})},{"../internals/define-iterator":141,"../internals/internal-state":170,"../internals/string-multibyte":228}],384:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("link")},{link:function(t){return s(this,"a","href",t)}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],385:[function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=t("../internals/export"),n=t("../internals/create-iterator-constructor"),a=t("../internals/require-object-coercible"),u=t("../internals/to-length"),o=t("../internals/a-function"),p=t("../internals/an-object"),l=t("../internals/classof"),c=t("../internals/regexp-flags"),h=t("../internals/hide"),f=t("../internals/well-known-symbol"),m=t("../internals/species-constructor"),d=t("../internals/advance-string-index"),g=t("../internals/internal-state"),b=t("../internals/is-pure"),y=f("matchAll"),v="RegExp String",_=v+" Iterator",x=g.set,w=g.getterFor(_),A=RegExp.prototype,E=A.exec,O=function O(t,e){var i,r=t.exec;if("function"!=typeof r)return E.call(t,e);if("object"!=s(i=r.call(t,e)))throw TypeError("Incorrect exec result");return i},T=n(function(t,e,i,r){x(this,{type:_,regexp:t,string:e,global:i,unicode:r,done:!1})},v,function(){var t=w(this);if(t.done)return{value:undefined,done:!0};var e=t.regexp,i=t.string,r=O(e,i);return null===r?{value:undefined,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=d(i,u(e.lastIndex),t.unicode)),{value:r,done:!1}):{value:r,done:!(t.done=!0)}}),S=function S(t){var e,i,r,s,n,a,o=p(this),l=String(t);return e=m(o,RegExp),(i=o.flags)===undefined&&o instanceof RegExp&&!("flags"in A)&&(i=c.call(o)),r=i===undefined?"":String(i),s=new e(e===RegExp?o.source:o,r),n=!!~r.indexOf("g"),a=!!~r.indexOf("u"),s.lastIndex=u(o.lastIndex),new T(s,l,n,a)};r({target:"String",proto:!0},{matchAll:function(t){var e,i,r,s=a(this);return null!=t&&((i=t[y])===undefined&&b&&"RegExp"==l(t)&&(i=S),null!=i)?o(i).call(t,s):(e=String(s),r=new RegExp(t,"g"),b?S.call(r,e):r[y](e))}}),b||y in A||h(A,y,S)},{"../internals/a-function":106,"../internals/advance-string-index":109,"../internals/an-object":111,"../internals/classof":128,"../internals/create-iterator-constructor":136,"../internals/export":147,"../internals/hide":163,"../internals/internal-state":170,"../internals/is-pure":176,"../internals/regexp-flags":218,"../internals/require-object-coercible":219,"../internals/species-constructor":227,"../internals/to-length":238,"../internals/well-known-symbol":248}],386:[function(t,e,i){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/an-object"),h=t("../internals/to-length"),s=t("../internals/require-object-coercible"),f=t("../internals/advance-string-index"),m=t("../internals/regexp-exec-abstract");r("match",1,function(r,u,p){return[function(t){var e=s(this),i=t==undefined?undefined:t[r];return i!==undefined?i.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=p(u,t,this);if(e.done)return e.value;var i=c(t),r=String(this);if(!i.global)return m(i,r);for(var s,n=i.unicode,a=[],o=i.lastIndex=0;null!==(s=m(i,r));){var l=String(s[0]);""===(a[o]=l)&&(i.lastIndex=f(r,h(i.lastIndex),n)),o++}return 0===o?null:a}]})},{"../internals/advance-string-index":109,"../internals/an-object":111,"../internals/fix-regexp-well-known-symbol-logic":149,"../internals/regexp-exec-abstract":216,"../internals/require-object-coercible":219,"../internals/to-length":238}],387:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/string-pad").end;r({target:"String",proto:!0,forced:t("../internals/webkit-string-pad-bug")},{padEnd:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}})},{"../internals/export":147,"../internals/string-pad":229,"../internals/webkit-string-pad-bug":247}],388:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/string-pad").start;r({target:"String",proto:!0,forced:t("../internals/webkit-string-pad-bug")},{padStart:function(t){return s(this,t,1<arguments.length?arguments[1]:undefined)}})},{"../internals/export":147,"../internals/string-pad":229,"../internals/webkit-string-pad-bug":247}],389:[function(t,e,i){"use strict";var r=t("../internals/export"),a=t("../internals/to-indexed-object"),o=t("../internals/to-length");r({target:"String",stat:!0},{raw:function(t){for(var e=a(t.raw),i=o(e.length),r=arguments.length,s=[],n=0;n<i;)s.push(String(e[n++])),n<r&&s.push(String(arguments[n]));return s.join("")}})},{"../internals/export":147,"../internals/to-indexed-object":236,"../internals/to-length":238}],390:[function(t,e,i){"use strict";t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":147,"../internals/string-repeat":230}],391:[function(t,e,i){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),A=t("../internals/an-object"),h=t("../internals/to-object"),E=t("../internals/to-length"),O=t("../internals/to-integer"),n=t("../internals/require-object-coercible"),T=t("../internals/advance-string-index"),S=t("../internals/regexp-exec-abstract"),I=Math.max,k=Math.min,f=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g,N=function N(t){return t===undefined?t:String(t)};r("replace",2,function(s,_,x){return[function(t,e){var i=n(this),r=t==undefined?undefined:t[s];return r!==undefined?r.call(t,i,e):_.call(String(i),t,e)},function(t,e){var i=x(_,t,this,e);if(i.done)return i.value;var r=A(t),s=String(this),n="function"==typeof e;n||(e=String(e));var a=r.global;if(a){var o=r.unicode;r.lastIndex=0}for(var l=[];;){var u=S(r,s);if(null===u)break;if(l.push(u),!a)break;""===String(u[0])&&(r.lastIndex=T(s,E(r.lastIndex),o))}for(var p="",c=0,h=0;h<l.length;h++){u=l[h];for(var f=String(u[0]),m=I(k(O(u.index),s.length),0),d=[],g=1;g<u.length;g++)d.push(N(u[g]));var b=u.groups;if(n){var y=[f].concat(d,m,s);b!==undefined&&y.push(b);var v=String(e.apply(undefined,y))}else v=w(f,s,m,d,b,e);c<=m&&(p+=s.slice(c,m)+v,c=m+f.length)}return p+s.slice(c)}];function w(n,a,o,l,u,t){var p=o+n.length,c=l.length,e=d;return u!==undefined&&(u=h(u),e=m),_.call(t,e,function(t,e){var i;switch(e.charAt(0)){case"$":return"$";case"&":return n;case"`":return a.slice(0,o);case"'":return a.slice(p);case"<":i=u[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(c<r){var s=f(r/10);return 0===s?t:s<=c?l[s-1]===undefined?e.charAt(1):l[s-1]+e.charAt(1):t}i=l[r-1]}return i===undefined?"":i})}})},{"../internals/advance-string-index":109,"../internals/an-object":111,"../internals/fix-regexp-well-known-symbol-logic":149,"../internals/regexp-exec-abstract":216,"../internals/require-object-coercible":219,"../internals/to-integer":237,"../internals/to-length":238,"../internals/to-object":239}],392:[function(t,e,i){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),s=t("../internals/require-object-coercible"),u=t("../internals/same-value"),p=t("../internals/regexp-exec-abstract");r("search",1,function(r,a,o){return[function(t){var e=s(this),i=t==undefined?undefined:t[r];return i!==undefined?i.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=o(a,t,this);if(e.done)return e.value;var i=l(t),r=String(this),s=i.lastIndex;u(s,0)||(i.lastIndex=0);var n=p(i,r);return u(i.lastIndex,s)||(i.lastIndex=s),null===n?-1:n.index}]})},{"../internals/an-object":111,"../internals/fix-regexp-well-known-symbol-logic":149,"../internals/regexp-exec-abstract":216,"../internals/require-object-coercible":219,"../internals/same-value":220}],393:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("small")},{small:function(){return s(this,"small","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],394:[function(t,e,i){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/is-regexp"),v=t("../internals/an-object"),h=t("../internals/require-object-coercible"),_=t("../internals/species-constructor"),x=t("../internals/advance-string-index"),w=t("../internals/to-length"),A=t("../internals/regexp-exec-abstract"),f=t("../internals/regexp-exec"),s=t("../internals/fails"),m=[].push,E=Math.min,O=4294967295,T=!s(function(){return!RegExp(O,"y")});r("split",2,function(s,g,b){var y;return y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function y(t,e){var i=String(h(this)),r=e===undefined?O:e>>>0;if(0==r)return[];if(t===undefined)return[i];if(!c(t))return g.call(i,t,r);for(var s,n,a,o=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,p=new RegExp(t.source,l+"g");(s=f.call(p,i))&&!(u<(n=p.lastIndex)&&(o.push(i.slice(u,s.index)),1<s.length&&s.index<i.length&&m.apply(o,s.slice(1)),a=s[0].length,u=n,o.length>=r));)p.lastIndex===s.index&&p.lastIndex++;return u===i.length?!a&&p.test("")||o.push(""):o.push(i.slice(u)),o.length>r?o.slice(0,r):o}:"0".split(undefined,0).length?function y(t,e){return t===undefined&&0===e?[]:g.call(this,t,e)}:g,[function(t,e){var i=h(this),r=t==undefined?undefined:t[s];return r!==undefined?r.call(t,i,e):y.call(String(i),t,e)},function(t,e){var i=b(y,t,this,e,y!==g);if(i.done)return i.value;var r=v(t),s=String(this),n=_(r,RegExp),a=r.unicode,o=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(T?"y":"g"),l=new n(T?r:"^(?:"+r.source+")",o),u=e===undefined?O:e>>>0;if(0==u)return[];if(0===s.length)return null===A(l,s)?[s]:[];for(var p=0,c=0,h=[];c<s.length;){l.lastIndex=T?c:0;var f,m=A(l,T?s:s.slice(c));if(null===m||(f=E(w(l.lastIndex+(T?0:c)),s.length))===p)c=x(s,c,a);else{if(h.push(s.slice(p,c)),h.length===u)return h;for(var d=1;d<=m.length-1;d++)if(h.push(m[d]),h.length===u)return h;c=p=f}}return h.push(s.slice(p)),h}]},!T)},{"../internals/advance-string-index":109,"../internals/an-object":111,"../internals/fails":148,"../internals/fix-regexp-well-known-symbol-logic":149,"../internals/is-regexp":177,"../internals/regexp-exec":217,"../internals/regexp-exec-abstract":216,"../internals/require-object-coercible":219,"../internals/species-constructor":227,"../internals/to-length":238}],395:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/to-length"),n=t("../internals/not-a-regexp"),a=t("../internals/require-object-coercible"),o=t("../internals/correct-is-regexp-logic"),l="".startsWith,u=Math.min;r({target:"String",proto:!0,forced:!o("startsWith")},{startsWith:function(t){var e=String(a(this));n(t);var i=s(u(1<arguments.length?arguments[1]:undefined,e.length)),r=String(t);return l?l.call(e,r,i):e.slice(i,i+r.length)===r}})},{"../internals/correct-is-regexp-logic":133,"../internals/export":147,"../internals/not-a-regexp":190,"../internals/require-object-coercible":219,"../internals/to-length":238}],396:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("strike")},{strike:function(){return s(this,"strike","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],397:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("sub")},{sub:function(){return s(this,"sub","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],398:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/forced-string-html-method")("sup")},{sup:function(){return s(this,"sup","","")}})},{"../internals/create-html":135,"../internals/export":147,"../internals/forced-string-html-method":152}],399:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/string-trim").end,n=t("../internals/forced-string-trim-method")("trimEnd"),a=n?function a(){return s(this)}:"".trimEnd;r({target:"String",proto:!0,forced:n},{trimEnd:a,trimRight:a})},{"../internals/export":147,"../internals/forced-string-trim-method":153,"../internals/string-trim":231}],400:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/string-trim").start,n=t("../internals/forced-string-trim-method")("trimStart"),a=n?function a(){return s(this)}:"".trimStart;r({target:"String",proto:!0,forced:n},{trimStart:a,trimLeft:a})},{"../internals/export":147,"../internals/forced-string-trim-method":153,"../internals/string-trim":231}],401:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/string-trim").trim;r({target:"String",proto:!0,forced:t("../internals/forced-string-trim-method")("trim")},{trim:function(){return s(this)}})},{"../internals/export":147,"../internals/forced-string-trim-method":153,"../internals/string-trim":231}],402:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("asyncIterator")},{"../internals/define-well-known-symbol":142}],403:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/descriptors"),n=t("../internals/global"),a=t("../internals/has"),o=t("../internals/is-object"),l=t("../internals/object-define-property").f,u=t("../internals/copy-constructor-properties"),p=n.Symbol;if(s&&"function"==typeof p&&(!("description"in p.prototype)||p().description!==undefined)){var c={},h=function(){var t=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]),e=this instanceof h?new p(t):t===undefined?p():p(t);return""===t&&(c[e]=!0),e};u(h,p);var f=h.prototype=p.prototype;f.constructor=h;var m=f.toString,d="Symbol(test)"==String(p("test")),g=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=m.call(t);if(a(c,t))return"";var i=d?e.slice(7,-1):e.replace(g,"$1");return""===i?undefined:i}}),r({global:!0,forced:!0},{Symbol:h})}},{"../internals/copy-constructor-properties":132,"../internals/descriptors":143,"../internals/export":147,"../internals/global":160,"../internals/has":161,"../internals/is-object":175,"../internals/object-define-property":195}],404:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("hasInstance")},{"../internals/define-well-known-symbol":142}],405:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("isConcatSpreadable")},{"../internals/define-well-known-symbol":142}],406:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":142}],407:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(e,t){g(e);var i=y(t),r=w(i).concat(ft(i));return U(r,function(t){p&&!ht.call(i,t)||ct(e,t,i[t])}),e}function n(t,e){var i=y(t),r=v(e,!0);if(i!==H||!f(et,r)||f(it,r)){var s=K(i,r);return!s||!f(et,r)||f(i,F)&&i[F][r]||(s.enumerable=!0),s}}function a(t){var e=Z(y(t)),i=[];return U(e,function(t){f(et,t)||f(C,t)||i.push(t)}),i}var o=t("../internals/export"),l=t("../internals/global"),u=t("../internals/is-pure"),p=t("../internals/descriptors"),c=t("../internals/native-symbol"),h=t("../internals/fails"),f=t("../internals/has"),m=t("../internals/is-array"),d=t("../internals/is-object"),g=t("../internals/an-object"),b=t("../internals/to-object"),y=t("../internals/to-indexed-object"),v=t("../internals/to-primitive"),_=t("../internals/create-property-descriptor"),x=t("../internals/object-create"),w=t("../internals/object-keys"),A=t("../internals/object-get-own-property-names"),E=t("../internals/object-get-own-property-names-external"),O=t("../internals/object-get-own-property-symbols"),T=t("../internals/object-get-own-property-descriptor"),S=t("../internals/object-define-property"),I=t("../internals/object-property-is-enumerable"),k=t("../internals/hide"),N=t("../internals/redefine"),Q=t("../internals/shared"),j=t("../internals/shared-key"),C=t("../internals/hidden-keys"),P=t("../internals/uid"),R=t("../internals/well-known-symbol"),D=t("../internals/wrapped-well-known-symbol"),L=t("../internals/define-well-known-symbol"),M=t("../internals/set-to-string-tag"),B=t("../internals/internal-state"),U=t("../internals/array-iteration").forEach,F=j("hidden"),G="Symbol",q="prototype",z=R("toPrimitive"),V=B.set,X=B.getterFor(G),H=Object[q],Y=l.Symbol,J=l.JSON,W=J&&J.stringify,K=T.f,$=S.f,Z=E.f,tt=I.f,et=Q("symbols"),it=Q("op-symbols"),rt=Q("string-to-symbol-registry"),st=Q("symbol-to-string-registry"),nt=Q("wks"),at=l.QObject,ot=!at||!at[q]||!at[q].findChild,lt=p&&h(function(){return 7!=x($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(t,e,i){var r=K(H,e);r&&delete H[e],$(t,e,i),r&&t!==H&&$(H,e,r)}:$,ut=function ut(t,e){var i=et[t]=x(Y[q]);return V(i,{type:G,tag:t,description:e}),p||(i.description=e),i},pt=c&&"symbol"==r(Y.iterator)?function(t){return"symbol"==r(t)}:function(t){return Object(t)instanceof Y},ct=function(t,e,i){t===H&&ct(it,e,i),g(t);var r=v(e,!0);return g(i),f(et,r)?(i.enumerable?(f(t,F)&&t[F][r]&&(t[F][r]=!1),i=x(i,{enumerable:_(0,!1)})):(f(t,F)||$(t,F,_(1,{})),t[F][r]=!0),lt(t,r,i)):$(t,r,i)},ht=function(t){var e=v(t,!0),i=tt.call(this,e);return!(this===H&&f(et,e)&&!f(it,e))&&(!(i||!f(this,e)||!f(et,e)||f(this,F)&&this[F][e])||i)},ft=function(t){var e=t===H,i=Z(e?it:y(t)),r=[];return U(i,function(t){!f(et,t)||e&&!f(H,t)||r.push(et[t])}),r};c||(N((Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==undefined?String(arguments[0]):undefined,e=P(t),i=function i(t){this===H&&i.call(it,t),f(this,F)&&f(this[F],e)&&(this[F][e]=!1),lt(this,e,_(1,t))};return p&&ot&&lt(H,e,{configurable:!0,set:i}),ut(e,t)})[q],"toString",function(){return X(this).tag}),I.f=ht,S.f=ct,T.f=n,A.f=E.f=a,O.f=ft,p&&($(Y[q],"description",{configurable:!0,get:function(){return X(this).description}}),u||N(H,"propertyIsEnumerable",ht,{unsafe:!0})),D.f=function(t){return ut(R(t),t)}),o({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),U(w(nt),function(t){L(t)}),o({target:G,stat:!0,forced:!c},{"for":function(t){var e=String(t);if(f(rt,e))return rt[e];var i=Y(e);return rt[e]=i,st[i]=e,i},keyFor:function(t){if(!pt(t))throw TypeError(t+" is not a symbol");if(f(st,t))return st[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),o({target:"Object",stat:!0,forced:!c,sham:!p},{create:function(t,e){return e===undefined?x(t):s(x(t),e)},defineProperty:ct,defineProperties:s,getOwnPropertyDescriptor:n}),o({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:a,getOwnPropertySymbols:ft}),o({target:"Object",stat:!0,forced:h(function(){O.f(1)})},{getOwnPropertySymbols:function(t){return O.f(b(t))}}),J&&o({target:"JSON",stat:!0,forced:!c||h(function(){var t=Y();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))})},{stringify:function(t){for(var i,r,e=[t],s=1;s<arguments.length;)e.push(arguments[s++]);if(r=i=e[1],(d(i)||t!==undefined)&&!pt(t))return m(i)||(i=function i(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!pt(e))return e}),e[1]=i,W.apply(J,e)}}),Y[q][z]||k(Y[q],z,Y[q].valueOf),M(Y,G),C[F]=!0},{"../internals/an-object":111,"../internals/array-iteration":119,"../internals/create-property-descriptor":137,"../internals/define-well-known-symbol":142,"../internals/descriptors":143,"../internals/export":147,"../internals/fails":148,"../internals/global":160,"../internals/has":161,"../internals/hidden-keys":162,"../internals/hide":163,"../internals/internal-state":170,"../internals/is-array":172,"../internals/is-object":175,"../internals/is-pure":176,"../internals/native-symbol":186,"../internals/object-create":193,"../internals/object-define-property":195,"../internals/object-get-own-property-descriptor":196,"../internals/object-get-own-property-names":198,"../internals/object-get-own-property-names-external":197,"../internals/object-get-own-property-symbols":199,"../internals/object-keys":202,"../internals/object-property-is-enumerable":203,"../internals/redefine":215,"../internals/set-to-string-tag":223,"../internals/shared":225,"../internals/shared-key":224,"../internals/to-indexed-object":236,"../internals/to-object":239,"../internals/to-primitive":241,"../internals/uid":245,"../internals/well-known-symbol":248,"../internals/wrapped-well-known-symbol":250}],408:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("matchAll")},{"../internals/define-well-known-symbol":142}],409:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("match")},{"../internals/define-well-known-symbol":142}],410:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("replace")},{"../internals/define-well-known-symbol":142}],411:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("search")},{"../internals/define-well-known-symbol":142}],412:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("species")},{"../internals/define-well-known-symbol":142}],413:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("split")},{"../internals/define-well-known-symbol":142}],414:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("toPrimitive")},{"../internals/define-well-known-symbol":142}],415:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("toStringTag")},{"../internals/define-well-known-symbol":142}],416:[function(t,e,i){"use strict";t("../internals/define-well-known-symbol")("unscopables")},{"../internals/define-well-known-symbol":142}],417:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-copy-within"),n=r.aTypedArray;r.exportProto("copyWithin",function(t,e){return s.call(n(this),t,e,2<arguments.length?arguments[2]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-copy-within":114}],418:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").every,n=r.aTypedArray;r.exportProto("every",function(t){return s(n(this),t,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-iteration":119}],419:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-fill"),n=r.aTypedArray;r.exportProto("fill",function(t){return s.apply(n(this),arguments)})},{"../internals/array-buffer-view-core":112,"../internals/array-fill":115}],420:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").filter,o=t("../internals/species-constructor"),l=r.aTypedArray,u=r.aTypedArrayConstructor;r.exportProto("filter",function(t){for(var e=a(l(this),t,1<arguments.length?arguments[1]:undefined),i=o(this,this.constructor),r=0,s=e.length,n=new(u(i))(s);r<s;)n[r]=e[r++];return n})},{"../internals/array-buffer-view-core":112,"../internals/array-iteration":119,"../internals/species-constructor":227}],421:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").findIndex,n=r.aTypedArray;r.exportProto("findIndex",function(t){return s(n(this),t,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-iteration":119}],422:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").find,n=r.aTypedArray;r.exportProto("find",function(t){return s(n(this),t,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-iteration":119}],423:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Float32",4,function(r){return function(t,e,i){return r(this,t,e,i)}})},{"../internals/typed-array-constructor":242}],424:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Float64",8,function(r){return function(t,e,i){return r(this,t,e,i)}})},{"../internals/typed-array-constructor":242}],425:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").forEach,n=r.aTypedArray;r.exportProto("forEach",function(t){s(n(this),t,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-iteration":119}],426:[function(t,e,i){"use strict";var r=t("../internals/typed-arrays-constructors-requires-wrappers"),s=t("../internals/array-buffer-view-core"),n=t("../internals/typed-array-from");s.exportStatic("from",n,r)},{"../internals/array-buffer-view-core":112,"../internals/typed-array-from":243,"../internals/typed-arrays-constructors-requires-wrappers":244}],427:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-includes").includes,n=r.aTypedArray;r.exportProto("includes",function(t){return s(n(this),t,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-includes":118}],428:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-includes").indexOf,n=r.aTypedArray;r.exportProto("indexOf",function(t){return s(n(this),t,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-includes":118}],429:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Int16",2,function(r){return function(t,e,i){return r(this,t,e,i)}})},{"../internals/typed-array-constructor":242}],430:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Int32",4,function(r){return function(t,e,i){return r(this,t,e,i)}})},{"../internals/typed-array-constructor":242}],431:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Int8",1,function(r){return function(t,e,i){return r(this,t,e,i)}})},{"../internals/typed-array-constructor":242}],432:[function(t,e,i){"use strict";function r(){return u.call(h(this))}var s=t("../internals/global"),n=t("../internals/array-buffer-view-core"),a=t("../modules/es.array.iterator"),o=t("../internals/well-known-symbol")("iterator"),l=s.Uint8Array,u=a.values,p=a.keys,c=a.entries,h=n.aTypedArray,f=n.exportProto,m=l&&l.prototype[o],d=!!m&&("values"==m.name||m.name==undefined);f("entries",function(){return c.call(h(this))}),f("keys",function(){return p.call(h(this))}),f("values",r,!d),f(o,r,!d)},{"../internals/array-buffer-view-core":112,"../internals/global":160,"../internals/well-known-symbol":248,"../modules/es.array.iterator":268}],433:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=r.aTypedArray,n=[].join;r.exportProto("join",function(t){return n.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":112}],434:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-last-index-of"),n=r.aTypedArray;r.exportProto("lastIndexOf",function(t){return s.apply(n(this),arguments)})},{"../internals/array-buffer-view-core":112,"../internals/array-last-index-of":120}],435:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").map,n=t("../internals/species-constructor"),a=r.aTypedArray,o=r.aTypedArrayConstructor;r.exportProto("map",function(t){return s(a(this),t,1<arguments.length?arguments[1]:undefined,function(t,e){return new(o(n(t,t.constructor)))(e)})})},{"../internals/array-buffer-view-core":112,"../internals/array-iteration":119,"../internals/species-constructor":227}],436:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/typed-arrays-constructors-requires-wrappers"),n=r.aTypedArrayConstructor;r.exportStatic("of",function(){for(var t=0,e=arguments.length,i=new(n(this))(e);t<e;)i[t]=arguments[t++];return i},s)},{"../internals/array-buffer-view-core":112,"../internals/typed-arrays-constructors-requires-wrappers":244}],437:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-reduce").right,n=r.aTypedArray;r.exportProto("reduceRight",function(t){return s(n(this),t,arguments.length,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-reduce":122}],438:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-reduce").left,n=r.aTypedArray;r.exportProto("reduce",function(t){return s(n(this),t,arguments.length,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-reduce":122}],439:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=r.aTypedArray,n=Math.floor;r.exportProto("reverse",function(){for(var t,e=s(this).length,i=n(e/2),r=0;r<i;)t=this[r],this[r++]=this[--e],this[e]=t;return this})},{"../internals/array-buffer-view-core":112}],440:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),a=t("../internals/to-length"),o=t("../internals/to-offset"),l=t("../internals/to-object"),s=t("../internals/fails"),u=r.aTypedArray,n=s(function(){new Int8Array(1).set({})});r.exportProto("set",function(t){u(this);var e=o(1<arguments.length?arguments[1]:undefined,1),i=this.length,r=l(t),s=a(r.length),n=0;if(i<s+e)throw RangeError("Wrong length");for(;n<s;)this[e+n]=r[n++]},n)},{"../internals/array-buffer-view-core":112,"../internals/fails":148,"../internals/to-length":238,"../internals/to-object":239,"../internals/to-offset":240}],441:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),o=t("../internals/species-constructor"),s=t("../internals/fails"),l=r.aTypedArray,u=r.aTypedArrayConstructor,p=[].slice,n=s(function(){new Int8Array(1).slice()});r.exportProto("slice",function(t,e){for(var i=p.call(l(this),t,e),r=o(this,this.constructor),s=0,n=i.length,a=new(u(r))(n);s<n;)a[s]=i[s++];return a},n)},{"../internals/array-buffer-view-core":112,"../internals/fails":148,"../internals/species-constructor":227}],442:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=t("../internals/array-iteration").some,n=r.aTypedArray;r.exportProto("some",function(t){return s(n(this),t,1<arguments.length?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":112,"../internals/array-iteration":119}],443:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),s=r.aTypedArray,n=[].sort;r.exportProto("sort",function(t){return n.call(s(this),t)})},{"../internals/array-buffer-view-core":112}],444:[function(t,e,i){"use strict";var r=t("../internals/array-buffer-view-core"),n=t("../internals/to-length"),a=t("../internals/to-absolute-index"),o=t("../internals/species-constructor"),l=r.aTypedArray;r.exportProto("subarray",function(t,e){var i=l(this),r=i.length,s=a(t,r);return new(o(i,i.constructor))(i.buffer,i.byteOffset+s*i.BYTES_PER_ELEMENT,n((e===undefined?r:a(e,r))-s))})},{"../internals/array-buffer-view-core":112,"../internals/species-constructor":227,"../internals/to-absolute-index":234,"../internals/to-length":238}],445:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/array-buffer-view-core"),n=t("../internals/fails"),a=r.Int8Array,o=s.aTypedArray,l=[].toLocaleString,u=[].slice,p=!!a&&n(function(){l.call(new a(1))}),c=n(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!n(function(){a.prototype.toLocaleString.call([1,2])});s.exportProto("toLocaleString",function(){return l.apply(p?u.call(o(this)):o(this),arguments)},c)},{"../internals/array-buffer-view-core":112,"../internals/fails":148,"../internals/global":160}],446:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/array-buffer-view-core"),n=t("../internals/fails"),a=r.Uint8Array,o=a&&a.prototype,l=[].toString,u=[].join;n(function(){l.call({})})&&(l=function(){return u.call(this)}),s.exportProto("toString",l,(o||{}).toString!=l)},{"../internals/array-buffer-view-core":112,"../internals/fails":148,"../internals/global":160}],447:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Uint16",2,function(r){return function(t,e,i){return r(this,t,e,i)}})},{"../internals/typed-array-constructor":242}],448:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Uint32",4,function(r){return function(t,e,i){return r(this,t,e,i)}})},{"../internals/typed-array-constructor":242}],449:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Uint8",1,function(r){return function(t,e,i){return r(this,t,e,i)}})},{"../internals/typed-array-constructor":242}],450:[function(t,e,i){"use strict";t("../internals/typed-array-constructor")("Uint8",1,function(r){return function(t,e,i){return r(this,t,e,i)}},!0)},{"../internals/typed-array-constructor":242}],451:[function(t,e,i){"use strict";var r,s=t("../internals/global"),n=t("../internals/redefine-all"),a=t("../internals/internal-metadata"),o=t("../internals/collection"),l=t("../internals/collection-weak"),u=t("../internals/is-object"),p=t("../internals/internal-state").enforce,c=t("../internals/native-weak-map"),h=!s.ActiveXObject&&"ActiveXObject"in s,f=Object.isExtensible,m=function m(t){return function(){return t(this,arguments.length?arguments[0]:undefined)}},d=e.exports=o("WeakMap",m,l,!0,!0);if(c&&h){r=l.getConstructor(m,"WeakMap",!0),a.REQUIRED=!0;var g=d.prototype,b=g["delete"],y=g.has,v=g.get,_=g.set;n(g,{"delete":function(t){if(!u(t)||f(t))return b.call(this,t);var e=p(this);return e.frozen||(e.frozen=new r),b.call(this,t)||e.frozen["delete"](t)},has:function(t){if(!u(t)||f(t))return y.call(this,t);var e=p(this);return e.frozen||(e.frozen=new r),y.call(this,t)||e.frozen.has(t)},get:function(t){if(!u(t)||f(t))return v.call(this,t);var e=p(this);return e.frozen||(e.frozen=new r),y.call(this,t)?v.call(this,t):e.frozen.get(t)},set:function(t,e){if(u(t)&&!f(t)){var i=p(this);i.frozen||(i.frozen=new r),y.call(this,t)?_.call(this,t,e):i.frozen.set(t,e)}else _.call(this,t,e);return this}})}},{"../internals/collection":131,"../internals/collection-weak":130,"../internals/global":160,"../internals/internal-metadata":169,"../internals/internal-state":170,"../internals/is-object":175,"../internals/native-weak-map":188,"../internals/redefine-all":214}],452:[function(t,e,i){"use strict";t("../internals/collection")("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:undefined)}},t("../internals/collection-weak"),!1,!0)},{"../internals/collection":131,"../internals/collection-weak":130}],453:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/dom-iterables"),n=t("../internals/array-for-each"),a=t("../internals/hide");for(var o in s){var l=r[o],u=l&&l.prototype;if(u&&u.forEach!==n)try{a(u,"forEach",n)}catch(p){u.forEach=n}}},{"../internals/array-for-each":116,"../internals/dom-iterables":145,"../internals/global":160,"../internals/hide":163}],454:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/dom-iterables"),n=t("../modules/es.array.iterator"),a=t("../internals/hide"),o=t("../internals/well-known-symbol"),l=o("iterator"),u=o("toStringTag"),p=n.values;for(var c in s){var h=r[c],f=h&&h.prototype;if(f){if(f[l]!==p)try{a(f,l,p)}catch(d){f[l]=p}if(f[u]||a(f,u,c),s[c])for(var m in n)if(f[m]!==n[m])try{a(f,m,n[m])}catch(d){f[m]=n[m]}}}},{"../internals/dom-iterables":145,"../internals/global":160,"../internals/hide":163,"../internals/well-known-symbol":248,"../modules/es.array.iterator":268}],455:[function(t,e,i){"use strict";var r=t("../internals/global"),s=t("../internals/task"),n=!r.setImmediate||!r.clearImmediate;t("../internals/export")({global:!0,bind:!0,enumerable:!0,forced:n},{setImmediate:s.set,clearImmediate:s.clear})},{"../internals/export":147,"../internals/global":160,"../internals/task":232}],456:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/global"),n=t("../internals/microtask"),a=t("../internals/classof-raw"),o=s.process,l="process"==a(o);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=l&&o.domain;n(e?e.bind(t):t)}})},{"../internals/classof-raw":127,"../internals/export":147,"../internals/global":160,"../internals/microtask":185}],457:[function(t,e,i){"use strict";var r=t("../internals/export"),s=t("../internals/global"),n=t("../internals/user-agent"),a=[].slice,o=function o(s){return function(t,e){var i=2<arguments.length,r=i?a.call(arguments,2):undefined;return s(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(n)},{setTimeout:o(s.setTimeout),setInterval:o(s.setInterval)})},{"../internals/export":147,"../internals/global":160,"../internals/user-agent":246}],458:[function(t,e,i){"use strict";t("../modules/es.array.iterator");var r=t("../internals/export"),s=t("../internals/native-url"),n=t("../internals/redefine"),a=t("../internals/redefine-all"),o=t("../internals/set-to-string-tag"),l=t("../internals/create-iterator-constructor"),u=t("../internals/internal-state"),p=t("../internals/an-instance"),c=t("../internals/has"),h=t("../internals/bind-context"),f=t("../internals/an-object"),m=t("../internals/is-object"),d=t("../internals/get-iterator"),g=t("../internals/get-iterator-method"),b=t("../internals/well-known-symbol")("iterator"),y="URLSearchParams",v=y+"Iterator",_=u.set,x=u.getterFor(y),w=u.getterFor(v),A=/\+/g,E=Array(4),O=function O(t){return E[t-1]||(E[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},T=function T(t){try{return decodeURIComponent(t)}catch(e){return t}},S=function S(t){var e=t.replace(A," "),i=4;try{return decodeURIComponent(e)}catch(r){for(;i;)e=e.replace(O(i--),T);return e}},I=/[!'()~]|%20/g,k={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function N(t){return k[t]},Q=function Q(t){return encodeURIComponent(t).replace(I,N)},j=function j(t,e){if(e)for(var i,r,s=e.split("&"),n=0;n<s.length;)(i=s[n++]).length&&(r=i.split("="),t.push({key:S(r.shift()),value:S(r.join("="))}))},C=function C(t){this.entries.length=0,j(this.entries,t)},P=function P(t,e){if(t<e)throw TypeError("Not enough arguments")},R=l(function(t,e){_(this,{type:v,iterator:d(x(t).entries),kind:e})},"Iterator",function(){var t=w(this),e=t.kind,i=t.iterator.next(),r=i.value;return i.done||(i.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),i}),D=function(){p(this,D,y);var t,e,i,r,s,n,a,o=0<arguments.length?arguments[0]:undefined,l=[];if(_(this,{type:y,entries:l,updateURL:function(){},updateSearchParams:C}),o!==undefined)if(m(o))if("function"==typeof(t=g(o)))for(e=t.call(o);!(i=e.next()).done;){if((s=(r=d(f(i.value))).next()).done||(n=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");l.push({key:s.value+"",value:n.value+""})}else for(a in o)c(o,a)&&l.push({key:a,value:o[a]+""});else j(l,"string"==typeof o?"?"===o.charAt(0)?o.slice(1):o:o+"")},L=D.prototype;a(L,{append:function(t,e){P(arguments.length,2);var i=x(this);i.entries.push({key:t+"",value:e+""}),i.updateURL()},"delete":function(t){P(arguments.length,1);for(var e=x(this),i=e.entries,r=t+"",s=0;s<i.length;)i[s].key===r?i.splice(s,1):s++;e.updateURL()},get:function(t){P(arguments.length,1);for(var e=x(this).entries,i=t+"",r=0;r<e.length;r++)if(e[r].key===i)return e[r].value;return null},getAll:function(t){P(arguments.length,1);for(var e=x(this).entries,i=t+"",r=[],s=0;s<e.length;s++)e[s].key===i&&r.push(e[s].value);return r},has:function(t){P(arguments.length,1);for(var e=x(this).entries,i=t+"",r=0;r<e.length;)if(e[r++].key===i)return!0;return!1},set:function(t,e){P(arguments.length,1);for(var i,r=x(this),s=r.entries,n=!1,a=t+"",o=e+"",l=0;l<s.length;l++)(i=s[l]).key===a&&(n?s.splice(l--,1):(n=!0,i.value=o));n||s.push({key:a,value:o}),r.updateURL()},sort:function(){var t,e,i,r=x(this),s=r.entries,n=s.slice();for(i=s.length=0;i<n.length;i++){for(t=n[i],e=0;e<i;e++)if(s[e].key>t.key){s.splice(e,0,t);break}e===i&&s.push(t)}r.updateURL()},forEach:function(t){for(var e,i=x(this).entries,r=h(t,1<arguments.length?arguments[1]:undefined,3),s=0;s<i.length;)r((e=i[s++]).value,e.key,this)},keys:function(){return new R(this,"keys")},values:function(){return new R(this,"values")},entries:function(){return new R(this,"entries")}},{enumerable:!0}),n(L,b,L.entries),n(L,"toString",function(){for(var t,e=x(this).entries,i=[],r=0;r<e.length;)t=e[r++],i.push(Q(t.key)+"="+Q(t.value));return i.join("&")},{enumerable:!0}),o(D,y),r({global:!0,forced:!s},{URLSearchParams:D}),e.exports={URLSearchParams:D,getState:x}},{"../internals/an-instance":110,"../internals/an-object":111,"../internals/bind-context":124,"../internals/create-iterator-constructor":136,"../internals/export":147,"../internals/get-iterator":159,"../internals/get-iterator-method":158,"../internals/has":161,"../internals/internal-state":170,"../internals/is-object":175,"../internals/native-url":187,"../internals/redefine":215,"../internals/redefine-all":214,"../internals/set-to-string-tag":223,"../internals/well-known-symbol":248,"../modules/es.array.iterator":268}],459:[function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("../modules/es.string.iterator");var y,r=t("../internals/export"),u=t("../internals/descriptors"),s=t("../internals/native-url"),a=t("../internals/global"),o=t("../internals/object-define-properties"),l=t("../internals/redefine"),p=t("../internals/an-instance"),v=t("../internals/has"),c=t("../internals/object-assign"),_=t("../internals/array-from"),h=t("../internals/string-multibyte").codeAt,f=t("../internals/punycode-to-ascii"),m=t("../internals/set-to-string-tag"),d=t("../modules/web.url-search-params"),g=t("../internals/internal-state"),b=a.URL,x=d.URLSearchParams,w=d.getState,A=g.set,E=g.getterFor("URL"),O=Math.floor,T=Math.pow,S="Invalid scheme",I="Invalid host",k="Invalid port",N=/[A-Za-z]/,Q=/[\d+\-.A-Za-z]/,j=/\d/,C=/^(0x|0X)/,P=/^[0-7]+$/,R=/^\d+$/,D=/^[\dA-Fa-f]+$/,L=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,M=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\u0009\u000A\u000D]/g,F=function F(t,e){var i,r,s;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return I;if(!(i=q(e.slice(1,-1))))return I;t.host=i}else if($(t)){if(e=f(e),L.test(e))return I;if(null===(i=G(e)))return I;t.host=i}else{if(M.test(e))return I;for(i="",r=_(e),s=0;s<r.length;s++)i+=W(r[s],X);t.host=i}},G=function G(t){var e,i,r,s,n,a,o,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),4<(e=l.length))return t;for(i=[],r=0;r<e;r++){if(""==(s=l[r]))return t;if(n=10,1<s.length&&"0"==s.charAt(0)&&(n=C.test(s)?16:8,s=s.slice(8==n?1:2)),""===s)a=0;else{if(!(10==n?R:8==n?P:D).test(s))return t;a=parseInt(s,n)}i.push(a)}for(r=0;r<e;r++)if(a=i[r],r==e-1){if(a>=T(256,5-e))return null}else if(255<a)return null;for(o=i.pop(),r=0;r<i.length;r++)o+=i[r]*T(256,3-r);return o},q=function q(t){var e,i,r,s,n,a,o,l=[0,0,0,0,0,0,0,0],u=0,p=null,c=0,h=function h(){return t.charAt(c)};if(":"==h()){if(":"!=t.charAt(1))return;c+=2,p=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=i=0;i<4&&D.test(h());)e=16*e+parseInt(h(),16),c++,i++;if("."==h()){if(0==i)return;if(c-=i,6<u)return;for(r=0;h();){if(s=null,0<r){if(!("."==h()&&r<4))return;c++}if(!j.test(h()))return;for(;j.test(h());){if(n=parseInt(h(),10),null===s)s=n;else{if(0==s)return;s=10*s+n}if(255<s)return;c++}l[u]=256*l[u]+s,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(c++,!h())return}else if(h())return;l[u++]=e}else{if(null!==p)return;c++,p=++u}}if(null!==p)for(a=u-p,u=7;0!=u&&0<a;)o=l[u],l[u--]=l[p+a-1],l[p+--a]=o;else if(8!=u)return;return l},z=function z(t){for(var e=null,i=1,r=null,s=0,n=0;n<8;n++)0!==t[n]?(i<s&&(e=r,i=s),r=null,s=0):(null===r&&(r=n),++s);return i<s&&(e=r,i=s),e},V=function V(t){var e,i,r,s;if("number"==typeof t){for(e=[],i=0;i<4;i++)e.unshift(t%256),t=O(t/256);return e.join(".")}if("object"!=n(t))return t;for(e="",r=z(t),i=0;i<8;i++)s&&0===t[i]||(s=s&&!1,r===i?(e+=i?":":"::",s=!0):(e+=t[i].toString(16),i<7&&(e+=":")));return"["+e+"]"},X={},H=c({},X,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=c({},H,{"#":1,"?":1,"{":1,"}":1}),J=c({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),W=function W(t,e){var i=h(t,0);return 32<i&&i<127&&!v(e,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},$=function $(t){return v(K,t.scheme)},Z=function Z(t){return""!=t.username||""!=t.password},tt=function tt(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function et(t,e){var i;return 2==t.length&&N.test(t.charAt(0))&&(":"==(i=t.charAt(1))||!e&&"|"==i)},it=function it(t){var e;return 1<t.length&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},rt=function rt(t){var e=t.path,i=e.length;!i||"file"==t.scheme&&1==i&&et(e[0],!0)||e.pop()},st=function st(t){return"."===t||"%2e"===t.toLowerCase()},nt=function nt(t){return".."===(t=t.toLowerCase())||"%2e."===t||".%2e"===t||"%2e%2e"===t},at={},ot={},lt={},ut={},pt={},ct={},ht={},ft={},mt={},dt={},gt={},bt={},yt={},vt={},_t={},xt={},wt={},At={},Et={},Ot={},Tt={},St=function St(t,e,i,r){var s,n,a,o,l=i||at,u=0,p="",c=!1,h=!1,f=!1;for(i||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(B,"")),e=e.replace(U,""),s=_(e);u<=s.length;){switch(n=s[u],l){case at:if(!n||!N.test(n)){if(i)return S;l=lt;continue}p+=n.toLowerCase(),l=ot;break;case ot:if(n&&(Q.test(n)||"+"==n||"-"==n||"."==n))p+=n.toLowerCase();else{if(":"!=n){if(i)return S;p="",l=lt,u=0;continue}if(i&&($(t)!=v(K,p)||"file"==p&&(Z(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,i)return void($(t)&&K[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?l=vt:$(t)&&r&&r.scheme==t.scheme?l=ut:$(t)?l=ft:"/"==s[u+1]?(l=pt,u++):(t.cannotBeABaseURL=!0,t.path.push(""),l=Et)}break;case lt:if(!r||r.cannotBeABaseURL&&"#"!=n)return S;if(r.cannotBeABaseURL&&"#"==n){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,l=Tt;break}l="file"==r.scheme?vt:ct;continue;case ut:if("/"!=n||"/"!=s[u+1]){l=ct;continue}l=mt,u++;break;case pt:if("/"==n){l=dt;break}l=At;continue;case ct:if(t.scheme=r.scheme,n==y)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==n||"\\"==n&&$(t))l=ht;else if("?"==n)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",l=Ot;else{if("#"!=n){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),l=At;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=Tt}break;case ht:if(!$(t)||"/"!=n&&"\\"!=n){if("/"!=n){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,l=At;continue}l=dt}else l=mt;break;case ft:if(l=mt,"/"!=n||"/"!=p.charAt(u+1))continue;u++;break;case mt:if("/"==n||"\\"==n)break;l=dt;continue;case dt:if("@"==n){c&&(p="%40"+p),c=!0,a=_(p);for(var m=0;m<a.length;m++){var d=a[m];if(":"!=d||f){var g=W(d,J);f?t.password+=g:t.username+=g}else f=!0}p=""}else if(n==y||"/"==n||"?"==n||"#"==n||"\\"==n&&$(t)){if(c&&""==p)return"Invalid authority";u-=_(p).length+1,p="",l=gt}else p+=n;break;case gt:case bt:if(i&&"file"==t.scheme){l=xt;continue}if(":"!=n||h){if(n==y||"/"==n||"?"==n||"#"==n||"\\"==n&&$(t)){if($(t)&&""==p)return I;if(i&&""==p&&(Z(t)||null!==t.port))return;if(o=F(t,p))return o;if(p="",l=wt,i)return;continue}"["==n?h=!0:"]"==n&&(h=!1),p+=n}else{if(""==p)return I;if(o=F(t,p))return o;if(p="",l=yt,i==bt)return}break;case yt:if(!j.test(n)){if(n==y||"/"==n||"?"==n||"#"==n||"\\"==n&&$(t)||i){if(""!=p){var b=parseInt(p,10);if(65535<b)return k;t.port=$(t)&&b===K[t.scheme]?null:b,p=""}if(i)return;l=wt;continue}return k}p+=n;break;case vt:if(t.scheme="file","/"==n||"\\"==n)l=_t;else{if(!r||"file"!=r.scheme){l=At;continue}if(n==y)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==n)t.host=r.host,t.path=r.path.slice(),t.query="",l=Ot;else{if("#"!=n){it(s.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),rt(t)),l=At;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=Tt}}break;case _t:if("/"==n||"\\"==n){l=xt;break}r&&"file"==r.scheme&&!it(s.slice(u).join(""))&&(et(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),l=At;continue;case xt:if(n==y||"/"==n||"\\"==n||"?"==n||"#"==n){if(!i&&et(p))l=At;else if(""==p){if(t.host="",i)return;l=wt}else{if(o=F(t,p))return o;if("localhost"==t.host&&(t.host=""),i)return;p="",l=wt}continue}p+=n;break;case wt:if($(t)){if(l=At,"/"!=n&&"\\"!=n)continue}else if(i||"?"!=n)if(i||"#"!=n){if(n!=y&&(l=At,"/"!=n))continue}else t.fragment="",l=Tt;else t.query="",l=Ot;break;case At:if(n==y||"/"==n||"\\"==n&&$(t)||!i&&("?"==n||"#"==n)){if(nt(p)?(rt(t),"/"==n||"\\"==n&&$(t)||t.path.push("")):st(p)?"/"==n||"\\"==n&&$(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(n==y||"?"==n||"#"==n))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==n?(t.query="",l=Ot):"#"==n&&(t.fragment="",l=Tt)}else p+=W(n,Y);break;case Et:"?"==n?(t.query="",l=Ot):"#"==n?(t.fragment="",l=Tt):n!=y&&(t.path[0]+=W(n,X));break;case Ot:i||"#"!=n?n!=y&&("'"==n&&$(t)?t.query+="%27":t.query+="#"==n?"%23":W(n,X)):(t.fragment="",l=Tt);break;case Tt:n!=y&&(t.fragment+=W(n,H))}u++}},It=function(t){var e,i,r=p(this,It,"URL"),s=1<arguments.length?arguments[1]:undefined,n=String(t),a=A(r,{type:"URL"});if(s!==undefined)if(s instanceof It)e=E(s);else if(i=St(e={},String(s)))throw TypeError(i);if(i=St(a,n,null,e))throw TypeError(i);var o=a.searchParams=new x,l=w(o);l.updateSearchParams(a.query),l.updateURL=function(){a.query=String(o)||null},u||(r.href=Nt.call(r),r.origin=Qt.call(r),r.protocol=jt.call(r),r.username=Ct.call(r),r.password=Pt.call(r),r.host=Rt.call(r),r.hostname=Dt.call(r),r.port=Lt.call(r),r.pathname=Mt.call(r),r.search=Bt.call(r),r.searchParams=Ut.call(r),r.hash=Ft.call(r))},kt=It.prototype,Nt=function Nt(){var t=E(this),e=t.scheme,i=t.username,r=t.password,s=t.host,n=t.port,a=t.path,o=t.query,l=t.fragment,u=e+":";return null!==s?(u+="//",Z(t)&&(u+=i+(r?":"+r:"")+"@"),u+=V(s),null!==n&&(u+=":"+n)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==o&&(u+="?"+o),null!==l&&(u+="#"+l),u},Qt=function Qt(){var t=E(this),e=t.scheme,i=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&$(t)?e+"://"+V(t.host)+(null!==i?":"+i:""):"null"},jt=function jt(){return E(this).scheme+":"},Ct=function Ct(){return E(this).username},Pt=function Pt(){return E(this).password},Rt=function Rt(){var t=E(this),e=t.host,i=t.port;return null===e?"":null===i?V(e):V(e)+":"+i},Dt=function Dt(){var t=E(this).host;return null===t?"":V(t)},Lt=function Lt(){var t=E(this).port;return null===t?"":String(t)},Mt=function Mt(){var t=E(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Bt=function Bt(){var t=E(this).query;return t?"?"+t:""},Ut=function Ut(){return E(this).searchParams},Ft=function Ft(){var t=E(this).fragment;return t?"#"+t:""},Gt=function Gt(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(u&&o(kt,{href:Gt(Nt,function(t){var e=E(this),i=String(t),r=St(e,i);if(r)throw TypeError(r);w(e.searchParams).updateSearchParams(e.query)}),origin:Gt(Qt),protocol:Gt(jt,function(t){var e=E(this);St(e,String(t)+":",at)}),username:Gt(Ct,function(t){var e=E(this),i=_(String(t));if(!tt(e)){e.username="";for(var r=0;r<i.length;r++)e.username+=W(i[r],J)}}),password:Gt(Pt,function(t){var e=E(this),i=_(String(t));if(!tt(e)){e.password="";for(var r=0;r<i.length;r++)e.password+=W(i[r],J)}}),host:Gt(Rt,function(t){var e=E(this);e.cannotBeABaseURL||St(e,String(t),gt)}),hostname:Gt(Dt,function(t){var e=E(this);e.cannotBeABaseURL||St(e,String(t),bt)}),port:Gt(Lt,function(t){var e=E(this);tt(e)||(""==(t=String(t))?e.port=null:St(e,t,yt))}),pathname:Gt(Mt,function(t){var e=E(this);e.cannotBeABaseURL||(e.path=[],St(e,t+"",wt))}),search:Gt(Bt,function(t){var e=E(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",St(e,t,Ot)),w(e.searchParams).updateSearchParams(e.query)}),searchParams:Gt(Ut),hash:Gt(Ft,function(t){var e=E(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",St(e,t,Tt)):e.fragment=null})}),l(kt,"toJSON",function(){return Nt.call(this)},{enumerable:!0}),l(kt,"toString",function(){return Nt.call(this)},{enumerable:!0}),b){var qt=b.createObjectURL,zt=b.revokeObjectURL;qt&&l(It,"createObjectURL",function(t){return qt.apply(b,arguments)}),zt&&l(It,"revokeObjectURL",function(t){return zt.apply(b,arguments)})}m(It,"URL"),r({global:!0,forced:!s,sham:!u},{URL:It})},{"../internals/an-instance":110,"../internals/array-from":117,"../internals/descriptors":143,"../internals/export":147,"../internals/global":160,"../internals/has":161,"../internals/internal-state":170,"../internals/native-url":187,"../internals/object-assign":192,"../internals/object-define-properties":194,"../internals/punycode-to-ascii":213,"../internals/redefine":215,"../internals/set-to-string-tag":223,"../internals/string-multibyte":228,"../modules/es.string.iterator":383,"../modules/web.url-search-params":458}],460:[function(t,e,i){"use strict";t("../internals/export")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},{"../internals/export":147}],461:[function(t,e,i){"use strict";t("../es"),t("../web"),e.exports=t("../internals/path")},{"../es":105,"../internals/path":210,"../web":462}],462:[function(t,e,i){"use strict";t("../modules/web.dom-collections.for-each"),t("../modules/web.dom-collections.iterator"),t("../modules/web.immediate"),t("../modules/web.queue-microtask"),t("../modules/web.timers"),t("../modules/web.url"),t("../modules/web.url.to-json"),t("../modules/web.url-search-params"),e.exports=t("../internals/path")},{"../internals/path":210,"../modules/web.dom-collections.for-each":453,"../modules/web.dom-collections.iterator":454,"../modules/web.immediate":455,"../modules/web.queue-microtask":456,"../modules/web.timers":457,"../modules/web.url":459,"../modules/web.url-search-params":458,"../modules/web.url.to-json":460}],463:[function(t,e,i){"use strict";i.read=function(t,e,i,r,s){var n,a,o=8*s-r-1,l=(1<<o)-1,u=l>>1,p=-7,c=i?s-1:0,h=i?-1:1,f=t[e+c];for(c+=h,n=f&(1<<-p)-1,f>>=-p,p+=o;0<p;n=256*n+t[e+c],c+=h,p-=8);for(a=n&(1<<-p)-1,n>>=-p,p+=r;0<p;a=256*a+t[e+c],c+=h,p-=8);if(0===n)n=1-u;else{if(n===l)return a?NaN:(f?-1:1)*Infinity;a+=Math.pow(2,r),n-=u}return(f?-1:1)*a*Math.pow(2,n-r)},i.write=function(t,e,i,r,s,n){var a,o,l,u=8*n-s-1,p=(1<<u)-1,c=p>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:n-1,m=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(o=isNaN(e)?1:0,a=p):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(e+=1<=a+c?h/l:h*Math.pow(2,1-c))*l&&(a++,l/=2),p<=a+c?(o=0,a=p):1<=a+c?(o=(e*l-1)*Math.pow(2,s),a+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,s),a=0));8<=s;t[i+f]=255&o,f+=m,o/=256,s-=8);for(a=a<<s|o,u+=s;0<u;t[i+f]=255&a,f+=m,a/=256,u-=8);t[i+f-m]|=128*d}},{}],464:[function(t,e,i){"use strict";t("whatwg-fetch"),e.exports=self.fetch.bind(self)},{"whatwg-fetch":473}],465:[function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,y="boolean"==typeof(new RegExp).sticky;function v(t){return t&&"[object RegExp]"===e.call(t)}function p(t){return t&&"object"===s(t)&&!v(t)&&!Array.isArray(t)}function _(t){return t.length?"(?:"+t.map(function(t){return"(?:"+t+")"}).join("|")+")":"(?!)"}function x(t){if("string"==typeof t)return"(?:"+function e(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(t)+")";if(v(t)){if(t.ignoreCase)throw new Error("RegExp /i flag not allowed");if(t.global)throw new Error("RegExp /g flag is implied");if(t.sticky)throw new Error("RegExp /y flag is implied");if(t.multiline)throw new Error("RegExp /m flag is implied");return t.source}throw new Error("Not a pattern: "+t)}function c(t,e){if(p(e)||(e={match:e}),e.include)throw new Error("Matching rules cannot also include states");var i={defaultType:t,lineBreaks:!!e.error||!!e.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var r in e)n.call(e,r)&&(i[r]=e[r]);if("string"==typeof i.type&&t!==i.type)throw new Error("Type transform cannot be a string (type '"+i.type+"' for token '"+t+"')");var s=i.match;return i.match=Array.isArray(s)?s:s?[s]:[],i.match.sort(function(t,e){return v(t)&&v(e)?0:v(e)?-1:v(t)?1:e.length-t.length}),i}function w(t){return Array.isArray(t)?function a(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];if(r.include)for(var s=[].concat(r.include),n=0;n<s.length;n++)e.push({include:s[n]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));e.push(c(r.type,r))}}return e}(t):function u(t){for(var e=Object.getOwnPropertyNames(t),i=[],r=0;r<e.length;r++){var s=e[r],n=t[s],a=[].concat(n);if("include"!==s){var o=[];a.forEach(function(t){p(t)?(o.length&&i.push(c(s,o)),i.push(c(s,t)),o=[]):o.push(t)}),o.length&&i.push(c(s,o))}else for(var l=0;l<a.length;l++)i.push({include:a[l]})}return i}(t)}var A=c("error",{lineBreaks:!0,shouldThrow:!0});function E(t,e){for(var i=null,r=Object.create(null),s=!0,n=null,a=[],o=[],l=0;l<t.length;l++)t[l].fallback&&(s=!1);for(l=0;l<t.length;l++){var u=t[l];if(u.include)throw new Error("Inheritance is not allowed in stateless lexers");if(u.error||u.fallback){if(i)throw!u.fallback==!i.fallback?new Error("Multiple "+(u.fallback?"fallback":"error")+" rules not allowed (for token '"+u.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+u.defaultType+"')");i=u}var p=u.match.slice();if(s)for(;p.length&&"string"==typeof p[0]&&1===p[0].length;){r[p.shift().charCodeAt(0)]=u}if(u.pop||u.push||u.next){if(!e)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+u.defaultType+"')");if(u.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+u.defaultType+"')")}if(0!==p.length){s=!1,a.push(u);for(var c=0;c<p.length;c++){var h=p[c];if(v(h))if(null===n)n=h.unicode;else if(n!==h.unicode&&!1===u.fallback)throw new Error("If one rule is /u then all must be")}var f=_(p.map(x)),m=new RegExp(f);if(m.test(""))throw new Error("RegExp matches empty string: "+m);if(0<new RegExp("|"+f).exec("").length-1)throw new Error("RegExp has capture groups: "+m+"\nUse (?: \u2026 ) instead");if(!u.lineBreaks&&m.test("\n"))throw new Error("Rule should declare lineBreaks: "+m);o.push("("+f+")")}}var d=i&&i.fallback,g=y&&!d?"ym":"gm",b=y||d?"":"|";return!0===n&&(g+="u"),{regexp:new RegExp(_(o)+b,g),groups:a,fast:r,error:i||A}}function O(t,e,i){var r=t&&(t.push||t.next);if(r&&!i[r])throw new Error("Missing state '"+r+"' (in token '"+t.defaultType+"' of state '"+e+"')");if(t&&t.pop&&1!=+t.pop)throw new Error("pop must be 1 (in token '"+t.defaultType+"' of state '"+e+"')")}var T=function T(t,e){this.startState=e,this.states=t,this.buffer="",this.stack=[],this.reset()};T.prototype.reset=function(t,e){return this.buffer=t||"",this.index=0,this.line=e?e.line:1,this.col=e?e.col:1,this.queuedToken=e?e.queuedToken:null,this.queuedThrow=e?e.queuedThrow:null,this.setState(e?e.state:this.startState),this.stack=e&&e.stack?e.stack.slice():[],this},T.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},T.prototype.setState=function(t){if(t&&this.state!==t){this.state=t;var e=this.states[t];this.groups=e.groups,this.error=e.error,this.re=e.regexp,this.fast=e.fast}},T.prototype.popState=function(){this.setState(this.stack.pop())},T.prototype.pushState=function(t){this.stack.push(this.state),this.setState(t)};var l=y?function(t,e){return t.exec(e)}:function(t,e){var i=t.exec(e);return 0===i[0].length?null:i};function u(){return this.value}if(T.prototype._getGroup=function(t){for(var e=this.groups.length,i=0;i<e;i++)if(t[i+1]!==undefined)return this.groups[i];throw new Error("Cannot find token type for matched text")},T.prototype.next=function(){var t=this.index;if(this.queuedGroup){var e=this._token(this.queuedGroup,this.queuedText,t);return this.queuedGroup=null,this.queuedText="",e}var i=this.buffer;if(t!==i.length){if(a=this.fast[i.charCodeAt(t)])return this._token(a,i.charAt(t),t);var r=this.re;r.lastIndex=t;var s=l(r,i),n=this.error;if(null==s)return this._token(n,i.slice(t,i.length),t);var a=this._getGroup(s),o=s[0];return n.fallback&&s.index!==t?(this.queuedGroup=a,this.queuedText=o,this._token(n,i.slice(t,s.index),t)):this._token(a,o,t)}},T.prototype._token=function(t,e,i){var r=0;if(t.lineBreaks){var s=/\n/g,n=1;if("\n"===e)r=1;else for(;s.exec(e);)r++,n=s.lastIndex}var a={type:"function"==typeof t.type&&t.type(e)||t.defaultType,value:"function"==typeof t.value?t.value(e):e,text:e,toString:u,offset:i,lineBreaks:r,line:this.line,col:this.col},o=e.length;if(this.index+=o,this.line+=r,0!==r?this.col=o-n+1:this.col+=o,t.shouldThrow)throw new Error(this.formatError(a,"invalid syntax"));return t.pop?this.popState():t.push?this.pushState(t.push):t.next&&this.setState(t.next),a},"undefined"!=typeof Symbol&&Symbol.iterator){var i=function i(t){this.lexer=t};i.prototype.next=function(){var t=this.lexer.next();return{value:t,done:!t}},i.prototype[Symbol.iterator]=function(){return this},T.prototype[Symbol.iterator]=function(){return new i(this)}}return T.prototype.formatError=function(t,e){if(null==t){var i=this.buffer.slice(this.index);t={text:i,offset:this.index,lineBreaks:-1===i.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=Math.max(0,t.offset-t.col+1),s=t.lineBreaks?t.text.indexOf("\n"):t.text.length,n=this.buffer.substring(r,t.offset+s);return e+=" at line "+t.line+" col "+t.col+":\n\n",e+="  "+n+"\n",e+="  "+Array(t.col).join(" ")+"^"},T.prototype.clone=function(){return new T(this.states,this.state)},T.prototype.has=function(t){return!0},{compile:function r(t){var e=E(w(t));return new T({start:e},"start")},states:function S(t,e){var i=t.$all?w(t.$all):[];delete t.$all;var r=Object.getOwnPropertyNames(t);e=e||r[0];for(var s=Object.create(null),n=0;n<r.length;n++){s[d=r[n]]=w(t[d]).concat(i)}for(n=0;n<r.length;n++)for(var a=s[d=r[n]],o=Object.create(null),l=0;l<a.length;l++){var u=a[l];if(u.include){var p=[l,1];if(u.include!==d&&!o[u.include]){o[u.include]=!0;var c=s[u.include];if(!c)throw new Error("Cannot include nonexistent state '"+u.include+"' (in state '"+d+"')");for(var h=0;h<c.length;h++){var f=c[h];-1===a.indexOf(f)&&p.push(f)}}a.splice.apply(a,p),l--}}var m=Object.create(null);for(n=0;n<r.length;n++){var d;m[d=r[n]]=E(s[d],!0)}for(n=0;n<r.length;n++){var g=r[n],b=m[g],y=b.groups;for(l=0;l<y.length;l++)O(y[l],g,m);var v=Object.getOwnPropertyNames(b.fast);for(l=0;l<v.length;l++)O(b.fast[v[l]],g,m)}return new T(m,e)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function h(t){for(var i=Object.create(null),e=Object.create(null),r=Object.getOwnPropertyNames(t),s=0;s<r.length;s++){var n=r[s],a=t[n];(Array.isArray(a)?a:[a]).forEach(function(t){if((e[t.length]=e[t.length]||[]).push(t),"string"!=typeof t)throw new Error("keyword must be string (in keyword '"+n+"')");i[t]=n})}function o(t){return JSON.stringify(t)}var l="";for(var u in l+="switch (value.length) {\n",e){var p=e[u];l+="case "+u+":\n",l+="switch (value) {\n",p.forEach(function(t){var e=i[t];l+="case "+o(t)+": return "+o(e)+"\n"}),l+="}\n"}return l+="}\n",Function("value",l)}}},"function"==typeof define&&define.amd?define([],r):"object"===(void 0===e?"undefined":s(e))&&e.exports?e.exports=r():(void 0).moo=r()},{}],466:[function(t,e,i){"use strict";var r,s,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{s="function"==typeof clearTimeout?clearTimeout:o}catch(t){s=o}}();var u,p=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?p=u.concat(p):h=-1,p.length&&m())}function m(){if(!c){var t=l(f);c=!0;for(var e=p.length;e;){for(u=p,p=[];++h<e;)u&&u[h].run();h=-1,e=p.length}u=null,c=!1,function i(t){if(s===clearTimeout)return clearTimeout(t);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{return s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new d(t,e)),1!==p.length||c||l(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],467:[function(t,e,i){"use strict";e.exports=function(t,e,i,r){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var n=/\+/g;t=t.split(e);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var o,l,u=t.length;0<a&&a<u&&(u=a);for(var p=0;p<u;++p){var c,h,f,m,d=t[p].replace(n,"%20"),g=d.indexOf(i);h=0<=g?(c=d.substr(0,g),d.substr(g+1)):(c=d,""),f=decodeURIComponent(c),m=decodeURIComponent(h),o=s,l=f,Object.prototype.hasOwnProperty.call(o,l)?b(s[f])?s[f].push(m):s[f]=[s[f],m]:s[f]=m}return s};var b=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],468:[function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=function a(t){switch(n(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(i,r,s,t){return r=r||"&",s=s||"=",null===i&&(i=undefined),"object"===n(i)?l(u(i),function(t){var e=encodeURIComponent(a(t))+s;return o(i[t])?l(i[t],function(t){return e+encodeURIComponent(a(t))}).join(r):e+encodeURIComponent(a(i[t]))}).join(r):t?encodeURIComponent(a(t))+s+encodeURIComponent(a(i)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function l(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],r));return i}var u=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},{}],469:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":467,"./encode":468}],470:[function(t,e,i){"use strict";function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(n){var l,t=Object.prototype,u=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",i=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function a(t,e,i,r){var s=e&&e.prototype instanceof o?e:o,n=Object.create(s.prototype),a=new S(r||[]);return n._invoke=function u(n,a,o){var l=c;return function(t,e){if(l===f)throw new Error("Generator is already running");if(l===m){if("throw"===t)throw e;return k()}for(o.method=t,o.arg=e;;){var i=o.delegate;if(i){var r=E(i,o);if(r){if(r===d)continue;return r}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(l===c)throw l=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l=f;var s=p(n,a,o);if("normal"===s.type){if(l=o.done?m:h,s.arg===d)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(l=m,o.method="throw",o.arg=s.arg)}}}(t,i,a),n}function p(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(r){return{type:"throw",arg:r}}}n.wrap=a;var c="suspendedStart",h="suspendedYield",f="executing",m="completed",d={};function o(){}function g(){}function b(){}var y={};y[s]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(I([])));_&&_!==t&&u.call(_,s)&&(y=_);var x=b.prototype=o.prototype=Object.create(y);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(l){var e;this._invoke=function s(i,r){function t(){return new Promise(function(t,e){!function o(t,e,i,r){var s=p(l[t],l,e);if("throw"!==s.type){var n=s.arg,a=n.value;return a&&"object"===N(a)&&u.call(a,"__await")?Promise.resolve(a.__await).then(function(t){o("next",t,i,r)},function(t){o("throw",t,i,r)}):Promise.resolve(a).then(function(t){n.value=t,i(n)},function(t){return o("throw",t,i,r)})}r(s.arg)}(i,r,t,e)})}return e=e?e.then(t,t):t()}}function E(t,e){var i=t.iterator[e.method];if(i===l){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=l,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=p(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var s=r.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=l),e.delegate=null,d):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function r(){for(;++i<t.length;)if(u.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=l,r.done=!0,r};return r.next=r}}return{next:k}}function k(){return{value:l,done:!0}}return g.prototype=x.constructor=b,b.constructor=g,b[r]=g.displayName="GeneratorFunction",n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(x),t},n.awrap=function(t){return{__await:t}},w(A.prototype),A.prototype[i]=function(){return this},n.AsyncIterator=A,n.async=function(t,e,i,r){var s=new A(a(t,e,i,r));return n.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},w(x),x[r]="Generator",x[s]=function(){return this},x.toString=function(){return"[object Generator]"},n.keys=function(e){var i=[];for(var t in e)i.push(t);return i.reverse(),function r(){for(;i.length;){var t=i.pop();if(t in e)return r.value=t,r.done=!1,r}return r.done=!0,r}},n.values=I,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var r=this;function t(t,e){return n.type="throw",n.arg=i,r.next=t,e&&(r.method="next",r.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var s=this.tryEntries[e],n=s.completion;if("root"===s.tryLoc)return t("end");if(s.tryLoc<=this.prev){var a=u.call(s,"catchLoc"),o=u.call(s,"finallyLoc");if(a&&o){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);if(this.prev<s.finallyLoc)return t(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return t(s.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return t(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var n=s?s.completion:{};return n.type=t,n.arg=e,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),T(i),d}},"catch":function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var s=r.arg;T(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:I(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=l),d}},n}("object"===(void 0===e?"undefined":N(e))?e.exports:{});try{regeneratorRuntime=r}catch(s){Function("r","regeneratorRuntime = r")(r)}},{}],471:[function(t,e,i){"use strict";function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),r.forEach(function(t){s(e,t,i[t])})}return e}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function i(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){return function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=t("buffer/").Buffer;function g(){var t=d(function c(t,e){var i=[];t instanceof g.Request?(i.push(t.url),i.push({method:t.method,headers:t.headers,body:t.body})):i.push(t,{});return Object.assign(i[1],e),i[1].headers=new g.Headers(i[1].headers||{}),i}.apply(void 0,arguments),2),e=t[0],i=t[1],r=new XMLHttpRequest;r.withCredentials="include"===i.credentials,r.timeout=i.timeout,r.open(i.method||"GET",e,!1);try{r.responseType="arraybuffer"}catch(h){}var s=!0,n=!1,a=undefined;try{for(var o,l=i.headers[Symbol.iterator]();!(s=(o=l.next()).done);s=!0){var u=o.value;r.setRequestHeader.apply(r,m(u))}}catch(f){n=!0,a=f}finally{try{s||null==l["return"]||l["return"]()}finally{if(n)throw a}}r.send(i.body||null);var p=r.getAllResponseHeaders();return p=p&&p.split("\r\n").filter(Boolean).map(function(t){return t.split(": ",2)}),new g.Response(r.response,{url:r.responseURL,status:r.status,statusText:r.statusText,headers:p,redirected:r.responseURL!==e})}var b=Symbol("SyncFetch Internals"),y=(c(v,self.Request),o(v,[{key:"clone",value:function(){return E(this),new v(this.url,this)}}]),v);function v(t){var e,i=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},r=2<arguments.length&&arguments[2]!==undefined?arguments[2]:i.body;return n(this,v),(e=l(this,p(v).call(this,t,i)))[b]={body:r?f.from(r):null},e}var _=(c(x,self.Response),o(x,[{key:"clone",value:function(){return E(this),new x(this[b].body,{url:this.url,headers:this.headers,status:this.status,statusText:this.statusText,redirected:this.redirected})}},{key:"url",get:function(){return this[b].url}},{key:"redirected",get:function(){return this[b].redirected}}]),x);function x(t){var e,i=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};return n(this,x),t=t?f.from(t):null,(e=l(this,p(x).call(this,function r(e){return new ReadableStream({start:function(t){t.enqueue(e),t.close()}})}(t),i)))[b]={url:i.url,redirected:i.redirected,body:t},e}var w=(o(A,[{key:"arrayBuffer",value:function(){E(this);var t=O(this);return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}},{key:"blob",value:function(){E(this);var t=this.headers&&this.headers.get("content-type");return new Blob([O(this)],t&&{type:t})}},{key:"text",value:function(){return E(this),O(this).toString()}},{key:"json",value:function(){E(this);try{return JSON.parse(O(this).toString())}catch(t){throw new TypeError("invalid json response body at ".concat(this.url," reason: ").concat(t.message),"invalid-json")}}},{key:"buffer",value:function(){return E(this),O(this).clone()}}],[{key:"mixin",value:function(t){var e=!0,i=!1,r=undefined;try{for(var s,n=Object.getOwnPropertyNames(A.prototype)[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var a=s.value,o=Object.getOwnPropertyDescriptor(A.prototype,a);Object.defineProperty(t,a,u({},o,{enumerable:!0}))}}catch(l){i=!0,r=l}finally{try{e||null==n["return"]||n["return"]()}finally{if(i)throw r}}}}]),A);function A(t){n(this,A),this[b]={body:f.from(t)}}function E(t){if(t.bodyUsed)throw new TypeError("body used already for: ".concat(t.url))}function O(t){return function i(t,e){return Object.getPrototypeOf(Object.getPrototypeOf(t))[e].bind(t)}(t,"arrayBuffer")(),t[b].body||f.alloc(0)}w.mixin(y.prototype),w.mixin(_.prototype),g.Headers=self.Headers,g.Request=y,g.Response=_,e.exports=g},{"buffer/":472}],472:[function(B,t,U){(function(c){"use strict";function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=B("base64-js"),n=B("ieee754"),t="function"==typeof Symbol&&"function"==typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;U.Buffer=c,U.SlowBuffer=function e(t){+t!=t&&(t=0);return c.alloc(+t)},U.INSPECT_MAX_BYTES=50;var i=2147483647;function l(t){if(i<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,i){if("number"!=typeof t)return s(t,e,i);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return o(t)}function s(t,e,i){if("string"==typeof t)return function n(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=0|f(t,e),r=l(i),s=r.write(t,e);s!==i&&(r=r.slice(0,s));return r}(t,e);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(t));if(R(t,ArrayBuffer)||t&&R(t.buffer,ArrayBuffer))return function a(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=e===undefined&&i===undefined?new Uint8Array(t):i===undefined?new Uint8Array(t,e):new Uint8Array(t,e,i);return Object.setPrototypeOf(r,c.prototype),r}(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,i);var s=function o(t){if(c.isBuffer(t)){var e=0|p(t.length),i=l(e);return 0===i.length||t.copy(i,0,0,e),i}if(t.length!==undefined)return"number"!=typeof t.length||D(t.length)?l(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}(t);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(t))}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function o(t){return a(t),l(t<0?0:0|p(t))}function u(t){for(var e=t.length<0?0:0|p(t.length),i=l(e),r=0;r<e;r+=1)i[r]=255&t[r];return i}function p(t){if(i<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||R(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+h(t));var i=t.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===i)return 0;for(var s=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return C(t).length;default:if(s)return r?-1:j(t).length;e=(""+e).toLowerCase(),s=!0}}function m(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function d(t,e,i,r,s){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),D(i=+i)&&(i=s?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(s)return-1;i=t.length-1}else if(i<0){if(!s)return-1;i=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:g(t,e,i,r,s);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):g(t,[e],i,r,s);throw new TypeError("val must be string, number or Buffer")}function g(t,e,i,r,s){var n,a=1,o=t.length,l=e.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o/=a=2,l/=2,i/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(s){var p=-1;for(n=i;n<o;n++)if(u(t,n)===u(e,-1===p?0:n-p)){if(-1===p&&(p=n),n-p+1===l)return p*a}else-1!==p&&(n-=n-p),p=-1}else for(o<i+l&&(i=o-l),n=i;0<=n;n--){for(var c=!0,h=0;h<l;h++)if(u(t,n+h)!==u(e,h)){c=!1;break}if(c)return n}return-1}function b(t,e,i,r){i=Number(i)||0;var s=t.length-i;r?s<(r=Number(r))&&(r=s):r=s;var n=e.length;n/2<r&&(r=n/2);for(var a=0;a<r;++a){var o=parseInt(e.substr(2*a,2),16);if(D(o))return a;t[i+a]=o}return a}function y(t,e,i,r){return P(function s(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function v(t,e,i){return 0===e&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,i))}function _(t,e,i){i=Math.min(t.length,i);for(var r=[],s=e;s<i;){var n,a,o,l,u=t[s],p=null,c=239<u?4:223<u?3:191<u?2:1;if(s+c<=i)switch(c){case 1:u<128&&(p=u);break;case 2:128==(192&(n=t[s+1]))&&127<(l=(31&u)<<6|63&n)&&(p=l);break;case 3:n=t[s+1],a=t[s+2],128==(192&n)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&n)<<6|63&a)&&(l<55296||57343<l)&&(p=l);break;case 4:n=t[s+1],a=t[s+2],o=t[s+3],128==(192&n)&&128==(192&a)&&128==(192&o)&&65535<(l=(15&u)<<18|(63&n)<<12|(63&a)<<6|63&o)&&l<1114112&&(p=l)}null===p?(p=65533,c=1):65535<p&&(p-=65536,r.push(p>>>10&1023|55296),p=56320|1023&p),r.push(p),s+=c}return function h(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=x));return i}(r)}U.kMaxLength=i,(c.TYPED_ARRAY_SUPPORT=function M(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(i){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){return c.isBuffer(this)?this.buffer:undefined}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){return c.isBuffer(this)?this.byteOffset:undefined}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(t,e,i){return s(t,e,i)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,i){return function r(t,e,i){return a(t),t<=0?l(t):e!==undefined?"string"==typeof i?l(t).fill(e,i):l(t).fill(e):l(t)}(t,e,i)},c.allocUnsafe=function(t){return o(t)},c.allocUnsafeSlow=function(t){return o(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(R(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),R(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,r=e.length,s=0,n=Math.min(i,r);s<n;++s)if(t[s]!==e[s]){i=t[s],r=e[s];break}return i<r?-1:r<i?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var i;if(e===undefined)for(i=e=0;i<t.length;++i)e+=t[i].length;var r=c.allocUnsafe(e),s=0;for(i=0;i<t.length;++i){var n=t[i];if(R(n,Uint8Array)&&(n=c.from(n)),!c.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(r,s),s+=n.length}return r},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):function s(t,e,i){var r=!1;if((e===undefined||e<0)&&(e=0),e>this.length)return"";if((i===undefined||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return E(this,e,i);case"utf8":case"utf-8":return _(this,e,i);case"ascii":return w(this,e,i);case"latin1":case"binary":return A(this,e,i);case"base64":return v(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=U.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},t&&(c.prototype[t]=c.prototype.inspect),c.prototype.compare=function(t,e,i,r,s){if(R(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+h(t));if(e===undefined&&(e=0),i===undefined&&(i=t?t.length:0),r===undefined&&(r=0),s===undefined&&(s=this.length),e<0||i>t.length||r<0||s>this.length)throw new RangeError("out of range index");if(s<=r&&i<=e)return 0;if(s<=r)return-1;if(i<=e)return 1;if(this===t)return 0;for(var n=(s>>>=0)-(r>>>=0),a=(i>>>=0)-(e>>>=0),o=Math.min(n,a),l=this.slice(r,s),u=t.slice(e,i),p=0;p<o;++p)if(l[p]!==u[p]){n=l[p],a=u[p];break}return n<a?-1:a<n?1:0},c.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},c.prototype.indexOf=function(t,e,i){return d(this,t,e,i,!0)},c.prototype.lastIndexOf=function(t,e,i){return d(this,t,e,i,!1)},c.prototype.write=function(t,e,i,r){if(e===undefined)r="utf8",i=this.length,e=0;else if(i===undefined&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,r===undefined&&(r="utf8")):(r=i,i=undefined)}var s=this.length-e;if((i===undefined||s<i)&&(i=s),0<t.length&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var n,a,o,l,u,p,c,h,f,m=!1;;)switch(r){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return h=e,f=i,P(j(t,(c=this).length-h),c,h,f);case"ascii":return y(this,t,e,i);case"latin1":case"binary":return y(this,t,e,i);case"base64":return l=this,u=e,p=i,P(C(t),l,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=e,o=i,P(function d(t,e){for(var i,r,s,n=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),r=i>>8,s=i%256,n.push(s),n.push(r);return n}(t,(n=this).length-a),n,a,o);default:if(m)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),m=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function w(t,e,i){var r="";i=Math.min(t.length,i);for(var s=e;s<i;++s)r+=String.fromCharCode(127&t[s]);return r}function A(t,e,i){var r="";i=Math.min(t.length,i);for(var s=e;s<i;++s)r+=String.fromCharCode(t[s]);return r}function E(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||r<i)&&(i=r);for(var s="",n=e;n<i;++n)s+=L[t[n]];return s}function O(t,e,i){for(var r=t.slice(e,i),s="",n=0;n<r.length;n+=2)s+=String.fromCharCode(r[n]+256*r[n+1]);return s}function T(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(i<t+e)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,i,r,s,n){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(s<e||e<n)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function I(t,e,i,r){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function k(t,e,i,r,s){return e=+e,i>>>=0,s||I(t,0,i,4),n.write(t,e,i,r,23,4),i+4}function N(t,e,i,r,s){return e=+e,i>>>=0,s||I(t,0,i,8),n.write(t,e,i,r,52,8),i+8}c.prototype.slice=function(t,e){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=e===undefined?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||T(t,e,this.length);for(var r=this[t],s=1,n=0;++n<e&&(s*=256);)r+=this[t+n]*s;return r},c.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||T(t,e,this.length);for(var r=this[t+--e],s=1;0<e&&(s*=256);)r+=this[t+--e]*s;return r},c.prototype.readUInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||T(t,e,this.length);for(var r=this[t],s=1,n=0;++n<e&&(s*=256);)r+=this[t+n]*s;return(s*=128)<=r&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||T(t,e,this.length);for(var r=e,s=1,n=this[t+--r];0<r&&(s*=256);)n+=this[t+--r]*s;return(s*=128)<=n&&(n-=Math.pow(2,8*e)),n},c.prototype.readInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||T(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,e){t>>>=0,e||T(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return t>>>=0,e||T(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||T(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||T(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||T(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||S(this,t,e,i,Math.pow(2,8*i)-1,0);var s=1,n=0;for(this[e]=255&t;++n<i&&(s*=256);)this[e+n]=t/s&255;return e+i},c.prototype.writeUIntBE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||S(this,t,e,i,Math.pow(2,8*i)-1,0);var s=i-1,n=1;for(this[e+s]=255&t;0<=--s&&(n*=256);)this[e+s]=t/n&255;return e+i},c.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var s=Math.pow(2,8*i-1);S(this,t,e,i,s-1,-s)}var n=0,a=1,o=0;for(this[e]=255&t;++n<i&&(a*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/a>>0)-o&255;return e+i},c.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var s=Math.pow(2,8*i-1);S(this,t,e,i,s-1,-s)}var n=i-1,a=1,o=0;for(this[e+n]=255&t;0<=--n&&(a*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/a>>0)-o&255;return e+i},c.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeFloatLE=function(t,e,i){return k(this,t,e,!0,i)},c.prototype.writeFloatBE=function(t,e,i){return k(this,t,e,!1,i)},c.prototype.writeDoubleLE=function(t,e,i){return N(this,t,e,!0,i)},c.prototype.writeDoubleBE=function(t,e,i){return N(this,t,e,!1,i)},c.prototype.copy=function(t,e,i,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i=i||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),e=e||0,0<r&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var s=r-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,i,r);else if(this===t&&i<e&&e<r)for(var n=s-1;0<=n;--n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,r),e);return s},c.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var s=t.charCodeAt(0);("utf8"===r&&s<128||"latin1"===r)&&(t=s)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var n;if(e>>>=0,i=i===undefined?this.length:i>>>0,"number"==typeof(t=t||0))for(n=e;n<i;++n)this[n]=t;else{var a=c.isBuffer(t)?t:c.from(t,r),o=a.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<i-e;++n)this[n+e]=a[n%o]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function j(t,e){var i;e=e||Infinity;for(var r=t.length,s=null,n=[],a=0;a<r;++a){if(55295<(i=t.charCodeAt(a))&&i<57344){if(!s){if(56319<i){-1<(e-=3)&&n.push(239,191,189);continue}if(a+1===r){-1<(e-=3)&&n.push(239,191,189);continue}s=i;continue}if(i<56320){-1<(e-=3)&&n.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&-1<(e-=3)&&n.push(239,191,189);if(s=null,i<128){if((e-=1)<0)break;n.push(i)}else if(i<2048){if((e-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return n}function C(t){return r.toByteArray(function e(t){if((t=(t=t.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function P(t,e,i,r){for(var s=0;s<r&&!(s+i>=e.length||s>=t.length);++s)e[s+i]=t[s];return s}function R(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function D(t){return t!=t}var L=function(){for(var t="0123456789abcdef",e=new Array(256),i=0;i<16;++i)for(var r=16*i,s=0;s<16;++s)e[r+s]=t[i]+t[s];return e}()}).call(this,B("buffer").Buffer)},{"base64-js":102,buffer:103,ieee754:463}],473:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s;s=function(o){var i="URLSearchParams"in self,r="Symbol"in self&&"iterator"in Symbol,l="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in self,n="ArrayBuffer"in self;if(n)var e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(t){return t&&-1<e.indexOf(Object.prototype.toString.call(t))};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function p(t){return"string"!=typeof t&&(t=String(t)),t}function t(e){var t={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(i){return new Promise(function(t,e){i.onload=function(){t(i.result)},i.onerror=function(){e(i.error)}})}function m(t){var e=new FileReader,i=f(e);return e.readAsArrayBuffer(t),i}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:l&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n&&l&&function e(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n&&(ArrayBuffer.prototype.isPrototypeOf(t)||a(t))?this._bodyArrayBuffer=d(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function r(t){var e=new FileReader,i=f(e);return e.readAsText(t),i}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function s(t){for(var e=new Uint8Array(t),i=new Array(e.length),r=0;r<e.length;r++)i[r]=String.fromCharCode(e[r]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=u(t),e=p(e);var i=this.map[t];this.map[t]=i?i+", "+e:e},c.prototype["delete"]=function(t){delete this.map[u(t)]},c.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},c.prototype.set=function(t,e){this.map[u(t)]=p(e)},c.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},c.prototype.keys=function(){var i=[];return this.forEach(function(t,e){i.push(e)}),t(i)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),t(e)},c.prototype.entries=function(){var i=[];return this.forEach(function(t,e){i.push([e,t])}),t(i)},r&&(c.prototype[Symbol.iterator]=c.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(t,e){var i=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function r(t){var e=t.toUpperCase();return-1<b.indexOf(e)?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var s=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),i=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");s.append(decodeURIComponent(i),decodeURIComponent(r))}}),s}function _(t,e){e=e||{},this.type="default",this.status=e.status===undefined?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];_.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},o.DOMException=self.DOMException;try{new o.DOMException}catch(A){o.DOMException=function(t,e){this.message=t,this.name=e;var i=Error(t);this.stack=i.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function w(n,a){return new Promise(function(r,t){var e=new y(n,a);if(e.signal&&e.signal.aborted)return t(new o.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function i(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:function i(t){var s=new c;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),i=e.shift().trim();if(i){var r=e.join(":").trim();s.append(i,r)}}),s}(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;r(new _(e,t))},s.onerror=function(){t(new TypeError("Network request failed"))},s.ontimeout=function(){t(new TypeError("Network request failed"))},s.onabort=function(){t(new o.DOMException("Aborted","AbortError"))},s.open(e.method,e.url,!0),"include"===e.credentials?s.withCredentials=!0:"omit"===e.credentials&&(s.withCredentials=!1),"responseType"in s&&l&&(s.responseType="blob"),e.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),e.signal&&(e.signal.addEventListener("abort",i),s.onreadystatechange=function(){4===s.readyState&&e.signal.removeEventListener("abort",i)}),s.send("undefined"==typeof e._bodyInit?null:e._bodyInit)})}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=c,self.Request=y,self.Response=_),o.Headers=c,o.Request=y,o.Response=_,o.fetch=w,Object.defineProperty(o,"__esModule",{value:!0})},"object"===(void 0===i?"undefined":r(i))&&void 0!==e?s(i):"function"==typeof define&&define.amd?define(["exports"],s):s((void 0).WHATWGFetch={})},{}],474:[function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=t("./wikibase_time_to_date_object"),n={isNumericId:function(t){return/^[1-9][0-9]*$/.test(t)},isEntityId:function(t){return/^(Q|P|L)[1-9][0-9]*$/.test(t)},isItemId:function(t){return/^Q[1-9][0-9]*$/.test(t)},isPropertyId:function(t){return/^P[1-9][0-9]*$/.test(t)},isLexemeId:function(t){return/^L[1-9][0-9]*$/.test(t)},isGuid:function(t){return/^(Q|P|L)\d+\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)},isRevisionId:function(t){return/^\d+$/.test(t)},isEntityPageTitle:function(t){if("string"!=typeof t)return!1;var e=o(t.split(":"),2),i=e[0],r=e[1];return i&&r?l(i)&&n["is".concat(i,"Id")](r):(r=i,n.isItemId(r))}},a=["Item","Property","Lexeme"],l=function l(t){return a.includes(t)};n.getNumericId=function(t){if(!n.isEntityId(t))throw new Error("invalid wikidata id: ".concat(t));return t.replace(/Q|P/,"")},n.wikibaseTimeToDateObject=r;var u=function u(a){return function(t){try{return a(t)}catch(n){var e=(t=t.time||t)[0],i=o(t.slice(1).split("T"),2),r=i[0],s=i[1];return r=r.replace(/-00/g,"-01"),"".concat(e).concat(r,"T").concat(s)}}},p=function p(t){return r(t).getTime()},c=function c(t){return r(t).toISOString()},h=function h(t){if("object"===s(t)){var e=t,i=e.time,r=e.precision;t=9===r?i.replace("-01-01T","-00-00T"):10===r?i.replace("-01T","-00T"):i}return t.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")};n.wikibaseTimeToEpochTime=u(p),n.wikibaseTimeToISOString=u(c),n.wikibaseTimeToSimpleDay=u(h),n.getImageUrl=function(t,e){var i="https://commons.wikimedia.org/wiki/Special:FilePath/".concat(t);return"number"==typeof e&&(i+="?width=".concat(e)),i},e.exports=n},{"./wikibase_time_to_date_object":487}],475:[function(t,e,i){"use strict";var r=t("./helpers"),s=r.wikibaseTimeToISOString,n=r.wikibaseTimeToEpochTime,a=r.wikibaseTimeToSimpleDay,o=function o(t){return t.value},l=function l(t,e){return p(t,e.entityPrefix)},u={item:"Q",lexeme:"L",property:"P"},p=function p(t,e){var i=t.value,r=i.id||u[i["entity-type"]]+i["numeric-id"];return"string"==typeof e?"".concat(e,":").concat(r):r},c=function c(t,e){var i;if(i="function"==typeof e.timeConverter?e.timeConverter(t.value):h(e.timeConverter)(t.value),e.keepRichValues){var r=t.value;return{time:i,timezone:r.timezone,before:r.before,after:r.after,precision:r.precision,calendarmodel:r.calendarmodel}}return i},h=function h(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"iso",e=f[t];if(!e)throw new Error("invalid converter key: ".concat(JSON.stringify(t).substring(0,100)));return e},f={iso:s,epoch:n,"simple-day":a,none:function(t){return t.time||t}},m={string:o,commonsMedia:o,url:o,"external-id":o,math:o,monolingualtext:function d(t,e){return e.keepRichValues?t.value:t.value.text},"wikibase-item":l,"wikibase-lexeme":l,"wikibase-property":l,time:c,quantity:function g(t,e){var i=t.value,r=parseFloat(i.amount);if(e.keepRichValues){var s={amount:parseFloat(i.amount),unit:i.unit.replace(/^https?:\/\/.*\/entity\//,"")};return null!=i.upperBound&&(s.upperBound=parseFloat(i.upperBound)),null!=i.lowerBound&&(s.lowerBound=parseFloat(i.lowerBound)),s}return r},"globe-coordinate":function b(t,e){return e.keepRichValues?t.value:[t.value.latitude,t.value.longitude]},"geo-shape":o,"tabular-data":o,"musical-notation":o};e.exports={parsers:m,parse:function(t,e,i,r){if(!t)return console.error("invalid claim",r),null;try{return m[t](e,i)}catch(s){throw"parsers[datatype] is not a function"===s.message&&(s.message="".concat(t," claim parser isn't implemented\n        Claim id: ").concat(r,"\n        Please report to https://github.com/maxlath/wikibase-sdk/issues")),s}}}},{"./helpers":474}],476:[function(t,e,i){"use strict";var r=t("./simplify_entity").simplifyEntity;e.exports={wd:{entities:function s(t){var s=(t=t.body||t).entities;return Object.keys(s).forEach(function(t){s[t]=r(s[t])}),s}}}},{"./simplify_entity":480}],477:[function(t,e,i){"use strict";var r=function r(t){var e=t.reduce(s,{});return e.preferred||e.normal||[]},s=function s(t,e){var i=e.rank;return t[i]||(t[i]=[]),t[i].push(e),t},n=function n(e){var i={};return Object.keys(e).forEach(function(t){i[t]=r(e[t])}),i};e.exports={truthyClaims:n,truthyPropertyClaims:r}},{}],478:[function(t,e,i){"use strict";var r=t("./simplify_text_attributes"),s=r.labels,n=r.descriptions,a=r.aliases,o=t("./simplify_entity"),l=o.simplifyEntity,u=o.simplifyEntities,p=t("./simplify_claims"),c=p.simplifyClaim,h=p.simplifyPropertyClaims,f=p.simplifyClaims,m=p.simplifyQualifier,d=p.simplifyPropertyQualifiers,g=p.simplifyQualifiers,b=t("./simplify_sitelinks"),y=t("./simplify_sparql_results");e.exports={entity:l,entities:u,labels:s,descriptions:n,aliases:a,claim:c,propertyClaims:h,claims:f,qualifier:m,propertyQualifiers:d,qualifiers:g,sitelinks:b,sparqlResults:y}},{"./simplify_claims":479,"./simplify_entity":480,"./simplify_sitelinks":481,"./simplify_sparql_results":482,"./simplify_text_attributes":483}],479:[function(t,e,i){"use strict";function r(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var A=t("./parse_claim").parse,l=t("../utils/utils").uniq,u=t("./rank").truthyPropertyClaims,E=function E(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var s=T(i).propertyPrefix,n={};for(var a in t){var o=t[a];s&&(a=s+":"+a),n[a]=p.apply(void 0,[o].concat(i))}return n},p=function p(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];if(null==t||0===t.length)return[];var s=T(i),n=s.keepNonTruthy,a=s.areSubSnaks;return n||a||(t=u(t)),(t=t.map(function(t){return O.apply(void 0,[t].concat(i))}).filter(c))[0]&&"object"!==o(t[0])?l(t):t},c=function c(t){return t!==undefined},O=function O(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];i=T(i);var s,n,a,o,l,u,p=I(i),c=p.keepQualifiers,h=p.keepReferences,f=p.keepIds,m=p.keepHashes,d=p.keepTypes,g=p.keepSnaktypes,b=p.keepRanks,y=t.mainsnak,v=t.rank;if(y?(n=y.datatype,a=y.datavalue,o=y.snaktype):(a=t.datavalue,n=t.datatype,o=t.snaktype,t.hash?l=!0:u=!0),a)s=A(n,a,i,t.id);else if("somevalue"===o)s=i.somevalueValue;else{if("novalue"!==o)throw new Error("no datavalue or special snaktype found");s=i.novalueValue}if(l){if(!(m||d||g))return s;var _={value:s};return m&&(_.hash=t.hash),d&&(_.type=n),g&&(_.snaktype=o),_}if(u)return d?{type:n,value:s}:s;if(!(c||h||f||d||g||b))return s;var x={value:s};d&&(x.type=n),g&&(x.snaktype=o),b&&(x.rank=v);var w=S(i);return w.keepHashes=m,c&&(x.qualifiers=E(t.qualifiers,w)),h&&(t.references=t.references||[],x.references=t.references.map(function(t){var e=E(t.snaks,w);return m?{snaks:e,hash:t.hash}:e})),f&&(x.id=t.id),x},T=function T(t){if(null==t)return{};if(t[0]&&"object"===o(t[0]))return t[0];var e=r(t,3);return{entityPrefix:e[0],propertyPrefix:e[1],keepQualifiers:e[2]}},s=function s(t,e){return E(t,S(e))},n=function n(t,e){return p(t,S(e))},S=function S(t){return Object.assign({},t,{areSubSnaks:!0})},a=["keepQualifiers","keepReferences","keepIds","keepHashes","keepTypes","keepSnaktypes","keepRanks"],I=function I(e){return e.keepAll&&a.forEach(function(t){null==e[t]&&(e[t]=!0)}),e};e.exports={simplifyClaims:E,simplifyPropertyClaims:p,simplifyClaim:O,simplifyQualifiers:s,simplifyPropertyQualifiers:n,simplifyQualifier:O}},{"../utils/utils":498,"./parse_claim":475,"./rank":477}],480:[function(t,e,i){"use strict";var r=t("./simplify_claims").simplifyClaims,s=t("./simplify_text_attributes"),n=t("./simplify_sitelinks"),a=function a(t,e){var i={id:t.id,type:t.type,modified:t.modified};return t.datatype&&(i.datatype=t.datatype),o(t,i,"labels"),o(t,i,"descriptions"),o(t,i,"aliases"),null!=t.claims&&(i.claims=r(t.claims,e)),null!=t.sitelinks&&(i.sitelinks=n(t.sitelinks,e)),i},o=function o(t,e,i){null!=t[i]&&(e[i]=s[i](t[i]))},l=function l(r){var s=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};r.entities&&(r=r.entities);var n=s.entityPrefix;return Object.keys(r).reduce(function(t,e){var i=r[e];return n&&(e="".concat(n,":").concat(e)),t[e]=a(i,s),t},{})};e.exports={simplifyEntity:a,simplifyEntities:l}},{"./simplify_claims":479,"./simplify_sitelinks":481,"./simplify_text_attributes":483}],481:[function(t,e,i){"use strict";var n=t("./sitelinks").getSitelinkUrl;e.exports=function(t){var e=(1<arguments.length&&arguments[1]!==undefined?arguments[1]:{}).addUrl;return Object.keys(t).reduce(a(t,e),{})};var a=function a(r,s){return function(t,e){var i=r[e].title;return t[e]=s?{title:i,url:n(e,i)}:i,t}}},{"./sitelinks":484}],482:[function(t,e,i){"use strict";e.exports=function(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};"string"==typeof t&&(t=JSON.parse(t));var i=t.head.vars,r=t.results.bindings;if(1===i.length&&!0===e.minimize){var s=i[0];return r.map(function(t){return T(t[s])}).filter(function(t){return null!=t})}var n=p(i),a=n.richVars,o=n.associatedVars,l=n.standaloneVars;return r.map(h(a,o,l))};var T=function T(t){if(t){var e=t.datatype;return e=e&&e.replace("http://www.w3.org/2001/XMLSchema#",""),(r[t.type]||n(e))(t)}},r={uri:function(t){return l(t.value)},bnode:function(){return null}},s=function s(t){return parseFloat(t.value)},n=function n(t){return t=t&&t.replace("http://www.w3.org/2001/XMLSchema#",""),a[t]||o},a={decimal:s,integer:s,"float":s,"double":s,"boolean":function(t){return"true"===t.value}},o=function o(t){return t.value},l=function l(t){return t.match(/http.*\/entity\/statement\//)?u(t):t.replace(/^https?:\/\/.*\/entity\//,"").replace(/^https?:\/\/.*\/prop\/direct\//,"")},u=function u(t){var e=(t=t.replace(/^https?:\/\/.*\/entity\/statement\//,"")).split("-");return e[0]+"$"+e.slice(1).join("-")},p=function p(e){var i=e.filter(function(t){return e.some(c(t))}),r=new RegExp("^(".concat(i.join("|"),")[A-Z]")),t=e.filter(function(t){return r.test(t)}),s=e.filter(function(t){return!i.includes(t)&&!r.test(t)});return{richVars:i,associatedVars:t,standaloneVars:s}},c=function c(t){var e=new RegExp("^".concat(t,"[A-Z]\\w+"));return e.test.bind(e)},h=function h(A,E,O){return function(t){var e={},i=!0,r=!1,s=undefined;try{for(var n,a=A[Symbol.iterator]();!(i=(n=a.next()).done);i=!0){var o=n.value,l={},u=T(t[o]);null!=u&&(l.value=u);var p=!0,c=!1,h=undefined;try{for(var f,m=E[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var d=f.value;d.startsWith(o)&&S(t,o,d,l)}}catch(w){c=!0,h=w}finally{try{p||null==m["return"]||m["return"]()}finally{if(c)throw h}}0<Object.keys(l).length&&(e[o]=l)}}catch(w){r=!0,s=w}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw s}}var g=!0,b=!1,y=undefined;try{for(var v,_=O[Symbol.iterator]();!(g=(v=_.next()).done);g=!0){var x=v.value;e[x]=T(t[x])}}catch(w){b=!0,y=w}finally{try{g||null==_["return"]||_["return"]()}finally{if(b)throw y}}return e}},S=function S(t,e,i,r){var s=i.split(e)[1];s=s[0].toLowerCase()+s.slice(1),s=f[s]||s;var n=t[i];null!=n&&(r[s]=n.value)},f={altLabel:"aliases"}},{}],483:[function(t,e,i){"use strict";var r=function r(e){return function(t){return Object.keys(t).reduce(n(t,e),{})}},n=function n(r,s){return function(t,e){var i=r[e];return t[e]=s?i.map(a):i.value,t}},a=function a(t){return t.value},s=r(!1);e.exports={labels:s,descriptions:s,aliases:r(!0)}},{}],484:[function(t,e,i){"use strict";function a(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=t("../utils/utils"),o=r.fixedEncodeURIComponent,l=r.replaceSpaceByUnderscores,u=r.isPlainObject,s=t("./helpers").isPropertyId,n="https://www.wikidata.org/wiki/",p=t("./sitelinks_languages"),c=function c(t,e){if(u(t)&&(e=t.title,t=t.site),!t)throw new Error("missing a site");if(!e)throw new Error("missing a title");var i=t.replace(/wiki$/,""),r=f[i]||f[t];if(r)return r(e);var s=m(t),n=s.lang,a=s.project;return e=o(l(e)),"https://".concat(n,".").concat(a,".org/wiki/").concat(e)},h=function h(e){return function(t){return"https://".concat(e,".wikimedia.org/wiki/").concat(t)}},f={commons:h("commons"),mediawiki:function(t){return"https://www.mediawiki.org/wiki/".concat(t)},meta:h("meta"),species:h("species"),wikidata:function(t){return s(t)?"".concat(n,"Property:").concat(t):"".concat(n).concat(t)},wikimania:h("wikimania")},m=function m(t){var e=d[t];if(e)return{lang:"en",project:e};var i=a(t.split("wik"),3),r=i[0],s=i[1];if(null!=i[2])throw new Error("invalid sitelink: ".concat(t));if(-1===p.indexOf(r))throw new Error("sitelink lang not found: ".concat(r));var n=b[s];if(!n)throw new Error("sitelink project not found: ".concat(n));return{lang:r,project:n}},d={commonswiki:"commons",mediawikiwiki:"mediawiki",metawiki:"meta",specieswiki:"specieswiki",wikidatawiki:"wikidata",wikimaniawiki:"wikimania"},g=function g(t){try{return m(t),!0}catch(e){return!1}},b={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"};e.exports={getSitelinkUrl:c,getSitelinkData:m,isSitelinkKey:g}},{"../utils/utils":498,"./helpers":474,"./sitelinks_languages":485}],485:[function(t,e,i){"use strict";e.exports=["aa","ab","af","ak","als","am","ang","an","ar","ast","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","chr","ch","co","cr","csb","cs","cv","cy","da","de","dv","dz","el","en","eo","es","et","eu","fa","fi","fj","fo","fr","fy","ga","gd","gl","gn","got","gu","gv","ha","he","hif","hi","hr","hsb","ht","hu","hy","ia","id","ie","ik","io","is","it","iu","ja","jbo","jv","ka","kk","kl","km","kn","ko","kr","ks","ku","kw","ky","la","lb","li","ln","lo","lt","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","nah","na","nds","ne","nl","nn","no","oc","om","or","pa","pi","pl","pms","pnb","ps","pt","qu","rm","rn","roa_rup","ro","ru","rw","sah","sa","scn","sc","sd","se","sg","sh","simple","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tpi","tr","ts","tt","tw","ug","uk","ur","uz","vec","vi","vo","wa","wo","xh","yi","yo","yue","za","zh_min_nan","zh","zu","ace","arc","arz","bar","bat_smg","bcl","be_x_old","bjn","bpy","bug","bxr","cbk_zam","cdo","ce","ceb","cho","chy","ckb","crh","cu","diq","dsb","ee","eml","ext","ff","fiu_vro","frp","frr","fur","gag","gan","glk","hak","haw","ho","hz","ig","ii","ilo","kaa","kab","kbd","kg","ki","kj","koi","krc","ksh","kv","lad","lbe","lez","lg","lij","lmo","ltg","mai","map_bms","mdf","mhr","min","mrj","mus","mwl","myv","mzn","nap","nds_nl","new","ng","nov","nrm","nso","nv","ny","os","pag","pam","pap","pcd","pdc","pfl","pih","pnt","rmy","roa_tara","rue","sco","srn","stq","szl","tet","tum","ty","tyv","udm","ve","vep","vls","war","wuu","xal","xmf","zea","zh_classical","zh_yue","lrc","gom","azb","ady","jam","tcy","olo","dty","atj","kbp","din","gor","inh","lfn","sat","shn","hyw"]},{}],486:[function(t,e,i){"use strict";var r=t("./helpers"),s=function s(e,i){return function(t){if(!r[i](t))throw new Error("invalid ".concat(e,": ").concat(t))}};e.exports={entityId:s("entity id","isEntityId"),propertyId:s("property id","isPropertyId"),entityPageTitle:s("entity page title","isEntityPageTitle"),revisionId:s("revision id","isRevisionId")}},{"./helpers":474}],487:[function(t,e,i){"use strict";function a(t,e){return function i(t){if(Array.isArray(t))return t}(t)||function u(t,e){var i=[],r=!0,s=!1,n=undefined;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(l){s=!0,n=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return i}(t,e)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports=function(t){"object"===o(t)&&(t=t.time);var e=t[0],i=a(t.slice(1).split("T"),2),r=i[0],s=i[1];r=r.replace(/-00/g,"-01");var n="".concat(r,"T").concat(s);return l(e,n)};var l=function l(t,e){var i=e.split("-")[0];return"-"===t||4<i.length?s(t,e,i):new Date(e)},s=function s(t,e,i){var r;return r=4===i.length?"".concat(t,"00").concat(e):5===i.length?"".concat(t,"0").concat(e):t+e,new Date(r)}},{}],488:[function(t,e,i){"use strict";var r=t("../utils/utils"),l=r.isPlainObject,u=r.forceArray,p=r.shortLang,c=t("../helpers/validate");e.exports=function(o){return function(t,e,i,r,s){if(l(t)){var n=t;t=n.ids,e=n.languages,i=n.props,r=n.format,s=n.redirects}if(r=r||"json",!(t&&0<t.length))throw new Error("no id provided");(t=u(t)).forEach(c.entityId),50<t.length&&console.warn("getEntities accepts 50 ids max to match Wikidata API limitations:\n      this request won't get all the desired entities.\n      You can use getManyEntities instead to generate several request urls\n      to work around this limitation");var a={action:"wbgetentities",ids:t.join("|"),format:r};return!1===s&&(a.redirects="no"),e&&(e=u(e).map(p),a.languages=e.join("|")),i&&0<i.length&&(a.props=u(i).join("|")),o(a)}}},{"../helpers/validate":486,"../utils/utils":498}],489:[function(t,e,i){"use strict";var r=t("../utils/utils"),u=r.isPlainObject,p=r.forceArray,c=r.shortLang;e.exports=function(l){return function(t,e,i,r,s,n){if(u(t)){var a=t;t=a.titles,e=a.sites,i=a.languages,r=a.props,s=a.format,n=a.redirects}if(s=s||"json",!(t&&0<t.length))throw new Error("no titles provided");e&&0<e.length||(e=["enwiki"]),t=p(t),e=p(e).map(h),r=p(r);var o={action:"wbgetentities",titles:t.join("|"),sites:e.join("|"),format:s};return 1===e.length&&1===t.length&&(o.normalize=!0),i&&(i=p(i).map(c),o.languages=i.join("|")),r&&0<r.length&&(o.props=r.join("|")),!1===n&&(o.redirects="no"),l(o)}};var h=function h(t){return 2===t.length?"".concat(t,"wiki"):t}},{"../utils/utils":498}],490:[function(t,e,i){"use strict";var r=t("../helpers/validate"),s=t("../utils/utils").isPlainObject;e.exports=function(i){return function(t,e){return s(t)&&(e=t.revision,t=t.id),r.entityId(t),r.revisionId(e),"".concat(i,"/w/index.php?title=Special:EntityData/").concat(t,".json&oldid=").concat(e)}}},{"../helpers/validate":486,"../utils/utils":498}],491:[function(e,t,i){"use strict";var o=e("../utils/utils").isPlainObject;t.exports=function(t){var a=e("./get_entities")(t);return function(t,e,i,r,s){if(o(t)){var n=t;t=n.ids,e=n.languages,i=n.props,r=n.format,s=n.redirects}if(!(t instanceof Array))throw new Error("getManyEntities expects an array of ids");return l(t).map(function(t){return a(t,e,i,r,s)})}};var l=function l(t){for(var e=[];0<t.length;){var i=t.slice(0,50);t=t.slice(50),e.push(i)}return e}},{"../utils/utils":498,"./get_entities":488}],492:[function(e,t,i){"use strict";var h=e("../utils/utils").forceArray,r=e("../helpers/helpers").isItemId,f=e("../helpers/validate");t.exports=function(t){var c=e("./sparql_query")(t);return function(t,e){var i=2<arguments.length&&arguments[2]!==undefined?arguments[2]:{},r=i.limit,s=i.caseInsensitive,n=i.keepProperties,a=s?g:d,o=n?"":"FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ",l=h(t);l.forEach(f.propertyId),l=l.map(b).join("|");var u=m(e,a,l,o),p="SELECT DISTINCT ?subject WHERE { ".concat(u," }");return r&&(p+=" LIMIT ".concat(r)),c(p)}};var m=function m(t,e,i,r){return t instanceof Array?"{ "+t.map(s).map(function(t){return e(i,t,r)}).join("} UNION {")+" }":e(i,s(t),r)},s=function s(t){return r(t)?t="wd:".concat(t):"string"==typeof t&&(t="'".concat(t,"'")),t},d=function d(t,e,i,r){return"?subject ".concat(t," ").concat(e," .\n    ").concat(i)},g=function g(t,e,i,r){return"?subject ".concat(t," ?value .\n    FILTER (lcase(?value) = ").concat(e.toLowerCase(),")\n    ").concat(i)},b=function b(t){return"wdt:"+t}},{"../helpers/helpers":474,"../helpers/validate":486,"../utils/utils":498,"./sparql_query":495}],493:[function(t,e,i){"use strict";var n=t("../utils/utils").forceArray,a=t("../helpers/validate");e.exports=function(s){return function(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};(t=n(t)).forEach(a.entityPageTitle);var i=1===t.length,r={action:"query",prop:"revisions"};return r.titles=t.join("|"),r.format=e.format||"json",i&&(r.rvlimit=e.limit||"max"),i&&e.start&&(r.rvstart=o(e.start)),i&&e.end&&(r.rvend=o(e.end)),s(r)}};var o=function o(t){return"number"==typeof t&&t<r?t:Math.trunc(new Date(t).getTime()/1e3)},r=new Date("2000-01-01").getTime()},{"../helpers/validate":486,"../utils/utils":498}],494:[function(t,e,i){"use strict";var u=t("../utils/utils").isPlainObject,p=["item","property","lexeme","form","sense"];e.exports=function(l){return function(t,e,i,r,s){var n,a;if(u(t)){var o=t;t=o.search,e=o.language,i=o.limit,a=o["continue"],r=o.format,s=o.uselang,n=o.type}if(!(t&&0<t.length))throw new Error("search can't be empty");if(e=e||"en",s=s||e,i=i||"20",r=r||"json",n=n||"item",!p.includes(n))throw new Error("invalid type: ".concat(n));return l({action:"wbsearchentities",search:t,language:e,limit:i,"continue":a,format:r,uselang:s,type:n})}}},{"../utils/utils":498}],495:[function(t,e,i){"use strict";var r=t("../utils/utils").fixedEncodeURIComponent;e.exports=function(i){return function(t){var e=r(t);return"".concat(i,"?format=json&query=").concat(e)}}},{"../utils/utils":498}],496:[function(t,e,i){"use strict";var r="undefined"!=typeof location&&"undefined"!=typeof document,s=t(r?"./querystring_lite":"querystring");e.exports=function(e){return function(t){return r&&(t.origin="*"),e+"?"+s.stringify(t)}}},{"./querystring_lite":497,querystring:469}],497:[function(t,e,i){"use strict";e.exports={stringify:function(t){var e="";for(var i in t){var r=t[i];r&&(e+="&".concat(i,"=").concat(r))}return e=e.slice(1),encodeURI?encodeURI(e):e}}},{}],498:[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports={shortLang:function(t){return t.toLowerCase().split("_")[0]},forceArray:function(t){return"string"==typeof t&&(t=[t]),t||[]},isPlainObject:function(t){return!(!t||"object"!==r(t)||t instanceof Array)},fixedEncodeURIComponent:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,s)},replaceSpaceByUnderscores:function(t){return t.replace(/\s/g,"_")},uniq:function(t){return Array.from(new Set(t))}};var s=function s(t){return"%"+t.charCodeAt(0).toString(16)}},{}],499:[function(l,t,e){"use strict";var u=l("./utils/utils").isPlainObject,i=l("./helpers/simplify"),r=l("./helpers/parse_responses"),s=l("./helpers/helpers"),n=l("../lib/helpers/sitelinks"),a=l("../lib/helpers/rank"),p=Object.assign({simplify:i,parse:r},s,n,a),c=function c(t){if(!u(t))throw new Error("invalid config");var e=t.instance,i=t.sparqlEndpoint;h("instance",e);var r,s=e.replace(/\/$/,"").replace("/w/api.php",""),n="".concat(s,"/w/api.php"),a=l("./utils/build_url")(n),o={searchEntities:l("./queries/search_entities")(a),getEntities:l("./queries/get_entities")(a),getManyEntities:l("./queries/get_many_entities")(a),getRevisions:l("./queries/get_revisions")(a),getEntityRevision:l("./queries/get_entity_revision")(e),getEntitiesFromSitelinks:l("./queries/get_entities_from_sitelinks")(a)};return r=i?(h("sparqlEndpoint",i),{sparqlQuery:l("./queries/sparql_query")(i),getReverseClaims:l("./queries/get_reverse_claims")(i)}):{sparqlQuery:f("sparqlQuery"),getReverseClaims:f("getReverseClaims")},Object.assign({instance:{root:s,apiEndpoint:n}},p,o,r)};Object.assign(c,p);var h=function h(t,e){if("string"!=typeof e||!e.startsWith("http"))throw new Error("invalid ".concat(t,": ").concat(e))},f=function f(t){return function(){throw new Error("".concat(t," requires a sparqlEndpoint to be set in configuration object"))}};t.exports=c},{"../lib/helpers/rank":477,"../lib/helpers/sitelinks":484,"./helpers/helpers":474,"./helpers/parse_responses":476,"./helpers/simplify":478,"./queries/get_entities":488,"./queries/get_entities_from_sitelinks":489,"./queries/get_entity_revision":490,"./queries/get_many_entities":491,"./queries/get_reverse_claims":492,"./queries/get_revisions":493,"./queries/search_entities":494,"./queries/sparql_query":495,"./utils/build_url":496,"./utils/utils":498}],500:[function(t,e,i){"use strict";e.exports=t("wikibase-sdk")({instance:"https://www.wikidata.org",sparqlEndpoint:"https://query.wikidata.org/sparql"})},{"wikibase-sdk":499}],"citation-js":[function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=t("@citation-js/core");t("@citation-js/plugin-bibjson"),t("@citation-js/plugin-bibtex"),t("@citation-js/plugin-csl"),t("@citation-js/plugin-doi"),t("@citation-js/plugin-ris"),t("@citation-js/plugin-wikidata");var n=t("citeproc"),a=t("@citation-js/name"),o=t("@citation-js/date");var l={getAttributedEntry:function(t,e,i){return t.replace(/^\s*<[a-z]+/i,"$& data-".concat(e,'="').concat(i,'"'))},getPrefixedEntry:function(t,e){return l.getAttributedEntry(t,"csl-entry-id",e)},getWrappedEntry:function(t,e,i){var r=function r(t,e){return"function"==typeof e?e(t):null==e?e:""};if(null==i.prepend&&null==i.append)return t;var s=r(e,i.prepend),n=r(e,i.append),a="",o="",l=t.match(/^([^>]+>)([\s\S]+)(<[^<]+)$/i);return l&&(a=l[1],t=l[2],o=l[3]),a+s+t+n+o}};function u(t,e){if(!(this instanceof u))return new u(t,e);var i=new s.Cite(t,e);this._options=i._options,this.log=i.log,this.data=i.data}u.prototype=Object.create(s.Cite.prototype),u.async=s.Cite.async,u.validateOptions=s.Cite.validateOptions,u.validateOutputOptions=s.Cite.validateOutputOptions,u.input=s.plugins.input.chain,u.inputAsync=s.plugins.input.chainAsync,u.util=Object.assign({attr:l},s.util),u.version={cite:s.version,citeproc:n.PROCESSOR_VERSION};var p,c,h,f,m=s.plugins.config.get("@csl");u.CSL={engine:t("@citation-js/plugin-csl/lib/engines").fetchEngine,item:function(t){return function(e){return t.find(function(t){return t.id===e})}},locale:function(t){return m.styles.get(m.styles.has(t)?t:"en-US")},style:function(t){return m.templates.get(m.templates.has(t)?t:"apa")},register:{addTemplate:m.templates.add.bind(m.templates),getTemplate:m.templates.get.bind(m.templates),hasTemplate:m.templates.has.bind(m.templates),addLocale:m.locales.add.bind(m.locales),getLocale:m.locales.get.bind(m.locales),hasLocale:m.locales.has.bind(m.locales)}},delete(u.plugins=function d(t){var e={};for(var i in t)e[i]="object"===r(t[i])?d(t[i]):t[i];return e}(s.plugins)).input.util.clean,u.parse=Object.assign({input:{chain:s.plugins.input.chain,chainAsync:s.plugins.input.chainAsync,chainLink:s.plugins.input.chainLink,chainLinkAsync:s.plugins.input.chainLinkAsync,data:s.plugins.input.data,dataAsync:s.plugins.input.dataAsync,type:s.plugins.input.type,async:{chain:s.plugins.input.chainAsync,chainLink:s.plugins.input.chainLinkAsync,data:s.plugins.input.dataAsync}},name:a.parse,date:o.parse,csl:s.plugins.input.util.clean,bibjson:t("@citation-js/plugin-bibjson").parsers.json.record,bibtex:(f=t("@citation-js/plugin-bibtex/lib/input"),{json:f.parsers.json.parse,prop:f.parsers.prop.parse,text:f.parsers.text.parse,type:f.parsers.type.parse}),bibtxt:(h=t("@citation-js/plugin-bibtex/lib/input/bibtxt"),{text:h.parse,textEntry:h.textEntry}),doi:(c=t("@citation-js/plugin-doi"),{api:c.parsers.api.parse,id:c.parsers.id.parse,async:{api:c.parsers.api.parseAsync}}),json:t("@citation-js/core/lib/plugin-common/input").parsers.json.parse,wikidata:(p=t("@citation-js/plugin-wikidata"),{json:p.parsers.entity.parse,list:p.parsers.id.parse,prop:p.parsers.prop.parse,type:p.parsers.prop.parseType,async:{json:p.parsers.entity.parseAsync,prop:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Promise.resolve(p.parsers.prop.parse.apply(this,e))}}})},u.plugins.input),u.get=Object.assign({dict:u.plugins.dict,name:a.format,date:o.format,bibtex:{json:t("@citation-js/plugin-bibtex/lib/output/json")["default"],label:t("@citation-js/plugin-bibtex/lib/output/label")["default"],text:t("@citation-js/plugin-bibtex/lib/output/text")["default"],type:t("@citation-js/plugin-bibtex/lib/output/type")["default"]},bibtxt:t("@citation-js/plugin-bibtex/lib/output/bibtxt")["default"],json:t("@citation-js/core/lib/plugin-common/output")["default"].data,label:t("@citation-js/core/lib/plugin-common/output")["default"].label},u.plugins.output),e.exports=u},{"@citation-js/core":10,"@citation-js/core/lib/plugin-common/input":15,"@citation-js/core/lib/plugin-common/output":19,"@citation-js/date":44,"@citation-js/name":47,"@citation-js/plugin-bibjson":50,"@citation-js/plugin-bibtex":52,"@citation-js/plugin-bibtex/lib/input":55,"@citation-js/plugin-bibtex/lib/input/bibtxt":53,"@citation-js/plugin-bibtex/lib/output/bibtxt":60,"@citation-js/plugin-bibtex/lib/output/json":62,"@citation-js/plugin-bibtex/lib/output/label":63,"@citation-js/plugin-bibtex/lib/output/text":64,"@citation-js/plugin-bibtex/lib/output/type":65,"@citation-js/plugin-csl":70,"@citation-js/plugin-csl/lib/engines":69,"@citation-js/plugin-doi":78,"@citation-js/plugin-ris":84,"@citation-js/plugin-wikidata":96,citeproc:104}]},{},[461,470]);